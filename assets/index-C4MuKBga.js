var ox=Object.defineProperty;var Bc=t=>{throw TypeError(t)};var ix=(t,e,r)=>e in t?ox(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Bt=(t,e,r)=>ix(t,typeof e!="symbol"?e+"":e,r),_i=(t,e,r)=>e.has(t)||Bc("Cannot "+r);var S=(t,e,r)=>(_i(t,e,"read from private field"),r?r.call(t):e.get(t)),W=(t,e,r)=>e.has(t)?Bc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),F=(t,e,r,s)=>(_i(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),se=(t,e,r)=>(_i(t,e,"access private method"),r);var ro=(t,e,r,s)=>({set _(n){F(t,e,n,r)},get _(){return S(t,e,s)}});import{j as a,u as ge,S as Po,c as Hr,B as ax,P as le,V as bh,a as Ms,b as Ct,d as Je,e as B,R as lx,f as wh,g as ml,h as _h,i as cx,C as jh,k as ux,l as dx,T as hx,m as Ao,n as Sh,A as fx,o as px,p as mx,F as gx,D as xx,q as yx,r as vx,s as Ch,t as bx,v as wx,O as gl,w as xl,x as Th,y as yl,z as vl,E as Nh,G as Rh,H as Eh,I as kh}from"./ui-C7oTKtxj.js";import{a as Ph,r as m,b as T,G as _x,g as bl,c as jx,d as ft}from"./vendor-CZEutdfj.js";import{u as Ah,a as Sx,L as ca,b as wl,N as _l,c as Cx,R as Tx,d as Xr,B as Nx}from"./router-CJOUMvh3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var Mh,$h,Uc=Ph;$h=Uc.createRoot,Mh=Uc.hydrateRoot;const Rx=1,Ex=1e6;let ji=0;function kx(){return ji=(ji+1)%Number.MAX_SAFE_INTEGER,ji.toString()}const Si=new Map,Hc=t=>{if(Si.has(t))return;const e=setTimeout(()=>{Si.delete(t),un({type:"REMOVE_TOAST",toastId:t})},Ex);Si.set(t,e)},Px=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Rx)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Hc(r):t.toasts.forEach(s=>{Hc(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},wo=[];let _o={toasts:[]};function un(t){_o=Px(_o,t),wo.forEach(e=>{e(_o)})}function Ax({...t}){const e=kx(),r=n=>un({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>un({type:"DISMISS_TOAST",toastId:e});return un({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:r}}function Oh(){const[t,e]=m.useState(_o);return m.useEffect(()=>(wo.push(e),()=>{const r=wo.indexOf(e);r>-1&&wo.splice(r,1)}),[t]),{...t,toast:Ax,dismiss:r=>un({type:"DISMISS_TOAST",toastId:r})}}function Mx(t,e=[]){let r=[];function s(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,x=(f==null?void 0:f[t][c])||l,v=m.useMemo(()=>g,Object.values(g));return a.jsx(x.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][c])||l,g=m.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[s,$x(n,...e)]}function $x(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Yo(t){const e=t+"CollectionProvider",[r,s]=Mx(e),[n,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:x}=p,v=T.useRef(null),b=T.useRef(new Map).current;return a.jsx(n,{scope:g,itemMap:b,collectionRef:v,children:x})};i.displayName=e;const l=t+"CollectionSlot",c=T.forwardRef((p,g)=>{const{scope:x,children:v}=p,b=o(l,x),_=ge(g,b.collectionRef);return a.jsx(Po,{ref:_,children:v})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=T.forwardRef((p,g)=>{const{scope:x,children:v,...b}=p,_=T.useRef(null),y=ge(g,_),w=o(u,x);return T.useEffect(()=>(w.itemMap.set(_,{ref:_,...b}),()=>void w.itemMap.delete(_))),a.jsx(Po,{[d]:"",ref:y,children:v})});h.displayName=u;function f(p){const g=o(t+"CollectionConsumer",p);return T.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((w,j)=>b.indexOf(w.ref.current)-b.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},f,s]}var jl="ToastProvider",[Sl,Ox,Ix]=Yo("Toast"),[Ih,Ak]=Hr("Toast",[Ix]),[Dx,Xo]=Ih(jl),Dh=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=t,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jl}\`. Expected non-empty \`string\`.`),a.jsx(Sl.Provider,{scope:e,children:a.jsx(Dx,{scope:e,label:r,duration:s,swipeDirection:n,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};Dh.displayName=jl;var Lh="ToastViewport",Lx=["F8"],ua="toast.viewportPause",da="toast.viewportResume",Fh=m.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=Lx,label:n="Notifications ({hotkey})",...o}=t,i=Xo(Lh,r),l=Ox(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=ge(e,h,i.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;m.useEffect(()=>{const v=b=>{var y;s.length!==0&&s.every(w=>b[w]||b.code===w)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),m.useEffect(()=>{const v=c.current,b=h.current;if(g&&v&&b){const _=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(ua);b.dispatchEvent(C),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(da);b.dispatchEvent(C),i.isClosePausedRef.current=!1}},w=C=>{!v.contains(C.relatedTarget)&&y()},j=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",_),v.addEventListener("focusout",w),v.addEventListener("pointermove",_),v.addEventListener("pointerleave",j),window.addEventListener("blur",_),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",_),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",_),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",_),window.removeEventListener("focus",y)}}},[g,i.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:v})=>{const _=l().map(y=>{const w=y.ref.current,j=[w,...Jx(w)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?_.reverse():_).flat()},[l]);return m.useEffect(()=>{const v=h.current;if(v){const b=_=>{var j,C,N;const y=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!y){const R=document.activeElement,E=_.shiftKey;if(_.target===v&&E){(j=u.current)==null||j.focus();return}const A=x({tabbingDirection:E?"backwards":"forwards"}),I=A.findIndex(M=>M===R);Ci(A.slice(I+1))?_.preventDefault():E?(C=u.current)==null||C.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,x]),a.jsxs(ax,{ref:c,role:"region","aria-label":n.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&a.jsx(ha,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});Ci(v)}}),a.jsx(Sl.Slot,{scope:r,children:a.jsx(le.ol,{tabIndex:-1,...o,ref:f})}),g&&a.jsx(ha,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});Ci(v)}})]})});Fh.displayName=Lh;var Vh="ToastFocusProxy",ha=m.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...n}=t,o=Xo(Vh,r);return a.jsx(bh,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&s()}})});ha.displayName=Vh;var Jo="Toast",Fx="toast.swipeStart",Vx="toast.swipeMove",Bx="toast.swipeCancel",Ux="toast.swipeEnd",Bh=m.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:n,onOpenChange:o,...i}=t,[l=!0,c]=Ms({prop:s,defaultProp:n,onChange:o});return a.jsx(Ct,{present:r||l,children:a.jsx(Kx,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:Je(t.onPause),onResume:Je(t.onResume),onSwipeStart:B(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:B(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:B(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:B(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Bh.displayName=Jo;var[Hx,zx]=Ih(Jo,{onClose(){}}),Kx=m.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=t,x=Xo(Jo,r),[v,b]=m.useState(null),_=ge(e,M=>b(M)),y=m.useRef(null),w=m.useRef(null),j=n||x.duration,C=m.useRef(0),N=m.useRef(j),R=m.useRef(0),{onToastAdd:E,onToastRemove:P}=x,k=Je(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=x.viewport)==null||V.focus()),i()}),A=m.useCallback(M=>{!M||M===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(k,M))},[k]);m.useEffect(()=>{const M=x.viewport;if(M){const V=()=>{A(N.current),u==null||u()},O=()=>{const U=new Date().getTime()-C.current;N.current=N.current-U,window.clearTimeout(R.current),c==null||c()};return M.addEventListener(ua,O),M.addEventListener(da,V),()=>{M.removeEventListener(ua,O),M.removeEventListener(da,V)}}},[x.viewport,j,c,u,A]),m.useEffect(()=>{o&&!x.isClosePausedRef.current&&A(j)},[o,j,x.isClosePausedRef,A]),m.useEffect(()=>(E(),()=>P()),[E,P]);const I=m.useMemo(()=>v?Gh(v):null,[v]);return x.viewport?a.jsxs(a.Fragment,{children:[I&&a.jsx(qx,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),a.jsx(Hx,{scope:r,onClose:k,children:Ph.createPortal(a.jsx(Sl.ItemSlot,{scope:r,children:a.jsx(lx,{asChild:!0,onEscapeKeyDown:B(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:B(t.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:B(t.onPointerDown,M=>{M.button===0&&(y.current={x:M.clientX,y:M.clientY})}),onPointerMove:B(t.onPointerMove,M=>{if(!y.current)return;const V=M.clientX-y.current.x,O=M.clientY-y.current.y,U=!!w.current,L=["left","right"].includes(x.swipeDirection),D=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,oe=L?D(0,V):0,z=L?0:D(0,O),Y=M.pointerType==="touch"?10:2,Q={x:oe,y:z},xe={originalEvent:M,delta:Q};U?(w.current=Q,so(Vx,h,xe,{discrete:!1})):zc(Q,x.swipeDirection,Y)?(w.current=Q,so(Fx,d,xe,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(V)>Y||Math.abs(O)>Y)&&(y.current=null)}),onPointerUp:B(t.onPointerUp,M=>{const V=w.current,O=M.target;if(O.hasPointerCapture(M.pointerId)&&O.releasePointerCapture(M.pointerId),w.current=null,y.current=null,V){const U=M.currentTarget,L={originalEvent:M,delta:V};zc(V,x.swipeDirection,x.swipeThreshold)?so(Ux,p,L,{discrete:!0}):so(Bx,f,L,{discrete:!0}),U.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),qx=t=>{const{__scopeToast:e,children:r,...s}=t,n=Xo(Jo,e),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return Yx(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(wh,{asChild:!0,children:a.jsx(bh,{...s,children:o&&a.jsxs(a.Fragment,{children:[n.label," ",r]})})})},Wx="ToastTitle",Uh=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(le.div,{...s,ref:e})});Uh.displayName=Wx;var Gx="ToastDescription",Hh=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(le.div,{...s,ref:e})});Hh.displayName=Gx;var zh="ToastAction",Kh=m.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?a.jsx(Wh,{altText:r,asChild:!0,children:a.jsx(Cl,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zh}\`. Expected non-empty \`string\`.`),null)});Kh.displayName=zh;var qh="ToastClose",Cl=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,n=zx(qh,r);return a.jsx(Wh,{asChild:!0,children:a.jsx(le.button,{type:"button",...s,ref:e,onClick:B(t.onClick,n.onClose)})})});Cl.displayName=qh;var Wh=m.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...n}=t;return a.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function Gh(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),Xx(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=s.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...Gh(s))}}),e}function so(t,e,r,{discrete:s}){const n=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),s?_h(n,o):n.dispatchEvent(o)}var zc=(t,e,r=0)=>{const s=Math.abs(t.x),n=Math.abs(t.y),o=s>n;return e==="left"||e==="right"?o&&s>r:!o&&n>r};function Yx(t=()=>{}){const e=Je(t);ml(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function Xx(t){return t.nodeType===t.ELEMENT_NODE}function Jx(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ci(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Qx=Dh,Yh=Fh,Xh=Bh,Jh=Uh,Qh=Hh,Zh=Kh,ef=Cl;function tf(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=tf(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function rf(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=tf(t))&&(s&&(s+=" "),s+=e);return s}const Kc=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qc=rf,Dn=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return qc(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=e,i=Object.keys(n).map(u=>{const d=r==null?void 0:r[u],h=o==null?void 0:o[u];if(d===null)return null;const f=Kc(d)||Kc(h);return n[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[x,v]=g;return Array.isArray(v)?v.includes({...o,...l}[x]):{...o,...l}[x]===v})?[...u,h,f]:u},[]);return qc(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sf=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ey={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...ey,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:sf("lucide",n),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const r=m.forwardRef(({className:s,...n},o)=>m.createElement(ty,{ref:o,iconNode:e,className:sf(`lucide-${Zx(t)}`,s),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ce("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ce("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ce("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ce("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ce("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tl="-",ay=t=>{const e=cy(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const l=i.split(Tl);return l[0]===""&&l.length!==1&&l.shift(),df(l,e)||ly(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&s[i]?[...c,...s[i]]:c}}},df=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?df(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const o=t.join(Tl);return(i=e.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Jc=/^\[(.+)\]$/,ly=t=>{if(Jc.test(t)){const e=Jc.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},cy=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return dy(Object.entries(t.classGroups),r).forEach(([o,i])=>{fa(i,s,o,e)}),s},fa=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?e:Qc(e,n);o.classGroupId=r;return}if(typeof n=="function"){if(uy(n)){fa(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{fa(i,Qc(e,o),r,s)})})},Qc=(t,e)=>{let r=t;return e.split(Tl).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},uy=t=>t.isThemeGetter,dy=(t,e)=>e?t.map(([r,s])=>{const n=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[e+i,l])):o);return[r,n]}):t,hy=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},hf="!",fy=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],o=e.length,i=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===n&&(s||l.slice(v,v+o)===e)){c.push(l.slice(d,v)),d=v+o;continue}if(b==="/"){h=v;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(hf),g=p?f.substring(1):f,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},py=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},my=t=>({cache:hy(t.cacheSize),parseClassName:fy(t),...ay(t)}),gy=/\s+/,xy=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,o=[],i=t.trim().split(gy);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let g=!!p,x=s(g?f.substring(0,p):f);if(!x){if(!g){l=u+(l.length>0?" "+l:l);continue}if(x=s(f),!x){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=py(d).join(":"),b=h?v+hf:v,_=b+x;if(o.includes(_))continue;o.push(_);const y=n(x,g);for(let w=0;w<y.length;++w){const j=y[w];o.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function yy(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=ff(e))&&(s&&(s+=" "),s+=r);return s}const ff=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=ff(t[s]))&&(r&&(r+=" "),r+=e);return r};function vy(t,...e){let r,s,n,o=i;function i(c){const u=e.reduce((d,h)=>h(d),t());return r=my(u),s=r.cache.get,n=r.cache.set,o=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=xy(c,r);return n(c,d),d}return function(){return o(yy.apply(null,arguments))}}const he=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},pf=/^\[(?:([a-z-]+):)?(.+)\]$/i,by=/^\d+\/\d+$/,wy=new Set(["px","full","screen"]),_y=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ty=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ut=t=>cs(t)||wy.has(t)||by.test(t),Jt=t=>$s(t,"length",$y),cs=t=>!!t&&!Number.isNaN(Number(t)),Ei=t=>$s(t,"number",cs),Xs=t=>!!t&&Number.isInteger(Number(t)),Ny=t=>t.endsWith("%")&&cs(t.slice(0,-1)),Z=t=>pf.test(t),Qt=t=>_y.test(t),Ry=new Set(["length","size","percentage"]),Ey=t=>$s(t,Ry,mf),ky=t=>$s(t,"position",mf),Py=new Set(["image","url"]),Ay=t=>$s(t,Py,Iy),My=t=>$s(t,"",Oy),Js=()=>!0,$s=(t,e,r)=>{const s=pf.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},$y=t=>jy.test(t)&&!Sy.test(t),mf=()=>!1,Oy=t=>Cy.test(t),Iy=t=>Ty.test(t),Dy=()=>{const t=he("colors"),e=he("spacing"),r=he("blur"),s=he("brightness"),n=he("borderColor"),o=he("borderRadius"),i=he("borderSpacing"),l=he("borderWidth"),c=he("contrast"),u=he("grayscale"),d=he("hueRotate"),h=he("invert"),f=he("gap"),p=he("gradientColorStops"),g=he("gradientColorStopPositions"),x=he("inset"),v=he("margin"),b=he("opacity"),_=he("padding"),y=he("saturate"),w=he("scale"),j=he("sepia"),C=he("skew"),N=he("space"),R=he("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Z,e],A=()=>[Z,e],I=()=>["",Ut,Jt],M=()=>["auto",cs,Z],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Z],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[cs,Z];return{cacheSize:500,separator:":",theme:{colors:[Js],spacing:[Ut,Jt],blur:["none","",Qt,Z],brightness:z(),borderColor:[t],borderRadius:["none","","full",Qt,Z],borderSpacing:A(),borderWidth:I(),contrast:z(),grayscale:D(),hueRotate:z(),invert:D(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[Ny,Jt],inset:k(),margin:k(),opacity:z(),padding:A(),saturate:z(),scale:z(),sepia:D(),skew:z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[Qt]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Z]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xs,Z]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Xs,Z]}],"grid-cols":[{"grid-cols":[Js]}],"col-start-end":[{col:["auto",{span:["full",Xs,Z]},Z]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Js]}],"row-start-end":[{row:["auto",{span:[Xs,Z]},Z]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,e]}],"min-w":[{"min-w":[Z,e,"min","max","fit"]}],"max-w":[{"max-w":[Z,e,"none","full","min","max","fit","prose",{screen:[Qt]},Qt]}],h:[{h:[Z,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qt,Jt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ei]}],"font-family":[{font:[Js]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",cs,Ei]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,Jt]}],"underline-offset":[{"underline-offset":["auto",Ut,Z]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),ky]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ey]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ay]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:O()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Ut,Z]}],"outline-w":[{outline:[Ut,Jt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ut,Jt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qt,My]}],"shadow-color":[{shadow:[Js]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qt,Z]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Xs,Z]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ut,Jt,Ei]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ly=vy(Dy);function G(...t){return Ly(rf(t))}const Fy=Qx,gf=m.forwardRef(({className:t,...e},r)=>a.jsx(Yh,{ref:r,className:G("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gf.displayName=Yh.displayName;const Vy=Dn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xf=m.forwardRef(({className:t,variant:e,...r},s)=>a.jsx(Xh,{ref:s,className:G(Vy({variant:e}),t),...r}));xf.displayName=Xh.displayName;const By=m.forwardRef(({className:t,...e},r)=>a.jsx(Zh,{ref:r,className:G("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));By.displayName=Zh.displayName;const yf=m.forwardRef(({className:t,...e},r)=>a.jsx(ef,{ref:r,className:G("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(xr,{className:"h-4 w-4"})}));yf.displayName=ef.displayName;const vf=m.forwardRef(({className:t,...e},r)=>a.jsx(Jh,{ref:r,className:G("text-sm font-semibold",t),...e}));vf.displayName=Jh.displayName;const bf=m.forwardRef(({className:t,...e},r)=>a.jsx(Qh,{ref:r,className:G("text-sm opacity-90",t),...e}));bf.displayName=Qh.displayName;function Uy(){const{toasts:t}=Oh();return a.jsxs(Fy,{children:[t.map(function({id:e,title:r,description:s,action:n,...o}){return a.jsxs(xf,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(vf,{children:r}),s&&a.jsx(bf,{children:s})]}),n,a.jsx(yf,{})]},e)}),a.jsx(gf,{})]})}var Zc=["light","dark"],Hy="(prefers-color-scheme: dark)",zy=m.createContext(void 0),Ky={setTheme:t=>{},themes:[]},qy=()=>{var t;return(t=m.useContext(zy))!=null?t:Ky};m.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:s,enableColorScheme:n,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=n?Zc.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,x=!1,v=!0)=>{let b=i?i[g]:g,_=x?g+"|| ''":`'${b}'`,y="";return n&&v&&!x&&Zc.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),r==="class"?x||b?y+=`c.add(${_})`:y+="null":b&&(y+=`d[s](n,${_})`),y},p=t?`!function(){${d}${f(t)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Hy}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Wy=t=>{switch(t){case"success":return Xy;case"info":return Qy;case"warning":return Jy;case"error":return Zy;default:return null}},Gy=Array(12).fill(0),Yy=({visible:t})=>T.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},T.createElement("div",{className:"sonner-spinner"},Gy.map((e,r)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Xy=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jy=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qy=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Zy=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ev=()=>{let[t,e]=T.useState(document.hidden);return T.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},pa=1,tv=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...s}=t,n=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:pa++,o=this.toasts.find(l=>l.id===n),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:r}),{...l,...t,id:n,dismissible:i,title:r}):l):this.addToast({title:r,...s,dismissible:i,id:n}),n},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),n=r!==void 0;return s.then(async o=>{if(sv(o)&&!o.ok){n=!1;let i=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:r,type:"error",message:i,description:l})}else if(e.success!==void 0){n=!1;let i=typeof e.success=="function"?await e.success(o):e.success,l=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(e.error!==void 0){n=!1;let i=typeof e.error=="function"?await e.error(o):e.error,l=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;n&&(this.dismiss(r),r=void 0),(o=e.finally)==null||o.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||pa++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},tt=new tv,rv=(t,e)=>{let r=(e==null?void 0:e.id)||pa++;return tt.addToast({title:t,...e,id:r}),r},sv=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nv=rv,ov=()=>tt.toasts;Object.assign(nv,{success:tt.success,info:tt.info,warning:tt.warning,error:tt.error,custom:tt.custom,message:tt.message,promise:tt.promise,dismiss:tt.dismiss,loading:tt.loading},{getHistory:ov});function iv(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}iv(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function no(t){return t.label!==void 0}var av=3,lv="32px",cv=4e3,uv=356,dv=14,hv=20,fv=200;function pv(...t){return t.filter(Boolean).join(" ")}var mv=t=>{var e,r,s,n,o,i,l,c,u,d;let{invert:h,toast:f,unstyled:p,interacting:g,setHeights:x,visibleToasts:v,heights:b,index:_,toasts:y,expanded:w,removeToast:j,defaultRichColors:C,closeButton:N,style:R,cancelButtonStyle:E,actionButtonStyle:P,className:k="",descriptionClassName:A="",duration:I,position:M,gap:V,loadingIcon:O,expandByDefault:U,classNames:L,icons:D,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:z,cn:Y}=t,[Q,xe]=T.useState(!1),[Ke,ae]=T.useState(!1),[Le,qe]=T.useState(!1),[Se,ot]=T.useState(!1),[Gt,Gr]=T.useState(0),[X,Ks]=T.useState(0),qs=T.useRef(null),Nt=T.useRef(null),xi=_===0,yi=_+1<=v,Ee=f.type,Ft=f.dismissible!==!1,vi=f.className||"",br=f.descriptionClassName||"",Yr=T.useMemo(()=>b.findIndex($=>$.toastId===f.id)||0,[b,f.id]),Xn=T.useMemo(()=>{var $;return($=f.closeButton)!=null?$:N},[f.closeButton,N]),Jn=T.useMemo(()=>f.duration||I||cv,[f.duration,I]),Ws=T.useRef(0),mt=T.useRef(0),Qn=T.useRef(0),Vt=T.useRef(null),[Zn,wr]=M.split("-"),Gs=T.useMemo(()=>b.reduce(($,H,K)=>K>=Yr?$:$+H.height,0),[b,Yr]),eo=ev(),bi=f.invert||h,Ys=Ee==="loading";mt.current=T.useMemo(()=>Yr*V+Gs,[Yr,Gs]),T.useEffect(()=>{xe(!0)},[]),T.useLayoutEffect(()=>{if(!Q)return;let $=Nt.current,H=$.style.height;$.style.height="auto";let K=$.getBoundingClientRect().height;$.style.height=H,Ks(K),x(re=>re.find(ee=>ee.toastId===f.id)?re.map(ee=>ee.toastId===f.id?{...ee,height:K}:ee):[{toastId:f.id,height:K,position:f.position},...re])},[Q,f.title,f.description,x,f.id]);let Rt=T.useCallback(()=>{ae(!0),Gr(mt.current),x($=>$.filter(H=>H.toastId!==f.id)),setTimeout(()=>{j(f)},fv)},[f,j,x,mt]);T.useEffect(()=>{if(f.promise&&Ee==="loading"||f.duration===1/0||f.type==="loading")return;let $,H=Jn;return w||g||z&&eo?(()=>{if(Qn.current<Ws.current){let K=new Date().getTime()-Ws.current;H=H-K}Qn.current=new Date().getTime()})():H!==1/0&&(Ws.current=new Date().getTime(),$=setTimeout(()=>{var K;(K=f.onAutoClose)==null||K.call(f,f),Rt()},H)),()=>clearTimeout($)},[w,g,U,f,Jn,Rt,f.promise,Ee,z,eo]),T.useEffect(()=>{let $=Nt.current;if($){let H=$.getBoundingClientRect().height;return Ks(H),x(K=>[{toastId:f.id,height:H,position:f.position},...K]),()=>x(K=>K.filter(re=>re.toastId!==f.id))}},[x,f.id]),T.useEffect(()=>{f.delete&&Rt()},[Rt,f.delete]);function wi(){return D!=null&&D.loading?T.createElement("div",{className:"sonner-loader","data-visible":Ee==="loading"},D.loading):O?T.createElement("div",{className:"sonner-loader","data-visible":Ee==="loading"},O):T.createElement(Yy,{visible:Ee==="loading"})}return T.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Nt,className:Y(k,vi,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ee],(r=f==null?void 0:f.classNames)==null?void 0:r[Ee]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:C,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":Q,"data-promise":!!f.promise,"data-removed":Ke,"data-visible":yi,"data-y-position":Zn,"data-x-position":wr,"data-index":_,"data-front":xi,"data-swiping":Le,"data-dismissible":Ft,"data-type":Ee,"data-invert":bi,"data-swipe-out":Se,"data-expanded":!!(w||U&&Q),style:{"--index":_,"--toasts-before":_,"--z-index":y.length-_,"--offset":`${Ke?Gt:mt.current}px`,"--initial-height":U?"auto":`${X}px`,...R,...f.style},onPointerDown:$=>{Ys||!Ft||(qs.current=new Date,Gr(mt.current),$.target.setPointerCapture($.pointerId),$.target.tagName!=="BUTTON"&&(qe(!0),Vt.current={x:$.clientX,y:$.clientY}))},onPointerUp:()=>{var $,H,K,re;if(Se||!Ft)return;Vt.current=null;let ee=Number((($=Nt.current)==null?void 0:$.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Pe=new Date().getTime()-((H=qs.current)==null?void 0:H.getTime()),Ae=Math.abs(ee)/Pe;if(Math.abs(ee)>=hv||Ae>.11){Gr(mt.current),(K=f.onDismiss)==null||K.call(f,f),Rt(),ot(!0);return}(re=Nt.current)==null||re.style.setProperty("--swipe-amount","0px"),qe(!1)},onPointerMove:$=>{var H;if(!Vt.current||!Ft)return;let K=$.clientY-Vt.current.y,re=$.clientX-Vt.current.x,ee=(Zn==="top"?Math.min:Math.max)(0,K),Pe=$.pointerType==="touch"?10:2;Math.abs(ee)>Pe?(H=Nt.current)==null||H.style.setProperty("--swipe-amount",`${K}px`):Math.abs(re)>Pe&&(Vt.current=null)}},Xn&&!f.jsx?T.createElement("button",{"aria-label":oe,"data-disabled":Ys,"data-close-button":!0,onClick:Ys||!Ft?()=>{}:()=>{var $;Rt(),($=f.onDismiss)==null||$.call(f,f)},className:Y(L==null?void 0:L.closeButton,(n=f==null?void 0:f.classNames)==null?void 0:n.closeButton)},T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||T.isValidElement(f.title)?f.jsx||f.title:T.createElement(T.Fragment,null,Ee||f.icon||f.promise?T.createElement("div",{"data-icon":"",className:Y(L==null?void 0:L.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||wi():null,f.type!=="loading"?f.icon||(D==null?void 0:D[Ee])||Wy(Ee):null):null,T.createElement("div",{"data-content":"",className:Y(L==null?void 0:L.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},T.createElement("div",{"data-title":"",className:Y(L==null?void 0:L.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?T.createElement("div",{"data-description":"",className:Y(A,br,L==null?void 0:L.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),T.isValidElement(f.cancel)?f.cancel:f.cancel&&no(f.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:$=>{var H,K;no(f.cancel)&&Ft&&((K=(H=f.cancel).onClick)==null||K.call(H,$),Rt())},className:Y(L==null?void 0:L.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,T.isValidElement(f.action)?f.action:f.action&&no(f.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:$=>{var H,K;no(f.action)&&($.defaultPrevented||((K=(H=f.action).onClick)==null||K.call(H,$),Rt()))},className:Y(L==null?void 0:L.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function eu(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var gv=t=>{let{invert:e,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:n,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=av,toastOptions:p,dir:g=eu(),gap:x=dv,loadingIcon:v,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:y,cn:w=pv}=t,[j,C]=T.useState([]),N=T.useMemo(()=>Array.from(new Set([r].concat(j.filter(z=>z.position).map(z=>z.position)))),[j,r]),[R,E]=T.useState([]),[P,k]=T.useState(!1),[A,I]=T.useState(!1),[M,V]=T.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=T.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=T.useRef(null),D=T.useRef(!1),oe=T.useCallback(z=>{var Y;(Y=j.find(Q=>Q.id===z.id))!=null&&Y.delete||tt.dismiss(z.id),C(Q=>Q.filter(({id:xe})=>xe!==z.id))},[j]);return T.useEffect(()=>tt.subscribe(z=>{if(z.dismiss){C(Y=>Y.map(Q=>Q.id===z.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{_x.flushSync(()=>{C(Y=>{let Q=Y.findIndex(xe=>xe.id===z.id);return Q!==-1?[...Y.slice(0,Q),{...Y[Q],...z},...Y.slice(Q+1)]:[z,...Y]})})})}),[]),T.useEffect(()=>{if(c!=="system"){V(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{V(z?"dark":"light")})},[c]),T.useEffect(()=>{j.length<=1&&k(!1)},[j]),T.useEffect(()=>{let z=Y=>{var Q,xe;s.every(Ke=>Y[Ke]||Y.code===Ke)&&(k(!0),(Q=O.current)==null||Q.focus()),Y.code==="Escape"&&(document.activeElement===O.current||(xe=O.current)!=null&&xe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),T.useEffect(()=>{if(O.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,D.current=!1)}},[O.current]),j.length?T.createElement("section",{"aria-label":`${_} ${U}`,tabIndex:-1},N.map((z,Y)=>{var Q;let[xe,Ke]=z.split("-");return T.createElement("ol",{key:z,dir:g==="auto"?eu():g,tabIndex:-1,ref:O,className:i,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":xe,"data-x-position":Ke,style:{"--front-toast-height":`${((Q=R[0])==null?void 0:Q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||lv,"--width":`${uv}px`,"--gap":`${x}px`,...h},onBlur:ae=>{D.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(D.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||D.current||(D.current=!0,L.current=ae.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{A||k(!1)},onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(ae=>!ae.position&&Y===0||ae.position===z).map((ae,Le)=>{var qe,Se;return T.createElement(mv,{key:ae.id,icons:b,index:Le,toast:ae,defaultRichColors:u,duration:(qe=p==null?void 0:p.duration)!=null?qe:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Se=p==null?void 0:p.closeButton)!=null?Se:o,interacting:A,position:z,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:oe,toasts:j.filter(ot=>ot.position==ae.position),heights:R.filter(ot=>ot.position==ae.position),setHeights:E,expandByDefault:n,gap:x,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:y,cn:w})}))})):null};const xv=({...t})=>{const{theme:e="system"}=qy();return a.jsx(gv,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},fr=ux,st=dx,nt=hx,Ye=m.forwardRef(({className:t,sideOffset:e=4,...r},s)=>a.jsx(cx,{children:a.jsx(jh,{ref:s,sideOffset:e,className:G("z-[9999] overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ye.displayName=jh.displayName;var Fn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ur=typeof window>"u"||"Deno"in globalThis;function ut(){}function yv(t,e){return typeof t=="function"?t(e):t}function ma(t){return typeof t=="number"&&t>=0&&t!==1/0}function wf(t,e){return Math.max(t+(e||0)-Date.now(),0)}function us(t,e){return typeof t=="function"?t(e):t}function wt(t,e){return typeof t=="function"?t(e):t}function tu(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:o,queryKey:i,stale:l}=t;if(i){if(s){if(e.queryHash!==Nl(i,e.options))return!1}else if(!_n(e.queryKey,i))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||o&&!o(e))}function ru(t,e){const{exact:r,status:s,predicate:n,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(wn(e.options.mutationKey)!==wn(o))return!1}else if(!_n(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function Nl(t,e){return((e==null?void 0:e.queryKeyHashFn)||wn)(t)}function wn(t){return JSON.stringify(t,(e,r)=>xa(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function _n(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!_n(t[r],e[r])):!1}function _f(t,e){if(t===e)return t;const r=su(t)&&su(e);if(r||xa(t)&&xa(e)){const s=r?t:Object.keys(t),n=s.length,o=r?e:Object.keys(e),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u];(!r&&s.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=_f(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return n===i&&c===n?t:l}return e}function ga(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function su(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xa(t){if(!nu(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!nu(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nu(t){return Object.prototype.toString.call(t)==="[object Object]"}function vv(t){return new Promise(e=>{setTimeout(e,t)})}function ya(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?_f(t,e):e}function bv(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function wv(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var Rl=Symbol();function jf(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rl?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ar,nr,ms,dh,_v=(dh=class extends Fn{constructor(){super();W(this,Ar);W(this,nr);W(this,ms);F(this,ms,e=>{if(!Ur&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,nr)||this.setEventListener(S(this,ms))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,nr))==null||e.call(this),F(this,nr,void 0))}setEventListener(e){var r;F(this,ms,e),(r=S(this,nr))==null||r.call(this),F(this,nr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){S(this,Ar)!==e&&(F(this,Ar,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof S(this,Ar)=="boolean"?S(this,Ar):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ar=new WeakMap,nr=new WeakMap,ms=new WeakMap,dh),El=new _v,gs,or,xs,hh,jv=(hh=class extends Fn{constructor(){super();W(this,gs,!0);W(this,or);W(this,xs);F(this,xs,e=>{if(!Ur&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){S(this,or)||this.setEventListener(S(this,xs))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,or))==null||e.call(this),F(this,or,void 0))}setEventListener(e){var r;F(this,xs,e),(r=S(this,or))==null||r.call(this),F(this,or,e(this.setOnline.bind(this)))}setOnline(e){S(this,gs)!==e&&(F(this,gs,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return S(this,gs)}},gs=new WeakMap,or=new WeakMap,xs=new WeakMap,hh),$o=new jv;function va(){let t,e;const r=new Promise((n,o)=>{t=n,e=o});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),t(n)},r.reject=n=>{s({status:"rejected",reason:n}),e(n)},r}function Sv(t){return Math.min(1e3*2**t,3e4)}function Sf(t){return(t??"online")==="online"?$o.isOnline():!0}var Cf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ki(t){return t instanceof Cf}function Tf(t){let e=!1,r=0,s=!1,n;const o=va(),i=x=>{var v;s||(f(new Cf(x)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>El.isFocused()&&(t.networkMode==="always"||$o.isOnline())&&t.canRun(),d=()=>Sf(t.networkMode)&&t.canRun(),h=x=>{var v;s||(s=!0,(v=t.onSuccess)==null||v.call(t,x),n==null||n(),o.resolve(x))},f=x=>{var v;s||(s=!0,(v=t.onError)==null||v.call(t,x),n==null||n(),o.reject(x))},p=()=>new Promise(x=>{var v;n=b=>{(s||u())&&x(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;n=void 0,s||(x=t.onContinue)==null||x.call(t)}),g=()=>{if(s)return;let x;const v=r===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(h).catch(b=>{var C;if(s)return;const _=t.retry??(Ur?0:3),y=t.retryDelay??Sv,w=typeof y=="function"?y(r,b):y,j=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,b);if(e||!j){f(b);return}r++,(C=t.onFail)==null||C.call(t,r,b),vv(w).then(()=>u()?void 0:p()).then(()=>{e?f(b):g()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),o)}}function Cv(){let t=[],e=0,r=l=>{l()},s=l=>{l()},n=l=>setTimeout(l,0);const o=l=>{e?t.push(l):n(()=>{r(l)})},i=()=>{const l=t;t=[],l.length&&n(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var $e=Cv(),Mr,fh,Nf=(fh=class{constructor(){W(this,Mr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ma(this.gcTime)&&F(this,Mr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ur?1/0:5*60*1e3))}clearGcTimeout(){S(this,Mr)&&(clearTimeout(S(this,Mr)),F(this,Mr,void 0))}},Mr=new WeakMap,fh),ys,vs,ct,Ie,Mn,$r,vt,Ht,ph,Tv=(ph=class extends Nf{constructor(e){super();W(this,vt);W(this,ys);W(this,vs);W(this,ct);W(this,Ie);W(this,Mn);W(this,$r);F(this,$r,!1),F(this,Mn,e.defaultOptions),this.setOptions(e.options),this.observers=[],F(this,ct,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,F(this,ys,Nv(this.options)),this.state=e.state??S(this,ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,Ie))==null?void 0:e.promise}setOptions(e){this.options={...S(this,Mn),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,ct).remove(this)}setData(e,r){const s=ya(this.state.data,e,this.options);return se(this,vt,Ht).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){se(this,vt,Ht).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,n;const r=(s=S(this,Ie))==null?void 0:s.promise;return(n=S(this,Ie))==null||n.cancel(e),r?r.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,ys))}isActive(){return this.observers.some(e=>wt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rl||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wf(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=S(this,Ie))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=S(this,Ie))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,ct).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(S(this,Ie)&&(S(this,$r)?S(this,Ie).cancel({revert:!0}):S(this,Ie).cancelRetry()),this.scheduleGc()),S(this,ct).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||se(this,vt,Ht).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,Ie))return S(this,Ie).continueRetry(),S(this,Ie).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(F(this,$r,!0),s.signal)})},o=()=>{const h=jf(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return n(f),F(this,$r,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(c=this.options.behavior)==null||c.onFetch(i,this),F(this,vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&se(this,vt,Ht).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,p,g,x;ki(h)&&h.silent||se(this,vt,Ht).call(this,{type:"error",error:h}),ki(h)||((p=(f=S(this,ct).config).onError)==null||p.call(f,h,this),(x=(g=S(this,ct).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return F(this,Ie,Tf({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,p,g,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(p=(f=S(this,ct).config).onSuccess)==null||p.call(f,h,this),(x=(g=S(this,ct).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{se(this,vt,Ht).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{se(this,vt,Ht).call(this,{type:"pause"})},onContinue:()=>{se(this,vt,Ht).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),S(this,Ie).start()}},ys=new WeakMap,vs=new WeakMap,ct=new WeakMap,Ie=new WeakMap,Mn=new WeakMap,$r=new WeakMap,vt=new WeakSet,Ht=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Rf(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return ki(n)&&n.revert&&S(this,vs)?{...S(this,vs),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),$e.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),S(this,ct).notify({query:this,type:"updated",action:e})})},ph);function Rf(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sf(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Nv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kt,mh,Rv=(mh=class extends Fn{constructor(e={}){super();W(this,kt);this.config=e,F(this,kt,new Map)}build(e,r,s){const n=r.queryKey,o=r.queryHash??Nl(n,r);let i=this.get(o);return i||(i=new Tv({cache:this,queryKey:n,queryHash:o,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){S(this,kt).has(e.queryHash)||(S(this,kt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=S(this,kt).get(e.queryHash);r&&(e.destroy(),r===e&&S(this,kt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,kt).get(e)}getAll(){return[...S(this,kt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>tu(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>tu(e,s)):r}notify(e){$e.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kt=new WeakMap,mh),Pt,Ve,Or,At,Zt,gh,Ev=(gh=class extends Nf{constructor(e){super();W(this,At);W(this,Pt);W(this,Ve);W(this,Or);this.mutationId=e.mutationId,F(this,Ve,e.mutationCache),F(this,Pt,[]),this.state=e.state||kv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,Pt).includes(e)||(S(this,Pt).push(e),this.clearGcTimeout(),S(this,Ve).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){F(this,Pt,S(this,Pt).filter(r=>r!==e)),this.scheduleGc(),S(this,Ve).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,Pt).length||(this.state.status==="pending"?this.scheduleGc():S(this,Ve).remove(this))}continue(){var e;return((e=S(this,Or))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,o,i,l,c,u,d,h,f,p,g,x,v,b,_,y,w,j,C,N;F(this,Or,Tf({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,E)=>{se(this,At,Zt).call(this,{type:"failed",failureCount:R,error:E})},onPause:()=>{se(this,At,Zt).call(this,{type:"pause"})},onContinue:()=>{se(this,At,Zt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Ve).canRun(this)}));const r=this.state.status==="pending",s=!S(this,Or).canStart();try{if(!r){se(this,At,Zt).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(n=S(this,Ve).config).onMutate)==null?void 0:o.call(n,e,this));const E=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,e));E!==this.state.context&&se(this,At,Zt).call(this,{type:"pending",context:E,variables:e,isPaused:s})}const R=await S(this,Or).start();return await((u=(c=S(this,Ve).config).onSuccess)==null?void 0:u.call(c,R,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,e,this.state.context)),await((p=(f=S(this,Ve).config).onSettled)==null?void 0:p.call(f,R,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,R,null,e,this.state.context)),se(this,At,Zt).call(this,{type:"success",data:R}),R}catch(R){try{throw await((b=(v=S(this,Ve).config).onError)==null?void 0:b.call(v,R,e,this.state.context,this)),await((y=(_=this.options).onError)==null?void 0:y.call(_,R,e,this.state.context)),await((j=(w=S(this,Ve).config).onSettled)==null?void 0:j.call(w,void 0,R,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,R,e,this.state.context)),R}finally{se(this,At,Zt).call(this,{type:"error",error:R})}}finally{S(this,Ve).runNext(this)}}},Pt=new WeakMap,Ve=new WeakMap,Or=new WeakMap,At=new WeakSet,Zt=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$e.batch(()=>{S(this,Pt).forEach(s=>{s.onMutationUpdate(e)}),S(this,Ve).notify({mutation:this,type:"updated",action:e})})},gh);function kv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var et,$n,xh,Pv=(xh=class extends Fn{constructor(e={}){super();W(this,et);W(this,$n);this.config=e,F(this,et,new Map),F(this,$n,Date.now())}build(e,r,s){const n=new Ev({mutationCache:this,mutationId:++ro(this,$n)._,options:e.defaultMutationOptions(r),state:s});return this.add(n),n}add(e){const r=oo(e),s=S(this,et).get(r)??[];s.push(e),S(this,et).set(r,s),this.notify({type:"added",mutation:e})}remove(e){var s;const r=oo(e);if(S(this,et).has(r)){const n=(s=S(this,et).get(r))==null?void 0:s.filter(o=>o!==e);n&&(n.length===0?S(this,et).delete(r):S(this,et).set(r,n))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const r=(s=S(this,et).get(oo(e)))==null?void 0:s.find(n=>n.state.status==="pending");return!r||r===e}runNext(e){var s;const r=(s=S(this,et).get(oo(e)))==null?void 0:s.find(n=>n!==e&&n.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){$e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...S(this,et).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ru(r,s))}findAll(e={}){return this.getAll().filter(r=>ru(e,r))}notify(e){$e.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return $e.batch(()=>Promise.all(e.map(r=>r.continue().catch(ut))))}},et=new WeakMap,$n=new WeakMap,xh);function oo(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ou(t){return{onFetch:(e,r)=>{var d,h,f,p,g;const s=e.options,n=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],i=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},b=jf(e.options,e.fetchOptions),_=async(y,w,j)=>{if(x)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const C={queryKey:e.queryKey,pageParam:w,direction:j?"backward":"forward",meta:e.options.meta};v(C);const N=await b(C),{maxPages:R}=e.options,E=j?wv:bv;return{pages:E(y.pages,N,R),pageParams:E(y.pageParams,w,R)}};if(n&&o.length){const y=n==="backward",w=y?Av:iu,j={pages:o,pageParams:i},C=w(s,j);l=await _(j,C,y)}else{const y=t??o.length;do{const w=c===0?i[0]??s.initialPageParam:iu(s,l);if(c>0&&w==null)break;l=await _(l,w),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>{var x,v;return(v=(x=e.options).persister)==null?void 0:v.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function iu(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Av(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var ye,ir,ar,bs,ws,lr,_s,js,yh,Mv=(yh=class{constructor(t={}){W(this,ye);W(this,ir);W(this,ar);W(this,bs);W(this,ws);W(this,lr);W(this,_s);W(this,js);F(this,ye,t.queryCache||new Rv),F(this,ir,t.mutationCache||new Pv),F(this,ar,t.defaultOptions||{}),F(this,bs,new Map),F(this,ws,new Map),F(this,lr,0)}mount(){ro(this,lr)._++,S(this,lr)===1&&(F(this,_s,El.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ye).onFocus())})),F(this,js,$o.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ye).onOnline())})))}unmount(){var t,e;ro(this,lr)._--,S(this,lr)===0&&((t=S(this,_s))==null||t.call(this),F(this,_s,void 0),(e=S(this,js))==null||e.call(this),F(this,js,void 0))}isFetching(t){return S(this,ye).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,ir).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=S(this,ye).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=S(this,ye).build(this,r);return t.revalidateIfStale&&s.isStaleByTime(us(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return S(this,ye).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),n=S(this,ye).get(s.queryHash),o=n==null?void 0:n.state.data,i=yv(e,o);if(i!==void 0)return S(this,ye).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return $e.batch(()=>S(this,ye).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=S(this,ye).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=S(this,ye);$e.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=S(this,ye),s={type:"active",...t};return $e.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=$e.batch(()=>S(this,ye).findAll(t).map(n=>n.cancel(r)));return Promise.all(s).then(ut).catch(ut)}invalidateQueries(t={},e={}){return $e.batch(()=>{if(S(this,ye).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=$e.batch(()=>S(this,ye).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(ut)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ut)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=S(this,ye).build(this,e);return r.isStaleByTime(us(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ut).catch(ut)}fetchInfiniteQuery(t){return t.behavior=ou(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ut).catch(ut)}ensureInfiniteQueryData(t){return t.behavior=ou(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $o.isOnline()?S(this,ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ye)}getMutationCache(){return S(this,ir)}getDefaultOptions(){return S(this,ar)}setDefaultOptions(t){F(this,ar,t)}setQueryDefaults(t,e){S(this,bs).set(wn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,bs).values()];let r={};return e.forEach(s=>{_n(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){S(this,ws).set(wn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,ws).values()];let r={};return e.forEach(s=>{_n(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,ar).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nl(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Rl&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,ar).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,ye).clear(),S(this,ir).clear()}},ye=new WeakMap,ir=new WeakMap,ar=new WeakMap,bs=new WeakMap,ws=new WeakMap,lr=new WeakMap,_s=new WeakMap,js=new WeakMap,yh),Ge,ne,On,Be,Ir,Ss,cr,Mt,In,Cs,Ts,Dr,Lr,ur,Ns,ie,on,ba,wa,_a,ja,Sa,Ca,Ta,Ef,vh,$v=(vh=class extends Fn{constructor(e,r){super();W(this,ie);W(this,Ge);W(this,ne);W(this,On);W(this,Be);W(this,Ir);W(this,Ss);W(this,cr);W(this,Mt);W(this,In);W(this,Cs);W(this,Ts);W(this,Dr);W(this,Lr);W(this,ur);W(this,Ns,new Set);this.options=r,F(this,Ge,e),F(this,Mt,null),F(this,cr,va()),this.options.experimental_prefetchInRender||S(this,cr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,ne).addObserver(this),au(S(this,ne),this.options)?se(this,ie,on).call(this):this.updateResult(),se(this,ie,ja).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Na(S(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Na(S(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,se(this,ie,Sa).call(this),se(this,ie,Ca).call(this),S(this,ne).removeObserver(this)}setOptions(e,r){const s=this.options,n=S(this,ne);if(this.options=S(this,Ge).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wt(this.options.enabled,S(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");se(this,ie,Ta).call(this),S(this,ne).setOptions(this.options),s._defaulted&&!ga(this.options,s)&&S(this,Ge).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,ne),observer:this});const o=this.hasListeners();o&&lu(S(this,ne),n,this.options,s)&&se(this,ie,on).call(this),this.updateResult(r),o&&(S(this,ne)!==n||wt(this.options.enabled,S(this,ne))!==wt(s.enabled,S(this,ne))||us(this.options.staleTime,S(this,ne))!==us(s.staleTime,S(this,ne)))&&se(this,ie,ba).call(this);const i=se(this,ie,wa).call(this);o&&(S(this,ne)!==n||wt(this.options.enabled,S(this,ne))!==wt(s.enabled,S(this,ne))||i!==S(this,ur))&&se(this,ie,_a).call(this,i)}getOptimisticResult(e){const r=S(this,Ge).getQueryCache().build(S(this,Ge),e),s=this.createResult(r,e);return Iv(this,s)&&(F(this,Be,s),F(this,Ss,this.options),F(this,Ir,S(this,ne).state)),s}getCurrentResult(){return S(this,Be)}trackResult(e,r){const s={};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),r==null||r(n),e[n])})}),s}trackProp(e){S(this,Ns).add(e)}getCurrentQuery(){return S(this,ne)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=S(this,Ge).defaultQueryOptions(e),s=S(this,Ge).getQueryCache().build(S(this,Ge),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return se(this,ie,on).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Be)))}createResult(e,r){var R;const s=S(this,ne),n=this.options,o=S(this,Be),i=S(this,Ir),l=S(this,Ss),u=e!==s?e.state:S(this,On),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&au(e,r),k=E&&lu(e,s,r,n);(P||k)&&(h={...h,...Rf(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=h;if(r.select&&h.data!==void 0)if(o&&h.data===(i==null?void 0:i.data)&&r.select===S(this,In))p=S(this,Cs);else try{F(this,In,r.select),p=r.select(h.data),p=ya(o==null?void 0:o.data,p,r),F(this,Cs,p),F(this,Mt,null)}catch(E){F(this,Mt,E)}else p=h.data;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let E;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=o.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((R=S(this,Ts))==null?void 0:R.state.data,S(this,Ts)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),F(this,Mt,null)}catch(P){F(this,Mt,P)}E!==void 0&&(v="success",p=ya(o==null?void 0:o.data,E,r),f=!0)}S(this,Mt)&&(g=S(this,Mt),p=S(this,Cs),x=Date.now(),v="error");const b=h.fetchStatus==="fetching",_=v==="pending",y=v==="error",w=_&&b,j=p!==void 0,N={status:v,fetchStatus:h.fetchStatus,isPending:_,isSuccess:v==="success",isError:y,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:y&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:y&&j,isStale:kl(e,r),refetch:this.refetch,promise:S(this,cr)};if(this.options.experimental_prefetchInRender){const E=A=>{N.status==="error"?A.reject(N.error):N.data!==void 0&&A.resolve(N.data)},P=()=>{const A=F(this,cr,N.promise=va());E(A)},k=S(this,cr);switch(k.status){case"pending":e.queryHash===s.queryHash&&E(k);break;case"fulfilled":(N.status==="error"||N.data!==k.value)&&P();break;case"rejected":(N.status!=="error"||N.error!==k.reason)&&P();break}}return N}updateResult(e){const r=S(this,Be),s=this.createResult(S(this,ne),this.options);if(F(this,Ir,S(this,ne).state),F(this,Ss,this.options),S(this,Ir).data!==void 0&&F(this,Ts,S(this,ne)),ga(s,r))return;F(this,Be,s);const n={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!S(this,Ns).size)return!0;const c=new Set(l??S(this,Ns));return this.options.throwOnError&&c.add("error"),Object.keys(S(this,Be)).some(u=>{const d=u;return S(this,Be)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&o()&&(n.listeners=!0),se(this,ie,Ef).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&se(this,ie,ja).call(this)}},Ge=new WeakMap,ne=new WeakMap,On=new WeakMap,Be=new WeakMap,Ir=new WeakMap,Ss=new WeakMap,cr=new WeakMap,Mt=new WeakMap,In=new WeakMap,Cs=new WeakMap,Ts=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,ur=new WeakMap,Ns=new WeakMap,ie=new WeakSet,on=function(e){se(this,ie,Ta).call(this);let r=S(this,ne).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ut)),r},ba=function(){se(this,ie,Sa).call(this);const e=us(this.options.staleTime,S(this,ne));if(Ur||S(this,Be).isStale||!ma(e))return;const s=wf(S(this,Be).dataUpdatedAt,e)+1;F(this,Dr,setTimeout(()=>{S(this,Be).isStale||this.updateResult()},s))},wa=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,ne)):this.options.refetchInterval)??!1},_a=function(e){se(this,ie,Ca).call(this),F(this,ur,e),!(Ur||wt(this.options.enabled,S(this,ne))===!1||!ma(S(this,ur))||S(this,ur)===0)&&F(this,Lr,setInterval(()=>{(this.options.refetchIntervalInBackground||El.isFocused())&&se(this,ie,on).call(this)},S(this,ur)))},ja=function(){se(this,ie,ba).call(this),se(this,ie,_a).call(this,se(this,ie,wa).call(this))},Sa=function(){S(this,Dr)&&(clearTimeout(S(this,Dr)),F(this,Dr,void 0))},Ca=function(){S(this,Lr)&&(clearInterval(S(this,Lr)),F(this,Lr,void 0))},Ta=function(){const e=S(this,Ge).getQueryCache().build(S(this,Ge),this.options);if(e===S(this,ne))return;const r=S(this,ne);F(this,ne,e),F(this,On,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Ef=function(e){$e.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(S(this,Be))}),S(this,Ge).getQueryCache().notify({query:S(this,ne),type:"observerResultsUpdated"})})},vh);function Ov(t,e){return wt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function au(t,e){return Ov(t,e)||t.state.data!==void 0&&Na(t,e,e.refetchOnMount)}function Na(t,e,r){if(wt(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&kl(t,e)}return!1}function lu(t,e,r,s){return(t!==e||wt(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&kl(t,r)}function kl(t,e){return wt(e.enabled,t)!==!1&&t.isStaleByTime(us(e.staleTime,t))}function Iv(t,e){return!ga(t.getCurrentResult(),e)}var kf=m.createContext(void 0),Dv=t=>{const e=m.useContext(kf);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Lv=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(kf.Provider,{value:t,children:e})),Pf=m.createContext(!1),Fv=()=>m.useContext(Pf);Pf.Provider;function Vv(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Bv=m.createContext(Vv()),Uv=()=>m.useContext(Bv);function Hv(t,e){return typeof t=="function"?t(...e):!!t}function zv(){}var Kv=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},qv=t=>{m.useEffect(()=>{t.clearReset()},[t])},Wv=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&Hv(r,[t.error,s]),Gv=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Yv=(t,e)=>t.isLoading&&t.isFetching&&!e,Xv=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,cu=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Jv(t,e,r){var d,h,f,p,g;const s=Dv(),n=Fv(),o=Uv(),i=s.defaultQueryOptions(t);(h=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=n?"isRestoring":"optimistic",Gv(i),Kv(i,o),qv(o);const l=!s.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new e(s,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(x=>{const v=n?()=>{}:c.subscribe($e.batchCalls(x));return c.updateResult(),v},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Xv(i,u))throw cu(i,c,o);if(Wv({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,i,u),i.experimental_prefetchInRender&&!Ur&&Yv(u,n)){const x=l?cu(i,c,o):(g=s.getQueryCache().get(i.queryHash))==null?void 0:g.promise;x==null||x.catch(zv).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Af(t,e){return Jv(t,$v)}var Qv=typeof Element<"u",Zv=typeof Map=="function",eb=typeof Set=="function",tb=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function jo(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,s,n;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(s=r;s--!==0;)if(!jo(t[s],e[s]))return!1;return!0}var o;if(Zv&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(s=o.next()).done;)if(!e.has(s.value[0]))return!1;for(o=t.entries();!(s=o.next()).done;)if(!jo(s.value[1],e.get(s.value[0])))return!1;return!0}if(eb&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(s=o.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(tb&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(s=r;s--!==0;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;if(Qv&&t instanceof Element)return!1;for(s=r;s--!==0;)if(!((n[s]==="_owner"||n[s]==="__v"||n[s]==="__o")&&t.$$typeof)&&!jo(t[n[s]],e[n[s]]))return!1;return!0}return t!==t&&e!==e}var rb=function(e,r){try{return jo(e,r)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const sb=bl(rb);var nb=function(t,e,r,s,n,o,i,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,s,n,o,i,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},ob=nb;const uu=bl(ob);var ib=function(e,r,s,n){var o=s?s.call(n,e,r):void 0;if(o!==void 0)return!!o;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var i=Object.keys(e),l=Object.keys(r);if(i.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<i.length;u++){var d=i[u];if(!c(d))return!1;var h=e[d],f=r[d];if(o=s?s.call(n,h,f,d):void 0,o===!1||o===void 0&&h!==f)return!1}return!0};const ab=bl(ib);var Mf=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Mf||{}),Pi={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},du=Object.values(Mf),Pl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lb=Object.entries(Pl).reduce((t,[e,r])=>(t[r]=e,t),{}),_t="data-rh",ds={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},hs=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const s=t[r];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},cb=t=>{let e=hs(t,"title");const r=hs(t,ds.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const s=hs(t,ds.DEFAULT_TITLE);return e||s||void 0},ub=t=>hs(t,ds.ON_CHANGE_CLIENT_STATE)||(()=>{}),Ai=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,s)=>({...r,...s}),{}),db=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,s)=>{if(!r.length){const n=Object.keys(s);for(let o=0;o<n.length;o+=1){const l=n[o].toLowerCase();if(t.indexOf(l)!==-1&&s[l])return r.concat(s)}}return r},[]),hb=t=>console&&typeof console.warn=="function"&&console.warn(t),Qs=(t,e,r)=>{const s={};return r.filter(n=>Array.isArray(n[t])?!0:(typeof n[t]<"u"&&hb(`Helmet: ${t} should be of type "Array". Instead found type "${typeof n[t]}"`),!1)).map(n=>n[t]).reverse().reduce((n,o)=>{const i={};o.filter(c=>{let u;const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const p=d[f],g=p.toLowerCase();e.indexOf(g)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(u=g),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return s[u]||(s[u]={}),i[u]||(i[u]={}),s[u][h]?!1:(i[u][h]=!0,!0)}).reverse().forEach(c=>n.push(c));const l=Object.keys(i);for(let c=0;c<l.length;c+=1){const u=l[c],d={...s[u],...i[u]};s[u]=d}return n},[]).reverse()},fb=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},pb=t=>({baseTag:db(["href"],t),bodyAttributes:Ai("bodyAttributes",t),defer:hs(t,ds.DEFER),encode:hs(t,ds.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ai("htmlAttributes",t),linkTags:Qs("link",["rel","href"],t),metaTags:Qs("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Qs("noscript",["innerHTML"],t),onChangeClientState:ub(t),scriptTags:Qs("script",["src","innerHTML"],t),styleTags:Qs("style",["cssText"],t),title:cb(t),titleAttributes:Ai("titleAttributes",t),prioritizeSeoTags:fb(t,ds.PRIORITIZE_SEO_TAGS)}),$f=t=>Array.isArray(t)?t.join(""):t,mb=(t,e)=>{const r=Object.keys(t);for(let s=0;s<r.length;s+=1)if(e[r[s]]&&e[r[s]].includes(t[r[s]]))return!0;return!1},Mi=(t,e)=>Array.isArray(t)?t.reduce((r,s)=>(mb(s,e)?r.priority.push(s):r.default.push(s),r),{priority:[],default:[]}):{default:t,priority:[]},hu=(t,e)=>({...t,[e]:void 0}),gb=["noscript","script","style"],Ra=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Of=t=>Object.keys(t).reduce((e,r)=>{const s=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${s}`:s},""),xb=(t,e,r,s)=>{const n=Of(r),o=$f(e);return n?`<${t} ${_t}="true" ${n}>${Ra(o,s)}</${t}>`:`<${t} ${_t}="true">${Ra(o,s)}</${t}>`},yb=(t,e,r=!0)=>e.reduce((s,n)=>{const o=n,i=Object.keys(o).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof o[d]>"u"?d:`${d}="${Ra(o[d],r)}"`;return u?`${u} ${h}`:h},""),l=o.innerHTML||o.cssText||"",c=gb.indexOf(t)===-1;return`${s}<${t} ${_t}="true" ${i}${c?"/>":`>${l}</${t}>`}`},""),If=(t,e={})=>Object.keys(t).reduce((r,s)=>{const n=Pl[s];return r[n||s]=t[s],r},e),vb=(t,e,r)=>{const s={key:e,[_t]:!0},n=If(r,s);return[T.createElement("title",n,e)]},So=(t,e)=>e.map((r,s)=>{const n={key:s,[_t]:!0};return Object.keys(r).forEach(o=>{const l=Pl[o]||o;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[l]=r[o]}),T.createElement(t,n)}),lt=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>vb(t,e.title,e.titleAttributes),toString:()=>xb(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>If(e),toString:()=>Of(e)};default:return{toComponent:()=>So(t,e),toString:()=>yb(t,e,r)}}},bb=({metaTags:t,linkTags:e,scriptTags:r,encode:s})=>{const n=Mi(t,Pi.meta),o=Mi(e,Pi.link),i=Mi(r,Pi.script);return{priorityMethods:{toComponent:()=>[...So("meta",n.priority),...So("link",o.priority),...So("script",i.priority)],toString:()=>`${lt("meta",n.priority,s)} ${lt("link",o.priority,s)} ${lt("script",i.priority,s)}`},metaTags:n.default,linkTags:o.default,scriptTags:i.default}},wb=t=>{const{baseTag:e,bodyAttributes:r,encode:s=!0,htmlAttributes:n,noscriptTags:o,styleTags:i,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:h,scriptTags:f}=t,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:h,scriptTags:f}=bb(t)),{priority:p,base:lt("base",e,s),bodyAttributes:lt("bodyAttributes",r,s),htmlAttributes:lt("htmlAttributes",n,s),link:lt("link",d,s),meta:lt("meta",h,s),noscript:lt("noscript",o,s),script:lt("script",f,s),style:lt("style",i,s),title:lt("title",{title:l,titleAttributes:c},s)}},Ea=wb,io=[],Df=!!(typeof window<"u"&&window.document&&window.document.createElement),ka=class{constructor(t,e){Bt(this,"instances",[]);Bt(this,"canUseDOM",Df);Bt(this,"context");Bt(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?io:this.instances,add:t=>{(this.canUseDOM?io:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?io:this.instances).indexOf(t);(this.canUseDOM?io:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Ea({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},_b={},Lf=T.createContext(_b),Fr,Ff=(Fr=class extends m.Component{constructor(r){super(r);Bt(this,"helmetData");this.helmetData=new ka(this.props.context||{},Fr.canUseDOM)}render(){return T.createElement(Lf.Provider,{value:this.helmetData.value},this.props.children)}},Bt(Fr,"canUseDOM",Df),Fr),Qr=(t,e)=>{const r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${t}[${_t}]`),n=[].slice.call(s),o=[];let i;return e&&e.length&&e.forEach(l=>{const c=document.createElement(t);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute(_t,"true"),n.some((u,d)=>(i=d,c.isEqualNode(u)))?n.splice(i,1):o.push(c)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),o.forEach(l=>r.appendChild(l)),{oldTags:n,newTags:o}},Pa=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const s=r.getAttribute(_t),n=s?s.split(","):[],o=[...n],i=Object.keys(e);for(const l of i){const c=e[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),n.indexOf(l)===-1&&n.push(l);const u=o.indexOf(l);u!==-1&&o.splice(u,1)}for(let l=o.length-1;l>=0;l-=1)r.removeAttribute(o[l]);n.length===o.length?r.removeAttribute(_t):r.getAttribute(_t)!==i.join(",")&&r.setAttribute(_t,i.join(","))},jb=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=$f(t)),Pa("title",e)},fu=(t,e)=>{const{baseTag:r,bodyAttributes:s,htmlAttributes:n,linkTags:o,metaTags:i,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:f}=t;Pa("body",s),Pa("html",n),jb(h,f);const p={baseTag:Qr("base",r),linkTags:Qr("link",o),metaTags:Qr("meta",i),noscriptTags:Qr("noscript",l),scriptTags:Qr("script",u),styleTags:Qr("style",d)},g={},x={};Object.keys(p).forEach(v=>{const{newTags:b,oldTags:_}=p[v];b.length&&(g[v]=b),_.length&&(x[v]=p[v].oldTags)}),e&&e(),c(t,g,x)},Zs=null,Sb=t=>{Zs&&cancelAnimationFrame(Zs),t.defer?Zs=requestAnimationFrame(()=>{fu(t,()=>{Zs=null})}):(fu(t),Zs=null)},Cb=Sb,pu=class extends m.Component{constructor(){super(...arguments);Bt(this,"rendered",!1)}shouldComponentUpdate(e){return!ab(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:r}=this.props.context;let s=null;const n=pb(e.get().map(o=>{const i={...o.props};return delete i.context,i}));Ff.canUseDOM?Cb(n):Ea&&(s=Ea(n)),r(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},la,Oo=(la=class extends m.Component{shouldComponentUpdate(t){return!sb(hu(this.props,"helmetData"),hu(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,s){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,s)}]}}mapObjectTypeChildren(t,e,r,s){switch(t.type){case"title":return{...e,[t.type]:s,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(s=>{r={...r,[s]:t[s]}}),r}warnOnInvalidChildren(t,e){return uu(du.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${du.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),uu(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return T.Children.forEach(t,s=>{if(!s||!s.props)return;const{children:n,...o}=s.props,i=Object.keys(o).reduce((c,u)=>(c[lb[u]||u]=o[u],c),{});let{type:l}=s;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(s,n),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(n,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(s,r,i,n);break;default:e=this.mapObjectTypeChildren(s,e,i,n);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:s}=e;if(t&&(r=this.mapChildrenToProps(t,r)),s&&!(s instanceof ka)){const n=s;s=new ka(n.context,!0),delete r.helmetData}return s?T.createElement(pu,{...r,context:s.value}):T.createElement(Lf.Consumer,null,n=>T.createElement(pu,{...r,context:n}))}},Bt(la,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),la);const Tb="modulepreload",Nb=function(t){return"/hub/"+t},mu={},Vn=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=Nb(c),c in mu)return;mu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Tb,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Rb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vn(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Al extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Eb extends Al{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kb extends Al{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pb extends Al{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Aa||(Aa={}));var Ab=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};class Mb{constructor(e,{headers:r={},customFetch:s,region:n=Aa.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Rb(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return Ab(this,void 0,void 0,function*(){try{const{headers:n,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:u}).catch(g=>{throw new Eb(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new kb(d);if(!d.ok)throw new Pb(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Xe={},Ml={},Qo={},Bn={},Zo={},ei={},$b=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=$b();const Ob=Rs.fetch,Vf=Rs.fetch.bind(Rs),Bf=Rs.Headers,Ib=Rs.Request,Db=Rs.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bf,Request:Ib,Response:Db,default:Vf,fetch:Ob},Symbol.toStringTag,{value:"Module"})),Lb=jx(Os);var ti={};Object.defineProperty(ti,"__esModule",{value:!0});let Fb=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ti.default=Fb;var Uf=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});const Vb=Uf(Lb),Bb=Uf(ti);let Ub=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Vb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,p="OK")}catch{o.status===404&&x===""?(f=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Bb.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(n=n.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}returns(){return this}overrideTypes(){return this}};ei.default=Ub;var Hb=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});const zb=Hb(ei);let Kb=class extends zb.default{select(e){let r=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:o=n}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:s,referencedTable:n=s}={}){const o=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zo.default=Kb;var qb=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});const Wb=qb(Zo);let Gb=class extends Wb.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}};Bn.default=Gb;var Yb=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});const en=Yb(Bn);let Xb=class{constructor(e,{headers:r={},schema:s,fetch:n}){this.url=e,this.headers=r,this.schema=s,this.fetch=n}select(e,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),s&&(this.headers.Prefer=`count=${s}`),new en.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:s=!0}={}){const n="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new en.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new en.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new en.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new en.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Qo.default=Xb;var ri={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.version=void 0;si.version="0.0.0-automated";Object.defineProperty(ri,"__esModule",{value:!0});ri.DEFAULT_HEADERS=void 0;const Jb=si;ri.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jb.version}`};var Hf=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ml,"__esModule",{value:!0});const Qb=Hf(Qo),Zb=Hf(Bn),ew=ri;let tw=class zf{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},ew.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new Qb.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let c;s||n?(i=s?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new Zb.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ml.default=tw;var Is=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const Kf=Is(Ml);Xe.PostgrestClient=Kf.default;const qf=Is(Qo);Xe.PostgrestQueryBuilder=qf.default;const Wf=Is(Bn);Xe.PostgrestFilterBuilder=Wf.default;const Gf=Is(Zo);Xe.PostgrestTransformBuilder=Gf.default;const Yf=Is(ei);Xe.PostgrestBuilder=Yf.default;const Xf=Is(ti);Xe.PostgrestError=Xf.default;var rw=Xe.default={PostgrestClient:Kf.default,PostgrestQueryBuilder:qf.default,PostgrestFilterBuilder:Wf.default,PostgrestTransformBuilder:Gf.default,PostgrestBuilder:Yf.default,PostgrestError:Xf.default};const{PostgrestClient:sw,PostgrestQueryBuilder:Lk,PostgrestFilterBuilder:Fk,PostgrestTransformBuilder:Vk,PostgrestBuilder:Bk,PostgrestError:Uk}=rw;let Ma;typeof window>"u"?Ma=require("ws"):Ma=window.WebSocket;const nw=Ma,ow="2.11.10",iw={"X-Client-Info":`realtime-js/${ow}`},aw="1.0.0",Jf=1e4,lw=1e3;var fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fs||(fs={}));var Fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fe||(Fe={}));var bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bt||(bt={}));var $a;(function(t){t.websocket="websocket"})($a||($a={}));var Rr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rr||(Rr={}));class cw{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=s.decode(e.slice(i,i+n));i=i+n;const c=s.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Qf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const gu=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((o,i)=>(o[i]=uw(i,t,e,n),o),{})},uw=(t,e,r,s)=>{const n=e.find(l=>l.name===t),o=n==null?void 0:n.type,i=r[t];return o&&!s.includes(o)?Zf(o,i):Oa(i)},Zf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return pw(e,r)}switch(t){case ue.bool:return dw(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return hw(e);case ue.json:case ue.jsonb:return fw(e);case ue.timestamp:return mw(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Oa(e);default:return Oa(e)}},Oa=t=>t,dw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Zf(e,l))}return t},mw=t=>typeof t=="string"?t.replace(" ","T"):t,ep=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $i{constructor(e,r,s={},n=Jf){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xu||(xu={}));class dn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dn.syncState(this.state,n,o,i),this.pendingDiffs.forEach(c=>{this.state=dn.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=dn.syncDiff(this.state,n,o,i),l())}),this.onJoin((n,o,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:i})}),this.onLeave((n,o,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const o=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),x=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},s,n)}static syncDiff(e,r,s,n){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}s(l,d,c)}),this.map(i,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,n(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yu||(yu={}));var vu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vu||(vu={}));var Kt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class $l{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $i(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Qf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(n,o)=>{this._trigger(this._replyEventName(o),n)}),this.presence=new dn(this),this.broadcastEndpointURL=ep(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Kt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Kt.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Kt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let x=0;x<p;x++){const v=f[x],{filter:{event:b,schema:_,table:y,filter:w}}=v,j=d&&d[x];if(j&&j.event===b&&j.schema===_&&j.table===y&&j.filter===w)g.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),this.state=Fe.errored,e==null||e(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Kt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Fe.errored,e==null||e(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(s=>{const n=new $i(this,bt.leave,{},e);n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,s){const n=new AbortController,o=setTimeout(()=>n.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(o),i}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new $i(this,e,r,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bt;if(s&&[l,c,u,d].indexOf(i)>=0&&s!==this._joinRef())return;let f=this._onMessage(i,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var g,x,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(x=p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(f,s)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var g,x,v,b,_,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const w=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(_=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:x,table:v,commit_timestamp:b,type:_,errors:y}=g;f=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:b,eventType:_,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(f,s)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),o={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&$l.isEqual(n.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bt.close,{},e)}_onError(e){this._on(bt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gu(e.columns,e.old_record)),r}}const bu=()=>{},gw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xw{constructor(e,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=iw,this.params={},this.timeout=Jf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bu,this.ref=0,this.logger=bu,this.conn=null,this.sendBuffer=[],this.serializer=new cw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Vn(async()=>{const{default:c}=await Promise.resolve().then(()=>Os);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${e}/${$a.websocket}`,this.httpEndpoint=ep(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=nw),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new yw(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aw}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(s=>s._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return Rr.Connecting;case fs.open:return Rr.Open;case fs.closing:return Rr.Closing;default:return Rr.Closed}}isConnected(){return this.connectionState()===Rr.Open}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(o=>o.topic===s);if(n)return n;{const o=new $l(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:s,payload:n,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),s.joinedOnce&&s._isJoined()&&s._push(bt.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(lw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:s,event:n,payload:o,ref:i}=r;s==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${s} ${n} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(n,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(bt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([gw],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class yw{constructor(e,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Ol extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vw extends Ol{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ia extends Ol{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var bw=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const tp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vn(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},ww=()=>bw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vn(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),Da=t=>{if(Array.isArray(t))return t.map(r=>Da(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[n]=Da(s)}),e};var Kr=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const Oi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_w=(t,e,r)=>Kr(void 0,void 0,void 0,function*(){const s=yield ww();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{e(new vw(Oi(n),t.status||500))}).catch(n=>{e(new Ia(Oi(n),n))}):e(new Ia(Oi(t),t))}),jw=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),r))};function Un(t,e,r,s,n,o){return Kr(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,jw(e,s,n,o)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>_w(c,l,s))})})}function Io(t,e,r,s){return Kr(this,void 0,void 0,function*(){return Un(t,"GET",e,r,s)})}function rr(t,e,r,s,n){return Kr(this,void 0,void 0,function*(){return Un(t,"POST",e,s,n,r)})}function Sw(t,e,r,s,n){return Kr(this,void 0,void 0,function*(){return Un(t,"PUT",e,s,n,r)})}function Cw(t,e,r,s){return Kr(this,void 0,void 0,function*(){return Un(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function rp(t,e,r,s,n){return Kr(this,void 0,void 0,function*(){return Un(t,"DELETE",e,s,n,r)})}var We=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const Tw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nw{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=tp(n)}uploadOrUpdate(e,r,s,n){return We(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},wu),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=s,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(ke(o))return{data:null,error:o};throw o}})}upload(e,r,s){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return We(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:wu.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return We(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const o=yield rr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Ol("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}update(e,r,s){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return We(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}copy(e,r,s){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),o=yield rr(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return We(this,void 0,void 0,function*(){try{const n=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}download(e,r){return We(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Io(this.fetch,`${this.url}/${n}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}info(e){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Io(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Da(s),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}exists(e){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Cw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ke(s)&&s instanceof Ia){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&n.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield rp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}list(e,r,s){return We(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Tw),r),{prefix:e||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Rw="2.7.1",Ew={"X-Client-Info":`storage-js/${Rw}`};var Zr=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};class kw{constructor(e,r={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ew),r),this.fetch=tp(s)}listBuckets(){return Zr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ke(e))return{data:null,error:e};throw e}})}getBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Zr(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Zr(this,void 0,void 0,function*(){try{return{data:yield Sw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield rp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}}class Pw extends kw{constructor(e,r={},s){super(e,r,s)}from(e){return new Nw(this.url,this.headers,e,this.fetch)}}const Aw="2.50.0";let an="";typeof Deno<"u"?an="deno":typeof document<"u"?an="web":typeof navigator<"u"&&navigator.product==="ReactNative"?an="react-native":an="node";const Mw={"X-Client-Info":`supabase-js-${an}/${Aw}`},$w={headers:Mw},Ow={schema:"public"},Iw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dw={};var Lw=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const Fw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Vf:e=fetch,(...r)=>e(...r)},Vw=()=>typeof Headers>"u"?Bf:Headers,Bw=(t,e,r)=>{const s=Fw(r),n=Vw();return(o,i)=>Lw(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new n(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(o,Object.assign(Object.assign({},i),{headers:u}))})};var Uw=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};function Hw(t){return t.endsWith("/")?t:t+"/"}function zw(t,e){var r,s;const{db:n,auth:o,realtime:i,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Uw(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const sp="2.70.0",ss=30*1e3,La=3,Ii=La*ss,Kw="http://localhost:9999",qw="supabase.auth.token",Ww={"X-Client-Info":`gotrue-js/${sp}`},Fa="X-Supabase-Api-Version",np={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yw=6e5;class Il extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xw extends Il{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Jw(t){return J(t)&&t.name==="AuthApiError"}class op extends Il{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yr extends Il{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class er extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qw(t){return J(t)&&t.name==="AuthSessionMissingError"}class ao extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lo extends yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class co extends yr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zw(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class _u extends yr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Va extends yr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Di(t){return J(t)&&t.name==="AuthRetryableFetchError"}class ju extends yr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class hn extends yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Do="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),e_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Su.length;e+=1)t[Su[e].charCodeAt(0)]=-2;for(let e=0;e<Do.length;e+=1)t[Do[e].charCodeAt(0)]=e;return t})();function Cu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Do[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Do[s]),e.queuedBits-=6}}function ip(t,e,r){const s=e_[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tu(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=i=>{s_(i,s,r)};for(let i=0;i<t.length;i+=1)ip(t.charCodeAt(i),n,o);return e.join("")}function t_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function r_(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}t_(s,e)}}function s_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function n_(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)ip(t.charCodeAt(n),r,s);return new Uint8Array(e)}function o_(t){const e=[];return r_(t,r=>e.push(r)),new Uint8Array(e)}function i_(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>Cu(n,r,s)),Cu(null,r,s),e.join("")}function a_(t){return Math.round(Date.now()/1e3)+t}function l_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",jr={tested:!1,writable:!1},fn=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jr.tested)return jr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jr.tested=!0,jr.writable=!0}catch{jr.tested=!0,jr.writable=!1}return jr.writable};function c_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,o)=>{e[o]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const ap=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vn(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},u_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},uo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ho=async(t,e)=>{await t.removeItem(e)};class ni{constructor(){this.promise=new ni.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ni.promiseConstructor=Promise;function Li(t){const e=t.split(".");if(e.length!==3)throw new hn("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Gw.test(e[s]))throw new hn("JWT not in base64url format");return{header:JSON.parse(Tu(e[0])),payload:JSON.parse(Tu(e[1])),signature:n_(e[2]),raw:{header:e[0],payload:e[1]}}}async function d_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h_(t,e){return new Promise((s,n)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){n(i);return}}})()})}function f_(t){return("0"+t.toString(16)).substr(-2)}function p_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let o=0;o<56;o++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,f_).join("")}async function m_(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(o=>String.fromCharCode(o)).join("")}async function g_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await m_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(t,e,r=!1){const s=p_();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await lp(t,`${e}-code-verifier`,n);const o=await g_(s);return[o,s===o?"plain":"s256"]}const x_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y_(t){const e=t.headers.get(Fa);if(!e||!e.match(x_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function v_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(t){if(!w_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var __=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const Tr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j_=[502,503,504];async function Nu(t){var e;if(!u_(t))throw new Va(Tr(t),0);if(j_.includes(t.status))throw new Va(Tr(t),t.status);let r;try{r=await t.json()}catch(o){throw new op(Tr(o),o)}let s;const n=y_(t);if(n&&n.getTime()>=np["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new ju(Tr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new ju(Tr(r),t.status,r.weak_password.reasons);throw new Xw(Tr(r),t.status||500,s)}const S_=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function te(t,e,r,s){var n;const o=Object.assign({},s==null?void 0:s.headers);o[Fa]||(o[Fa]=np["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await C_(t,e,r+l,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function C_(t,e,r,s,n,o){const i=S_(e,s,n,o);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Va(Tr(c),0)}if(l.ok||await Nu(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Nu(c)}}function zt(t){var e;let r=null;E_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=a_(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Ru(t){const e=zt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function sr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T_(t){return{data:t,error:null}}function N_(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o}=t,i=__(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function R_(t){return t}function E_(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fi=["global","local","others"];var k_=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class P_{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=ap(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Fi[0]){if(Fi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fi.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sr})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=k_(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:N_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:R_});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ts(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ts(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:sr})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){ts(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:sr})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ts(e.userId);try{const{data:r,error:s}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ts(e.userId),ts(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}const A_={getItem:t=>fn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{fn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{fn()&&globalThis.localStorage.removeItem(t)}};function Eu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function M_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rs={debug:!!(globalThis&&fn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $_ extends cp{}async function O_(t,e,r){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}M_();const I_={url:Kw,storageKey:qw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ww,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ku(t,e,r){return await r()}class jn{constructor(e){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jn.nextInstanceID,jn.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},I_),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new P_({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ap(n.fetch),this.lock=n.lock||ku,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=O_:this.lock=ku,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:fn()?this.storage=A_:(this.memoryStorage={},this.storage=Eu(this.memoryStorage)):(this.memoryStorage={},this.storage=Eu(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=c_(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),xt()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:o}=await this._getSessionFromURL(r,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Zw(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new op("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:zt}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,s,n;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await es(this.storage,this.storageKey)),o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:zt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zt})}else throw new lo("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ru})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ru})}else throw new lo("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ao}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,s,n,o,i,l,c,u,d,h,f,p;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:v,wallet:b,statement:_,options:y}=e;let w;if(xt())if(typeof b=="object")w=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),_?{statement:_}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:i_(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:zt});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ao}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(J(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await uo(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:o,error:i}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:zt});if(await ho(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:n??null}),error:i})}catch(o){if(J(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:o,nonce:i}=e,l=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ao}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,o,i;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await es(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new lo("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,s;try{let n,o;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:l}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:zt});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await es(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:T_})}catch(o){if(J(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new er;const{error:n}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:o}=e,{error:i}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:s,type:n,options:o}=e,{data:i,error:l}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new lo("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Ii:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sr}):await this._useSession(async r=>{var s,n,o;const{data:i,error:l}=r;if(l)throw l;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:sr})})}catch(r){if(J(r))return Qw(r)&&(await this._removeSession(),await ho(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:o}=s;if(o)throw o;if(!n.session)throw new er;const i=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await es(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:sr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new er;const r=Date.now()/1e3;let s=r,n=!0,o=null;const{payload:i}=Li(e.access_token);if(i.exp&&(s=i.exp,n=s<=r),n){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new er;const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new co("No browser detected.");if(e.error||e.error_description||e.error_code)throw new co(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new co("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _u("No code detected.");const{data:_,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!i||!u)throw new co("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:x,error:v}=await this._getUser(o);if(v)throw v;const b={provider_token:s,provider_refresh_token:n,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(J(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await uo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return{error:o};const i=(s=n.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(Jw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ho(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=l_(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:o},error:i}=r;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await es(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(J(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async o=>{var i,l,c,u,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(J(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)throw i;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await h_(async n=>(n>0&&await d_(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zt})),(n,o)=>{const i=200*Math.pow(2,n);return o&&Di(o)&&Date.now()+i-s<ss})}catch(s){if(this._debug(r,"error",s),J(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),xt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await uo(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ii;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${Ii}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Di(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ni;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new er;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(n,"error",o),J(o)){const i={session:null,error:o};return Di(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await lp(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ho(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ss}ms, refresh threshold is ${La} ticks`),n<=La&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await es(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);n.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;return o?{data:null,error:o}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;return o?{data:null,error:o}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=s.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:s,totp:n,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:o}=e;if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Li(n.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(i=>i.kid===e);if(s||(s=this.jwks.keys.find(i=>i.kid===e),s&&this.jwks_cached_at+Yw>Date.now()))return s;const{data:n,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!n.keys||n.keys.length===0)throw new hn("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(i=>i.kid===e),!s)throw new hn("No matching signing key found in JWKS");return s}async getClaims(e,r={keys:[]}){try{let s=e;if(!s){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};s=p.session.access_token}const{header:n,payload:o,signature:i,raw:{header:l,payload:c}}=Li(s);if(v_(o.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:o,header:n,signature:i},error:null}}const u=b_(n.alg),d=await this.fetchJwk(n.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,o_(`${l}.${c}`)))throw new hn("Invalid JWT signature");return{data:{claims:o,header:n,signature:i},error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}}jn.nextInstanceID=0;const D_=jn;class L_ extends D_{constructor(e){super(e)}}var F_=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(s.next(d))}catch(h){i(h)}}function c(d){try{u(s.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};class V_{constructor(e,r,s){var n,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Hw(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Ow,realtime:Dw,auth:Object.assign(Object.assign({},Iw),{storageKey:u}),global:$w},h=zw(s??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=Bw(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new sw(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Mb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pw(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return F_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:o,flowType:i,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const B_=(t,e,r)=>new V_(t,e,r),U_="https://qsrkzgywbcbfnmailmsp.supabase.co",H_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzcmt6Z3l3YmNiZm5tYWlsbXNwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1MzQ5OTcsImV4cCI6MjA1OTExMDk5N30.uqh8KDM_ks2lzo9Go-0ffCh2CFIURhQRb9qD84i6pQ0",Dl=B_(U_,H_),Vi={rillabox:{tableName:"rillabox_boxes",displayName:"RillaBox",color:"purple",gradient:"from-purple-600 to-purple-700",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-700"},hypedrop:{tableName:"hypedrop_boxes",displayName:"Hypedrop",color:"blue",gradient:"from-blue-600 to-blue-700",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-700"},casesgg:{tableName:"casesgg_boxes",displayName:"Cases.GG",color:"green",gradient:"from-green-600 to-green-700",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700"},luxdrop:{tableName:"luxdrop_boxes",displayName:"Luxdrop",color:"amber",gradient:"from-amber-600 to-amber-700",bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-700"}},Co=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>{let r=0;if(e.item_dropchance_formatted){const s=e.item_dropchance_formatted.toString().replace("%","");r=parseFloat(s)/100}else e.item_dropchance!==void 0?r=parseFloat(e.item_dropchance)/100:e.drop_chance!==void 0&&(r=parseFloat(e.drop_chance)/100);return{name:e.item_name||e.name||"Unknown Item",value:parseFloat(e.item_value||e.value||e.price||0),drop_chance:r,image:e.item_image||e.image||"",type:e.type||e.item_type||""}});if(typeof t=="string")try{const e=JSON.parse(t);if(Array.isArray(e))return Co(e)}catch(e){console.warn("Failed to parse JSON string:",e)}return[]},z_=t=>{if(!t)return[];if(Array.isArray(t))return t.filter(e=>e&&typeof e=="string");if(typeof t=="string")try{const e=JSON.parse(t);if(Array.isArray(e))return e.filter(r=>r&&typeof r=="string")}catch{return t.split(",").map(r=>r.trim()).filter(r=>r.length>0)}return[]},K_=t=>{if(!t||t.length===0)return{portfolio_average_ev_percent:0,best_box_by_ev_percent:"N/A",best_box_ev_percent:0,worst_box_by_ev_percent:"N/A",worst_box_ev_percent:0,portfolio_average_standard_deviation_percent:0,total_boxes:0,provider_breakdown:{}};const e=t.filter(l=>l.expected_value_percent_of_price&&!isNaN(l.expected_value_percent_of_price));if(e.length===0)return{portfolio_average_ev_percent:0,best_box_by_ev_percent:"N/A",best_box_ev_percent:0,worst_box_by_ev_percent:"N/A",worst_box_ev_percent:0,portfolio_average_standard_deviation_percent:0,total_boxes:t.length,provider_breakdown:{}};const r=e.reduce((l,c)=>l+Number(c.expected_value_percent_of_price),0)/e.length,s=e.reduce((l,c)=>Number(c.expected_value_percent_of_price)>Number(l.expected_value_percent_of_price)?c:l),n=e.reduce((l,c)=>Number(c.expected_value_percent_of_price)<Number(l.expected_value_percent_of_price)?c:l),o=e.filter(l=>l.standard_deviation_percent&&!isNaN(l.standard_deviation_percent)).reduce((l,c,u,d)=>l+Number(c.standard_deviation_percent)/d.length,0),i=t.reduce((l,c)=>(l[c.provider]=(l[c.provider]||0)+1,l),{});return{portfolio_average_ev_percent:r,best_box_by_ev_percent:s.box_name,best_box_ev_percent:Number(s.expected_value_percent_of_price),worst_box_by_ev_percent:n.box_name,worst_box_ev_percent:Number(n.expected_value_percent_of_price),portfolio_average_standard_deviation_percent:o,total_boxes:t.length,provider_breakdown:i}},q_=async(t,e=1e3)=>{console.log("Fetching unified mystery box data...");const r=[],s=t!=null&&t.length?t.filter(l=>l in Vi):Object.keys(Vi),n=s.map(async l=>{const c=l,u=Vi[c];console.log(`Fetching ${u.displayName} mystery boxes...`);try{const{data:d,error:h}=await Dl.from(u.tableName).select(`
          box_name,
          box_price,
          box_image,
          expected_value_percent,
          volatility_bucket,
          standard_deviation_percent,
          floor_rate_percent,
          category,
          tags,
          jackpot_items,
          unwanted_items,
          all_items
        `).order("box_name").limit(e);return h?(console.error(`Error fetching ${u.displayName} mystery boxes:`,h),[]):d&&d.length>0?d.map(f=>{const p=Co(f.jackpot_items),g=Co(f.unwanted_items);let x=Co(f.all_items);return x.length===0&&(p.length>0||g.length>0)&&(x=[...p,...g],console.log(`Fixed empty all_items for box: ${f.box_name}, combined ${x.length} items`)),{box_name:f.box_name||"Unknown Mystery Box",box_price:Number(f.box_price)||0,box_image:f.box_image||"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=300&fit=crop",expected_value_percent_of_price:Number(f.expected_value_percent)||0,volatility_bucket:f.volatility_bucket||"Medium",standard_deviation_percent:Number(f.standard_deviation_percent)||0,floor_rate_percent:Number(f.floor_rate_percent)||0,category:f.category||"Mystery Boxes",tags:z_(f.tags),jackpot_items:p,unwanted_items:g,all_items:x,provider:c,provider_config:u}}):[]}catch(d){return console.error(`Error fetching ${u.displayName} mystery boxes:`,d),[]}});(await Promise.allSettled(n)).forEach((l,c)=>{l.status==="fulfilled"?r.push(...l.value):console.error(`Provider ${s[c]} failed:`,l.reason)}),console.log(`Total unified mystery boxes loaded: ${r.length}`);const i=K_(r);return{allBoxes:r,summaryData:i}},up=(t,e)=>{const{data:r,isLoading:s,error:n,refetch:o}=Af({queryKey:["unifiedBoxData",t==null?void 0:t.sort(),e],queryFn:()=>q_(t,e),staleTime:3e5,gcTime:6e5,retry:2,retryDelay:i=>Math.min(1e3*2**i,1e4)});return{summaryData:(r==null?void 0:r.summaryData)||null,boxesData:(r==null?void 0:r.allBoxes)||[],loading:s,error:(n==null?void 0:n.message)||null,refetch:o}};function Er({children:t,className:e}){return a.jsxs("div",{className:G("relative w-full bg-white",e),children:[a.jsx("div",{className:G("fixed inset-0 z-0","[background-size:20px_20px]","[background-image:radial-gradient(#a855f7_1px,transparent_1px)]")}),a.jsx("div",{className:"pointer-events-none fixed inset-0 z-0 bg-white [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]"}),a.jsx("div",{className:"relative z-10",children:t})]})}const W_=Dn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dp=m.forwardRef(({className:t,variant:e,...r},s)=>a.jsx("div",{ref:s,role:"alert",className:G(W_({variant:e}),t),...r}));dp.displayName="Alert";const G_=m.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:G("mb-1 font-medium leading-none tracking-tight",t),...e}));G_.displayName="AlertTitle";const hp=m.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:G("text-sm [&_p]:leading-relaxed",t),...e}));hp.displayName="AlertDescription";const Ll=m.createContext({});function Fl(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vl=typeof window<"u",fp=Vl?m.useLayoutEffect:m.useEffect,oi=m.createContext(null);function Bl(t,e){t.indexOf(e)===-1&&t.push(e)}function Ul(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const qt=(t,e,r)=>r>e?e:r<t?t:r;let Lo=()=>{};const Wt={},pp=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mp(t){return typeof t=="object"&&t!==null}const gp=t=>/^0[^.\s]+$/u.test(t);function Hl(t){let e;return()=>(e===void 0&&(e=t()),e)}const dt=t=>t,Y_=(t,e)=>r=>e(t(r)),Hn=(...t)=>t.reduce(Y_),Sn=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class zl{constructor(){this.subscriptions=[]}add(e){return Bl(this.subscriptions,e),()=>Ul(this.subscriptions,e)}notify(e,r,s){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,r,s);else for(let o=0;o<n;o++){const i=this.subscriptions[o];i&&i(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $t=t=>t*1e3,Ot=t=>t/1e3;function xp(t,e){return e?t*(1e3/e):0}const yp=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,X_=1e-7,J_=12;function Q_(t,e,r,s,n){let o,i,l=0;do i=e+(r-e)/2,o=yp(i,s,n)-t,o>0?r=i:e=i;while(Math.abs(o)>X_&&++l<J_);return i}function zn(t,e,r,s){if(t===e&&r===s)return dt;const n=o=>Q_(o,0,1,t,r);return o=>o===0||o===1?o:yp(n(o),e,s)}const vp=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bp=t=>e=>1-t(1-e),wp=zn(.33,1.53,.69,.99),Kl=bp(wp),_p=vp(Kl),jp=t=>(t*=2)<1?.5*Kl(t):.5*(2-Math.pow(2,-10*(t-1))),ql=t=>1-Math.sin(Math.acos(t)),Sp=bp(ql),Cp=vp(ql),Z_=zn(.42,0,1,1),ej=zn(0,0,.58,1),Tp=zn(.42,0,.58,1),tj=t=>Array.isArray(t)&&typeof t[0]!="number",Np=t=>Array.isArray(t)&&typeof t[0]=="number",Pu={linear:dt,easeIn:Z_,easeInOut:Tp,easeOut:ej,circIn:ql,circInOut:Cp,circOut:Sp,backIn:Kl,backInOut:_p,backOut:wp,anticipate:jp},rj=t=>typeof t=="string",Au=t=>{if(Np(t)){Lo(t.length===4);const[e,r,s,n]=t;return zn(e,r,s,n)}else if(rj(t))return Lo(Pu[t]!==void 0),Pu[t];return t},fo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mu={value:null,addProjectionMetrics:null};function sj(t,e){let r=new Set,s=new Set,n=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){i.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,f=!1,p=!1)=>{const x=p&&n?r:s;return f&&i.add(h),x.has(h)||x.add(h),h},cancel:h=>{s.delete(h),i.delete(h)},process:h=>{if(l=h,n){o=!0;return}n=!0,[r,s]=[s,r],r.forEach(u),e&&Mu.value&&Mu.value.frameloop[e].push(c),c=0,r.clear(),n=!1,o&&(o=!1,d.process(h))}};return d}const nj=40;function Rp(t,e){let r=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,i=fo.reduce((y,w)=>(y[w]=sj(o,e?w:void 0),y),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:g}=i,x=()=>{const y=Wt.useManualTiming?n.timestamp:performance.now();r=!1,Wt.useManualTiming||(n.delta=s?1e3/60:Math.max(Math.min(y-n.timestamp,nj),1)),n.timestamp=y,n.isProcessing=!0,l.process(n),c.process(n),u.process(n),d.process(n),h.process(n),f.process(n),p.process(n),g.process(n),n.isProcessing=!1,r&&e&&(s=!1,t(x))},v=()=>{r=!0,s=!0,n.isProcessing||t(x)};return{schedule:fo.reduce((y,w)=>{const j=i[w];return y[w]=(C,N=!1,R=!1)=>(r||v(),j.schedule(C,N,R)),y},{}),cancel:y=>{for(let w=0;w<fo.length;w++)i[fo[w]].cancel(y)},state:n,steps:i}}const{schedule:me,cancel:pr,state:Me,steps:Bi}=Rp(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0);let To;function oj(){To=void 0}const Qe={now:()=>(To===void 0&&Qe.set(Me.isProcessing||Wt.useManualTiming?Me.timestamp:performance.now()),To),set:t=>{To=t,queueMicrotask(oj)}},Ep=t=>e=>typeof e=="string"&&e.startsWith(t),Wl=Ep("--"),ij=Ep("var(--"),Gl=t=>ij(t)?aj.test(t.split("/*")[0].trim()):!1,aj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cn={...Ds,transform:t=>qt(0,1,t)},po={...Ds,default:1},pn=t=>Math.round(t*1e5)/1e5,Yl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lj(t){return t==null}const cj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xl=(t,e)=>r=>!!(typeof r=="string"&&cj.test(r)&&r.startsWith(t)||e&&!lj(r)&&Object.prototype.hasOwnProperty.call(r,e)),kp=(t,e,r)=>s=>{if(typeof s!="string")return s;const[n,o,i,l]=s.match(Yl);return{[t]:parseFloat(n),[e]:parseFloat(o),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},uj=t=>qt(0,255,t),Ui={...Ds,transform:t=>Math.round(uj(t))},kr={test:Xl("rgb","red"),parse:kp("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+Ui.transform(t)+", "+Ui.transform(e)+", "+Ui.transform(r)+", "+pn(Cn.transform(s))+")"};function dj(t){let e="",r="",s="",n="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),n=t.substring(4,5),e+=e,r+=r,s+=s,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}}const Ba={test:Xl("#"),parse:dj,transform:kr.transform},Kn=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),tr=Kn("deg"),It=Kn("%"),q=Kn("px"),hj=Kn("vh"),fj=Kn("vw"),$u={...It,parse:t=>It.parse(t)/100,transform:t=>It.transform(t*100)},ns={test:Xl("hsl","hue"),parse:kp("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+It.transform(pn(e))+", "+It.transform(pn(r))+", "+pn(Cn.transform(s))+")"},je={test:t=>kr.test(t)||Ba.test(t)||ns.test(t),parse:t=>kr.test(t)?kr.parse(t):ns.test(t)?ns.parse(t):Ba.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?kr.transform(t):ns.transform(t),getAnimatableNone:t=>{const e=je.parse(t);return e.alpha=0,je.transform(e)}},pj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mj(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Yl))==null?void 0:e.length)||0)+(((r=t.match(pj))==null?void 0:r.length)||0)>0}const Pp="number",Ap="color",gj="var",xj="var(",Ou="${}",yj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tn(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},n=[];let o=0;const l=e.replace(yj,c=>(je.test(c)?(s.color.push(o),n.push(Ap),r.push(je.parse(c))):c.startsWith(xj)?(s.var.push(o),n.push(gj),r.push(c)):(s.number.push(o),n.push(Pp),r.push(parseFloat(c))),++o,Ou)).split(Ou);return{values:r,split:l,indexes:s,types:n}}function Mp(t){return Tn(t).values}function $p(t){const{split:e,types:r}=Tn(t),s=e.length;return n=>{let o="";for(let i=0;i<s;i++)if(o+=e[i],n[i]!==void 0){const l=r[i];l===Pp?o+=pn(n[i]):l===Ap?o+=je.transform(n[i]):o+=n[i]}return o}}const vj=t=>typeof t=="number"?0:je.test(t)?je.getAnimatableNone(t):t;function bj(t){const e=Mp(t);return $p(t)(e.map(vj))}const mr={test:mj,parse:Mp,createTransformer:$p,getAnimatableNone:bj};function Hi(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function wj({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let n=0,o=0,i=0;if(!e)n=o=i=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;n=Hi(c,l,t+1/3),o=Hi(c,l,t),i=Hi(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:s}}function Fo(t,e){return r=>r>0?e:t}const pe=(t,e,r)=>t+(e-t)*r,zi=(t,e,r)=>{const s=t*t,n=r*(e*e-s)+s;return n<0?0:Math.sqrt(n)},_j=[Ba,kr,ns],jj=t=>_j.find(e=>e.test(t));function Iu(t){const e=jj(t);if(!e)return!1;let r=e.parse(t);return e===ns&&(r=wj(r)),r}const Du=(t,e)=>{const r=Iu(t),s=Iu(e);if(!r||!s)return Fo(t,e);const n={...r};return o=>(n.red=zi(r.red,s.red,o),n.green=zi(r.green,s.green,o),n.blue=zi(r.blue,s.blue,o),n.alpha=pe(r.alpha,s.alpha,o),kr.transform(n))},Ua=new Set(["none","hidden"]);function Sj(t,e){return Ua.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Cj(t,e){return r=>pe(t,e,r)}function Jl(t){return typeof t=="number"?Cj:typeof t=="string"?Gl(t)?Fo:je.test(t)?Du:Rj:Array.isArray(t)?Op:typeof t=="object"?je.test(t)?Du:Tj:Fo}function Op(t,e){const r=[...t],s=r.length,n=t.map((o,i)=>Jl(o)(o,e[i]));return o=>{for(let i=0;i<s;i++)r[i]=n[i](o);return r}}function Tj(t,e){const r={...t,...e},s={};for(const n in r)t[n]!==void 0&&e[n]!==void 0&&(s[n]=Jl(t[n])(t[n],e[n]));return n=>{for(const o in s)r[o]=s[o](n);return r}}function Nj(t,e){const r=[],s={color:0,var:0,number:0};for(let n=0;n<e.values.length;n++){const o=e.types[n],i=t.indexes[o][s[o]],l=t.values[i]??0;r[n]=l,s[o]++}return r}const Rj=(t,e)=>{const r=mr.createTransformer(e),s=Tn(t),n=Tn(e);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?Ua.has(t)&&!n.values.length||Ua.has(e)&&!s.values.length?Sj(t,e):Hn(Op(Nj(s,n),n.values),r):Fo(t,e)};function Ip(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?pe(t,e,r):Jl(t)(t,e)}const Ej=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>me.update(e,r),stop:()=>pr(e),now:()=>Me.isProcessing?Me.timestamp:Qe.now()}},Dp=(t,e,r=10)=>{let s="";const n=Math.max(Math.round(e/r),2);for(let o=0;o<n;o++)s+=Math.round(t(o/(n-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Vo=2e4;function Ql(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Vo;)e+=r,s=t.next(e);return e>=Vo?1/0:e}function kj(t,e=100,r){const s=r({...t,keyframes:[0,e]}),n=Math.min(Ql(s),Vo);return{type:"keyframes",ease:o=>s.next(n*o).value/e,duration:Ot(n)}}const Pj=5;function Lp(t,e,r){const s=Math.max(e-Pj,0);return xp(r-t(s),e-s)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ki=.001;function Aj({duration:t=be.duration,bounce:e=be.bounce,velocity:r=be.velocity,mass:s=be.mass}){let n,o,i=1-e;i=qt(be.minDamping,be.maxDamping,i),t=qt(be.minDuration,be.maxDuration,Ot(t)),i<1?(n=u=>{const d=u*i,h=d*t,f=d-r,p=Ha(u,i),g=Math.exp(-h);return Ki-f/p*g},o=u=>{const h=u*i*t,f=h*r+r,p=Math.pow(i,2)*Math.pow(u,2)*t,g=Math.exp(-h),x=Ha(Math.pow(u,2),i);return(-n(u)+Ki>0?-1:1)*((f-p)*g)/x}):(n=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-Ki+d*h},o=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const l=5/t,c=$j(n,o,l);if(t=$t(t),isNaN(c))return{stiffness:be.stiffness,damping:be.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:i*2*Math.sqrt(s*u),duration:t}}}const Mj=12;function $j(t,e,r){let s=r;for(let n=1;n<Mj;n++)s=s-t(s)/e(s);return s}function Ha(t,e){return t*Math.sqrt(1-e*e)}const Oj=["duration","bounce"],Ij=["stiffness","damping","mass"];function Lu(t,e){return e.some(r=>t[r]!==void 0)}function Dj(t){let e={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...t};if(!Lu(t,Ij)&&Lu(t,Oj))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),n=s*s,o=2*qt(.05,1,1-(t.bounce||0))*Math.sqrt(n);e={...e,mass:be.mass,stiffness:n,damping:o}}else{const r=Aj(t);e={...e,...r,mass:be.mass},e.isResolvedFromDuration=!0}return e}function Bo(t=be.visualDuration,e=be.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:n}=r;const o=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=Dj({...r,velocity:-Ot(r.velocity||0)}),g=f||0,x=u/(2*Math.sqrt(c*d)),v=i-o,b=Ot(Math.sqrt(c/d)),_=Math.abs(v)<5;s||(s=_?be.restSpeed.granular:be.restSpeed.default),n||(n=_?be.restDelta.granular:be.restDelta.default);let y;if(x<1){const j=Ha(b,x);y=C=>{const N=Math.exp(-x*b*C);return i-N*((g+x*b*v)/j*Math.sin(j*C)+v*Math.cos(j*C))}}else if(x===1)y=j=>i-Math.exp(-b*j)*(v+(g+b*v)*j);else{const j=b*Math.sqrt(x*x-1);y=C=>{const N=Math.exp(-x*b*C),R=Math.min(j*C,300);return i-N*((g+x*b*v)*Math.sinh(R)+j*v*Math.cosh(R))/j}}const w={calculatedDuration:p&&h||null,next:j=>{const C=y(j);if(p)l.done=j>=h;else{let N=j===0?g:0;x<1&&(N=j===0?$t(g):Lp(y,j,C));const R=Math.abs(N)<=s,E=Math.abs(i-C)<=n;l.done=R&&E}return l.value=l.done?i:C,l},toString:()=>{const j=Math.min(Ql(w),Vo),C=Dp(N=>w.next(j*N).value,j,30);return j+"ms "+C},toTransition:()=>{}};return w}Bo.applyToOptions=t=>{const e=kj(t,100,Bo);return t.ease=e.ease,t.duration=$t(e.duration),t.type="keyframes",t};function za({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=R=>l!==void 0&&R<l||c!==void 0&&R>c,g=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let x=r*e;const v=h+x,b=i===void 0?v:i(v);b!==v&&(x=b-h);const _=R=>-x*Math.exp(-R/s),y=R=>b+_(R),w=R=>{const E=_(R),P=y(R);f.done=Math.abs(E)<=u,f.value=f.done?b:P};let j,C;const N=R=>{p(f.value)&&(j=R,C=Bo({keyframes:[f.value,g(f.value)],velocity:Lp(y,R,f.value),damping:n,stiffness:o,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:R=>{let E=!1;return!C&&j===void 0&&(E=!0,w(R),N(R)),j!==void 0&&R>=j?C.next(R-j):(!E&&w(R),f)}}}function Lj(t,e,r){const s=[],n=r||Wt.mix||Ip,o=t.length-1;for(let i=0;i<o;i++){let l=n(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||dt:e;l=Hn(c,l)}s.push(l)}return s}function Fj(t,e,{clamp:r=!0,ease:s,mixer:n}={}){const o=t.length;if(Lo(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const i=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Lj(e,s,n),c=l.length,u=d=>{if(i&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Sn(t[h],t[h+1],d);return l[h](f)};return r?d=>u(qt(t[0],t[o-1],d)):u}function Vj(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const n=Sn(0,e,s);t.push(pe(r,1,n))}}function Bj(t){const e=[0];return Vj(e,t.length-1),e}function Uj(t,e){return t.map(r=>r*e)}function Hj(t,e){return t.map(()=>e||Tp).splice(0,t.length-1)}function mn({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const n=tj(s)?s.map(Au):Au(s),o={done:!1,value:e[0]},i=Uj(r&&r.length===e.length?r:Bj(e),t),l=Fj(i,e,{ease:Array.isArray(n)?n:Hj(e,n)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const zj=t=>t!==null;function Zl(t,{repeat:e,repeatType:r="loop"},s,n=1){const o=t.filter(zj),l=n<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const Kj={decay:za,inertia:za,tween:mn,keyframes:mn,spring:Bo};function Fp(t){typeof t.type=="string"&&(t.type=Kj[t.type])}class ec{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const qj=t=>t/100;class tc extends ec{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,n;const{motionValue:r}=this.options;r&&r.updatedAt!==Qe.now()&&this.tick(Qe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(s=this.options).onStop)==null||n.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fp(e);const{type:r=mn,repeat:s=0,repeatDelay:n=0,repeatType:o,velocity:i=0}=e;let{keyframes:l}=e;const c=r||mn;c!==mn&&typeof l[0]!="number"&&(this.mixKeyframes=Hn(qj,Ip(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=Ql(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(s+1)-n,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:n,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:g,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?b<0:b>n;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let y=this.currentTime,w=s;if(h){const R=Math.min(this.currentTime,n)/l;let E=Math.floor(R),P=R%1;!P&&R>=1&&(P=1),P===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(f==="reverse"?(P=1-P,p&&(P-=p/l)):f==="mirror"&&(w=i)),y=qt(0,1,P)*l}const j=_?{done:!1,value:d[0]}:w.next(y);o&&(j.value=o(j.value));let{done:C}=j;!_&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&g!==za&&(j.value=Zl(d,this.options,v,this.speed)),x&&x(j.value),N&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return Ot(this.calculatedDuration)}get time(){return Ot(this.currentTime)}set time(e){var r;e=$t(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qe.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ot(this.currentTime))}play(){var n,o;if(this.isStopped)return;const{driver:e=Ej,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),(o=(n=this.options).onPlay)==null||o.call(n);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Wj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pr=t=>t*180/Math.PI,Ka=t=>{const e=Pr(Math.atan2(t[1],t[0]));return qa(e)},Gj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ka,rotateZ:Ka,skewX:t=>Pr(Math.atan(t[1])),skewY:t=>Pr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qa=t=>(t=t%360,t<0&&(t+=360),t),Fu=Ka,Vu=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Bu=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Yj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vu,scaleY:Bu,scale:t=>(Vu(t)+Bu(t))/2,rotateX:t=>qa(Pr(Math.atan2(t[6],t[5]))),rotateY:t=>qa(Pr(Math.atan2(-t[2],t[0]))),rotateZ:Fu,rotate:Fu,skewX:t=>Pr(Math.atan(t[4])),skewY:t=>Pr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wa(t){return t.includes("scale")?1:0}function Ga(t,e){if(!t||t==="none")return Wa(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,n;if(r)s=Yj,n=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Gj,n=l}if(!n)return Wa(e);const o=s[e],i=n[1].split(",").map(Jj);return typeof o=="function"?o(i):i[o]}const Xj=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Ga(r,e)};function Jj(t){return parseFloat(t.trim())}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fs=new Set(Ls),Uu=t=>t===Ds||t===q,Qj=new Set(["x","y","z"]),Zj=Ls.filter(t=>!Qj.has(t));function e1(t){const e=[];return Zj.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Vr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ga(e,"x"),y:(t,{transform:e})=>Ga(e,"y")};Vr.translateX=Vr.x;Vr.translateY=Vr.y;const Br=new Set;let Ya=!1,Xa=!1,Ja=!1;function Vp(){if(Xa){const t=Array.from(Br).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const n=e1(s);n.length&&(r.set(s,n),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const n=r.get(s);n&&n.forEach(([o,i])=>{var l;(l=s.getValue(o))==null||l.set(i)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Xa=!1,Ya=!1,Br.forEach(t=>t.complete(Ja)),Br.clear()}function Bp(){Br.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xa=!0)})}function t1(){Ja=!0,Bp(),Vp(),Ja=!1}class rc{constructor(e,r,s,n,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=n,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Br.add(this),Ya||(Ya=!0,me.read(Bp),me.resolveKeyframes(Vp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:n}=this;if(e[0]===null){const o=n==null?void 0:n.get(),i=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&r){const l=s.readValue(r,i);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=i),n&&o===void 0&&n.set(e[0])}Wj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Br.delete(this)}cancel(){this.state==="scheduled"&&(Br.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r1=t=>t.startsWith("--");function s1(t,e,r){r1(e)?t.style.setProperty(e,r):t.style[e]=r}const n1=Hl(()=>window.ScrollTimeline!==void 0),o1={};function i1(t,e){const r=Hl(t);return()=>o1[e]??r()}const Up=i1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ln=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,Hu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ln([0,.65,.55,1]),circOut:ln([.55,0,1,.45]),backIn:ln([.31,.01,.66,-.59]),backOut:ln([.33,1.53,.69,.99])};function Hp(t,e){if(t)return typeof t=="function"?Up()?Dp(t,e):"ease-out":Np(t)?ln(t):Array.isArray(t)?t.map(r=>Hp(r,e)||Hu.easeOut):Hu[t]}function a1(t,e,r,{delay:s=0,duration:n=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const h=Hp(l,n);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function zp(t){return typeof t=="function"&&"applyToOptions"in t}function l1({type:t,...e}){return zp(t)&&Up()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class c1 extends ec{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:n,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=e,Lo(typeof e.type!="string");const u=l1(e);this.animation=a1(r,s,n,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=Zl(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):s1(r,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,s;const e=((s=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:s.call(r).duration)||0;return Ot(Number(e))}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$t(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&n1()?(this.animation.timeline=e,dt):r(this)}}const Kp={anticipate:jp,backInOut:_p,circInOut:Cp};function u1(t){return t in Kp}function d1(t){typeof t.ease=="string"&&u1(t.ease)&&(t.ease=Kp[t.ease])}const zu=10;class h1 extends c1{constructor(e){d1(e),Fp(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:n,element:o,...i}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new tc({...i,autoplay:!1}),c=$t(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-zu).value,l.sample(c).value,zu),l.stop()}}const Ku=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mr.test(t)||t==="0")&&!t.startsWith("url("));function f1(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function p1(t,e,r,s){const n=t[0];if(n===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=Ku(n,e),l=Ku(o,e);return!i||!l?!1:f1(t)||(r==="spring"||zp(r))&&s}function sc(t){return mp(t)&&"offsetHeight"in t}const m1=new Set(["opacity","clipPath","filter","transform"]),g1=Hl(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x1(t){var u;const{motionValue:e,name:r,repeatDelay:s,repeatType:n,damping:o,type:i}=t;if(!sc((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return g1()&&r&&m1.has(r)&&(r!=="transform"||!c)&&!l&&!s&&n!=="mirror"&&o!==0&&i!=="inertia"}const y1=40;class v1 extends ec{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var x,v;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Qe.now();const f={autoplay:e,delay:r,type:s,repeat:n,repeatDelay:o,repeatType:i,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||rc;this.keyframeResolver=new p(l,(x,v,b)=>this.onKeyframesResolved(x,v,f,!b),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,r,s,n){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Qe.now(),p1(e,o,i,l)||((Wt.instantAnimations||!c)&&(d==null||d(Zl(e,s,r))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>y1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},p=!u&&x1(f)?new h1({...f,element:f.motionValue.owner.current}):new tc(f);p.finished.then(()=>this.notifyFinished()).catch(dt),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),t1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const b1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w1(t){const e=b1.exec(t);if(!e)return[,];const[,r,s,n]=e;return[`--${r??s}`,n]}function qp(t,e,r=1){const[s,n]=w1(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const i=o.trim();return pp(i)?parseFloat(i):i}return Gl(n)?qp(n,e,r+1):n}function nc(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Wp=new Set(["width","height","top","left","right","bottom",...Ls]),_1={test:t=>t==="auto",parse:t=>t},Gp=t=>e=>e.test(t),Yp=[Ds,q,It,tr,fj,hj,_1],qu=t=>Yp.find(Gp(t));function j1(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gp(t):!0}const S1=new Set(["brightness","contrast","saturate","opacity"]);function C1(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(Yl)||[];if(!s)return t;const n=r.replace(s,"");let o=S1.has(e)?1:0;return s!==r&&(o*=100),e+"("+o+n+")"}const T1=/\b([a-z-]*)\(.*?\)/gu,Qa={...mr,getAnimatableNone:t=>{const e=t.match(T1);return e?e.map(C1).join(" "):t}},Wu={...Ds,transform:Math.round},N1={rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:po,scaleX:po,scaleY:po,scaleZ:po,skew:tr,skewX:tr,skewY:tr,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Cn,originX:$u,originY:$u,originZ:q},oc={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...N1,zIndex:Wu,fillOpacity:Cn,strokeOpacity:Cn,numOctaves:Wu},R1={...oc,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:Qa,WebkitFilter:Qa},Xp=t=>R1[t];function Jp(t,e){let r=Xp(t);return r!==Qa&&(r=mr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const E1=new Set(["auto","none","0"]);function k1(t,e,r){let s=0,n;for(;s<t.length&&!n;){const o=t[s];typeof o=="string"&&!E1.has(o)&&Tn(o).values.length&&(n=t[s]),s++}if(n&&r)for(const o of e)t[o]=Jp(r,n)}class P1 extends rc{constructor(e,r,s,n,o){super(e,r,s,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Gl(u))){const d=qp(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Wp.has(s)||e.length!==2)return;const[n,o]=e,i=qu(n),l=qu(o);if(i!==l)if(Uu(i)&&Uu(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Vr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let n=0;n<e.length;n++)(e[n]===null||j1(e[n]))&&s.push(n);s.length&&k1(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&e.getValue(s,n).jump(n,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const n=e.getValue(r);n&&n.jump(this.measuredOrigin,!1);const o=s.length-1,i=s[o];s[o]=Vr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function A1(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const n=document.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const Qp=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Gu=30,M1=t=>!isNaN(parseFloat(t));class $1{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,n=!0)=>{var i,l;const o=Qe.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();n&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Qe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new zl);const s=this.events[e].add(r);return e==="change"?()=>{s(),me.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gu)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Gu);return xp(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Es(t,e){return new $1(t,e)}const{schedule:ic,cancel:Hk}=Rp(queueMicrotask,!1),yt={x:!1,y:!1};function Zp(){return yt.x||yt.y}function O1(t){return t==="x"||t==="y"?yt[t]?null:(yt[t]=!0,()=>{yt[t]=!1}):yt.x||yt.y?null:(yt.x=yt.y=!0,()=>{yt.x=yt.y=!1})}function em(t,e){const r=A1(t),s=new AbortController,n={passive:!0,...e,signal:s.signal};return[r,n,()=>s.abort()]}function Yu(t){return!(t.pointerType==="touch"||Zp())}function I1(t,e,r={}){const[s,n,o]=em(t,r),i=l=>{if(!Yu(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{Yu(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,n)};return s.forEach(l=>{l.addEventListener("pointerenter",i,n)}),o}const tm=(t,e)=>e?t===e?!0:tm(t,e.parentElement):!1,ac=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,D1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L1(t){return D1.has(t.tagName)||t.tabIndex!==-1}const No=new WeakSet;function Xu(t){return e=>{e.key==="Enter"&&t(e)}}function qi(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F1=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=Xu(()=>{if(No.has(r))return;qi(r,"down");const n=Xu(()=>{qi(r,"up")}),o=()=>qi(r,"cancel");r.addEventListener("keyup",n,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function Ju(t){return ac(t)&&!Zp()}function V1(t,e,r={}){const[s,n,o]=em(t,r),i=l=>{const c=l.currentTarget;if(!Ju(l))return;No.add(c);const u=e(c,l),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),No.has(c)&&No.delete(c),Ju(p)&&typeof u=="function"&&u(p,{success:g})},h=p=>{d(p,c===window||c===document||r.useGlobalTarget||tm(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",f,n)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,n),sc(l)&&(l.addEventListener("focus",u=>F1(u,n)),!L1(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function rm(t){return mp(t)&&"ownerSVGElement"in t}function B1(t){return rm(t)&&t.tagName==="svg"}const De=t=>!!(t&&t.getVelocity),U1=[...Yp,je,mr],H1=t=>U1.find(Gp(t)),lc=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class z1 extends m.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,n=sc(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=n-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K1({children:t,isPresent:e,anchorX:r}){const s=m.useId(),n=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=m.useContext(lc);return m.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=o.current;if(e||!n.current||!l||!c)return;const f=r==="left"?`left: ${d}`:`right: ${h}`;n.current.dataset.motionPopId=s;const p=document.createElement("style");return i&&(p.nonce=i),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[e]),a.jsx(z1,{isPresent:e,childRef:n,sizeRef:o,children:m.cloneElement(t,{ref:n})})}const q1=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:n,presenceAffectsLayout:o,mode:i,anchorX:l})=>{const c=Fl(W1),u=m.useId();let d=!0,h=m.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:r,custom:n,onExitComplete:f=>{c.set(f,!0);for(const p of c.values())if(!p)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[r,c,s]);return o&&d&&(h={...h}),m.useMemo(()=>{c.forEach((f,p)=>c.set(p,!1))},[r]),m.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),i==="popLayout"&&(t=a.jsx(K1,{isPresent:r,anchorX:l,children:t})),a.jsx(oi.Provider,{value:h,children:t})};function W1(){return new Map}function sm(t=!0){const e=m.useContext(oi);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:n}=e,o=m.useId();m.useEffect(()=>{if(t)return n(o)},[t]);const i=m.useCallback(()=>t&&s&&s(o),[o,s,t]);return!r&&s?[!1,i]:[!0]}const mo=t=>t.key||"";function Qu(t){const e=[];return m.Children.forEach(t,r=>{m.isValidElement(r)&&e.push(r)}),e}const G1=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:o="sync",propagate:i=!1,anchorX:l="left"})=>{const[c,u]=sm(i),d=m.useMemo(()=>Qu(t),[t]),h=i&&!c?[]:d.map(mo),f=m.useRef(!0),p=m.useRef(d),g=Fl(()=>new Map),[x,v]=m.useState(d),[b,_]=m.useState(d);fp(()=>{f.current=!1,p.current=d;for(let j=0;j<b.length;j++){const C=mo(b[j]);h.includes(C)?g.delete(C):g.get(C)!==!0&&g.set(C,!1)}},[b,h.length,h.join("-")]);const y=[];if(d!==x){let j=[...d];for(let C=0;C<b.length;C++){const N=b[C],R=mo(N);h.includes(R)||(j.splice(C,0,N),y.push(N))}return o==="wait"&&y.length&&(j=y),_(Qu(j)),v(d),null}const{forceRender:w}=m.useContext(Ll);return a.jsx(a.Fragment,{children:b.map(j=>{const C=mo(j),N=i&&!c?!1:d===b||h.includes(C),R=()=>{if(g.has(C))g.set(C,!0);else return;let E=!0;g.forEach(P=>{P||(E=!1)}),E&&(w==null||w(),_(p.current),i&&(u==null||u()),s&&s())};return a.jsx(q1,{isPresent:N,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:n,mode:o,onExitComplete:N?void 0:R,anchorX:l,children:j},C)})})},nm=m.createContext({strict:!1}),Zu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ks={};for(const t in Zu)ks[t]={isEnabled:e=>Zu[t].some(r=>!!e[r])};function Y1(t){for(const e in t)ks[e]={...ks[e],...t[e]}}const X1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X1.has(t)}let om=t=>!Uo(t);function J1(t){typeof t=="function"&&(om=e=>e.startsWith("on")?!Uo(e):t(e))}try{J1(require("@emotion/is-prop-valid").default)}catch{}function Q1(t,e,r){const s={};for(const n in t)n==="values"&&typeof t.values=="object"||(om(n)||r===!0&&Uo(n)||!e&&!Uo(n)||t.draggable&&n.startsWith("onDrag"))&&(s[n]=t[n]);return s}function Z1(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...s)=>t(...s);return new Proxy(r,{get:(s,n)=>n==="create"?t:(e.has(n)||e.set(n,t(n)),e.get(n))})}const ii=m.createContext({});function ai(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Nn(t){return typeof t=="string"||Array.isArray(t)}const cc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uc=["initial",...cc];function li(t){return ai(t.animate)||uc.some(e=>Nn(t[e]))}function im(t){return!!(li(t)||t.variants)}function eS(t,e){if(li(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Nn(r)?r:void 0,animate:Nn(s)?s:void 0}}return t.inherit!==!1?e:{}}function tS(t){const{initial:e,animate:r}=eS(t,m.useContext(ii));return m.useMemo(()=>({initial:e,animate:r}),[ed(e),ed(r)])}function ed(t){return Array.isArray(t)?t.join(" "):t}const rS=Symbol.for("motionComponentSymbol");function os(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sS(t,e,r){return m.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):os(r)&&(r.current=s))},[e])}const dc=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nS="framerAppearId",am="data-"+dc(nS),lm=m.createContext({});function oS(t,e,r,s,n){var x,v;const{visualElement:o}=m.useContext(ii),i=m.useContext(nm),l=m.useContext(oi),c=m.useContext(lc).reducedMotion,u=m.useRef(null);s=s||i.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=m.useContext(lm);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&iS(u.current,r,n,h);const f=m.useRef(!1);m.useInsertionEffect(()=>{d&&f.current&&d.update(r,l)});const p=r[am],g=m.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return fp(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),ic.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),g.current=!1))}),d}function iS(t,e,r,s){const{layoutId:n,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:cm(t.parent)),t.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!i||l&&os(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function cm(t){if(t)return t.options.allowProjection!==!1?t.projection:cm(t.parent)}function aS({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:s,Component:n}){t&&Y1(t);function o(l,c){let u;const d={...m.useContext(lc),...l,layoutId:lS(l)},{isStatic:h}=d,f=tS(l),p=s(l,h);if(!h&&Vl){cS();const g=uS(d);u=g.MeasureLayout,f.visualElement=oS(n,p,d,e,g.ProjectionNode)}return a.jsxs(ii.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,r(n,l,sS(p,f.visualElement,c),p,h,f.visualElement)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const i=m.forwardRef(o);return i[rS]=n,i}function lS({layoutId:t}){const e=m.useContext(Ll).id;return e&&t!==void 0?e+"-"+t:t}function cS(t,e){m.useContext(nm).strict}function uS(t){const{drag:e,layout:r}=ks;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Rn={};function dS(t){for(const e in t)Rn[e]=t[e],Wl(e)&&(Rn[e].isCSSVariable=!0)}function um(t,{layout:e,layoutId:r}){return Fs.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Rn[t]||t==="opacity")}const hS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fS=Ls.length;function pS(t,e,r){let s="",n=!0;for(let o=0;o<fS;o++){const i=Ls[o],l=t[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Qp(l,oc[i]);if(!c){n=!1;const d=hS[i]||i;s+=`${d}(${u}) `}r&&(e[i]=u)}}return s=s.trim(),r?s=r(e,n?"":s):n&&(s="none"),s}function hc(t,e,r){const{style:s,vars:n,transformOrigin:o}=t;let i=!1,l=!1;for(const c in e){const u=e[c];if(Fs.has(c)){i=!0;continue}else if(Wl(c)){n[c]=u;continue}else{const d=Qp(u,oc[c]);c.startsWith("origin")?(l=!0,o[c]=d):s[c]=d}}if(e.transform||(i||r?s.transform=pS(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;s.transformOrigin=`${c} ${u} ${d}`}}const fc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dm(t,e,r){for(const s in e)!De(e[s])&&!um(s,r)&&(t[s]=e[s])}function mS({transformTemplate:t},e){return m.useMemo(()=>{const r=fc();return hc(r,e,t),Object.assign({},r.vars,r.style)},[e])}function gS(t,e){const r=t.style||{},s={};return dm(s,r,t),Object.assign(s,mS(t,e)),s}function xS(t,e){const r={},s=gS(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const yS={offset:"stroke-dashoffset",array:"stroke-dasharray"},vS={offset:"strokeDashoffset",array:"strokeDasharray"};function bS(t,e,r=1,s=0,n=!0){t.pathLength=1;const o=n?yS:vS;t[o.offset]=q.transform(-s);const i=q.transform(e),l=q.transform(r);t[o.array]=`${i} ${l}`}function hm(t,{attrX:e,attrY:r,attrScale:s,pathLength:n,pathSpacing:o=1,pathOffset:i=0,...l},c,u,d){if(hc(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),n!==void 0&&bS(h,n,o,i,!1)}const fm=()=>({...fc(),attrs:{}}),pm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wS(t,e,r,s){const n=m.useMemo(()=>{const o=fm();return hm(o,e,pm(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};dm(o,t.style,t),n.style={...o,...n.style}}return n}const _S=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pc(t){return typeof t!="string"||t.includes("-")?!1:!!(_S.indexOf(t)>-1||/[A-Z]/u.test(t))}function jS(t=!1){return(r,s,n,{latestValues:o},i)=>{const c=(pc(r)?wS:xS)(s,o,i,r),u=Q1(s,typeof r=="string",t),d=r!==m.Fragment?{...u,...c,ref:n}:{},{children:h}=s,f=m.useMemo(()=>De(h)?h.get():h,[h]);return m.createElement(r,{...d,children:f})}}function td(t){const e=[{},{}];return t==null||t.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function mc(t,e,r,s){if(typeof e=="function"){const[n,o]=td(s);e=e(r!==void 0?r:t.custom,n,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[n,o]=td(s);e=e(r!==void 0?r:t.custom,n,o)}return e}function Ro(t){return De(t)?t.get():t}function SS({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,n){return{latestValues:CS(r,s,n,t),renderState:e()}}const mm=t=>(e,r)=>{const s=m.useContext(ii),n=m.useContext(oi),o=()=>SS(t,e,s,n);return r?o():Fl(o)};function CS(t,e,r,s){const n={},o=s(t,{});for(const f in o)n[f]=Ro(o[f]);let{initial:i,animate:l}=t;const c=li(t),u=im(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const h=d?l:i;if(h&&typeof h!="boolean"&&!ai(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=mc(t,f[p]);if(g){const{transitionEnd:x,transition:v,...b}=g;for(const _ in b){let y=b[_];if(Array.isArray(y)){const w=d?y.length-1:0;y=y[w]}y!==null&&(n[_]=y)}for(const _ in x)n[_]=x[_]}}}return n}function gc(t,e,r){var o;const{style:s}=t,n={};for(const i in s)(De(s[i])||e.style&&De(e.style[i])||um(i,t)||((o=r==null?void 0:r.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(n[i]=s[i]);return n}const TS={useVisualState:mm({scrapeMotionValuesFromProps:gc,createRenderState:fc})};function gm(t,e,r){const s=gc(t,e,r);for(const n in t)if(De(t[n])||De(e[n])){const o=Ls.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[o]=t[n]}return s}const NS={useVisualState:mm({scrapeMotionValuesFromProps:gm,createRenderState:fm})};function RS(t,e){return function(s,{forwardMotionProps:n}={forwardMotionProps:!1}){const i={...pc(s)?NS:TS,preloadedFeatures:t,useRender:jS(n),createVisualElement:e,Component:s};return aS(i)}}function En(t,e,r){const s=t.getProps();return mc(s,e,r!==void 0?r:s.custom,t)}const Za=t=>Array.isArray(t);function ES(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Es(r))}function kS(t){return Za(t)?t[t.length-1]||0:t}function PS(t,e){const r=En(t,e);let{transitionEnd:s={},transition:n={},...o}=r||{};o={...o,...s};for(const i in o){const l=kS(o[i]);ES(t,i,l)}}function AS(t){return!!(De(t)&&t.add)}function el(t,e){const r=t.getValue("willChange");if(AS(r))return r.add(e);if(!r&&Wt.WillChange){const s=new Wt.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function xm(t){return t.props[am]}const MS=t=>t!==null;function $S(t,{repeat:e,repeatType:r="loop"},s){const n=t.filter(MS),o=e&&r!=="loop"&&e%2===1?0:n.length-1;return!o||s===void 0?n[o]:s}const OS={type:"spring",stiffness:500,damping:25,restSpeed:10},IS=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DS={type:"keyframes",duration:.8},LS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FS=(t,{keyframes:e})=>e.length>2?DS:Fs.has(t)?t.startsWith("scale")?IS(e[1]):OS:LS;function VS({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:n,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const xc=(t,e,r,s={},n,o)=>i=>{const l=nc(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-$t(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:n};VS(l)||Object.assign(d,FS(t,d)),d.duration&&(d.duration=$t(d.duration)),d.repeatDelay&&(d.repeatDelay=$t(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Wt.instantAnimations||Wt.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!o&&e.get()!==void 0){const f=$S(d.keyframes,l);if(f!==void 0){me.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new tc(d):new v1(d)};function BS({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function ym(t,e,{delay:r=0,transitionOverride:s,type:n}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=e;s&&(o=s);const c=[],u=n&&t.animationState&&t.animationState.getState()[n];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&BS(u,d))continue;const p={delay:r,...nc(o||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=xm(t);if(b){const _=window.MotionHandoffAnimation(b,d,me);_!==null&&(p.startTime=_,x=!0)}}el(t,d),h.start(xc(d,h,f,t.shouldReduceMotion&&Wp.has(d)?{type:!1}:p,t,x));const v=h.animation;v&&c.push(v)}return i&&Promise.all(c).then(()=>{me.update(()=>{i&&PS(t,i)})}),c}function tl(t,e,r={}){var c;const s=En(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(n=r.transitionOverride);const o=s?()=>Promise.all(ym(t,s,r)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=n;return US(t,e,d+u,h,f,r)}:()=>Promise.resolve(),{when:l}=n;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(r.delay)])}function US(t,e,r=0,s=0,n=1,o){const i=[],l=(t.variantChildren.size-1)*s,c=n===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(HS).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(tl(u,e,{...o,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function HS(t,e){return t.sortNodePosition(e)}function zS(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const n=e.map(o=>tl(t,o,r));s=Promise.all(n)}else if(typeof e=="string")s=tl(t,e,r);else{const n=typeof e=="function"?En(t,e,r.custom):e;s=Promise.all(ym(t,n,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function vm(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const KS=uc.length;function bm(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?bm(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<KS;r++){const s=uc[r],n=t.props[s];(Nn(n)||n===!1)&&(e[s]=n)}return e}const qS=[...cc].reverse(),WS=cc.length;function GS(t){return e=>Promise.all(e.map(({animation:r,options:s})=>zS(t,r,s)))}function YS(t){let e=GS(t),r=rd(),s=!0;const n=c=>(u,d)=>{var f;const h=En(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:g,...x}=h;u={...u,...x,...g}}return u};function o(c){e=c(t)}function i(c){const{props:u}=t,d=bm(t.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let v=0;v<WS;v++){const b=qS[v],_=r[b],y=u[b]!==void 0?u[b]:d[b],w=Nn(y),j=b===c?_.isActive:null;j===!1&&(g=v);let C=y===d[b]&&y!==u[b]&&w;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...p},!_.isActive&&j===null||!y&&!_.prevProp||ai(y)||typeof y=="boolean")continue;const N=XS(_.prevProp,y);let R=N||b===c&&_.isActive&&!C&&w||v>g&&w,E=!1;const P=Array.isArray(y)?y:[y];let k=P.reduce(n(b),{});j===!1&&(k={});const{prevResolvedValues:A={}}=_,I={...A,...k},M=U=>{R=!0,f.has(U)&&(E=!0,f.delete(U)),_.needsAnimating[U]=!0;const L=t.getValue(U);L&&(L.liveStyle=!1)};for(const U in I){const L=k[U],D=A[U];if(p.hasOwnProperty(U))continue;let oe=!1;Za(L)&&Za(D)?oe=!vm(L,D):oe=L!==D,oe?L!=null?M(U):f.add(U):L!==void 0&&f.has(U)?M(U):_.protectedKeys[U]=!0}_.prevProp=y,_.prevResolvedValues=k,_.isActive&&(p={...p,...k}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(C&&N)||E)&&h.push(...P.map(U=>({animation:U,options:{type:b}})))}if(f.size){const v={};if(typeof u.initial!="boolean"){const b=En(t,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}f.forEach(b=>{const _=t.getBaseTarget(b),y=t.getValue(b);y&&(y.liveStyle=!0),v[b]=_??null}),h.push({animation:v})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=rd(),s=!0}}}function XS(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vm(e,t):!1}function Sr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rd(){return{animate:Sr(!0),whileInView:Sr(),whileHover:Sr(),whileTap:Sr(),whileDrag:Sr(),whileFocus:Sr(),exit:Sr()}}class vr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JS extends vr{constructor(e){super(e),e.animationState||(e.animationState=YS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ai(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let QS=0;class ZS extends vr{constructor(){super(...arguments),this.id=QS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const n=this.node.animationState.setActive("exit",!e);r&&!e&&n.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eC={animation:{Feature:JS},exit:{Feature:ZS}};function kn(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function qn(t){return{point:{x:t.pageX,y:t.pageY}}}const tC=t=>e=>ac(e)&&t(e,qn(e));function gn(t,e,r,s){return kn(t,e,tC(r),s)}function wm({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function rC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sC(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}const _m=1e-4,nC=1-_m,oC=1+_m,jm=.01,iC=0-jm,aC=0+jm;function He(t){return t.max-t.min}function lC(t,e,r){return Math.abs(t-e)<=r}function sd(t,e,r,s=.5){t.origin=s,t.originPoint=pe(e.min,e.max,t.origin),t.scale=He(r)/He(e),t.translate=pe(r.min,r.max,t.origin)-t.originPoint,(t.scale>=nC&&t.scale<=oC||isNaN(t.scale))&&(t.scale=1),(t.translate>=iC&&t.translate<=aC||isNaN(t.translate))&&(t.translate=0)}function xn(t,e,r,s){sd(t.x,e.x,r.x,s?s.originX:void 0),sd(t.y,e.y,r.y,s?s.originY:void 0)}function nd(t,e,r){t.min=r.min+e.min,t.max=t.min+He(e)}function cC(t,e,r){nd(t.x,e.x,r.x),nd(t.y,e.y,r.y)}function od(t,e,r){t.min=e.min-r.min,t.max=t.min+He(e)}function yn(t,e,r){od(t.x,e.x,r.x),od(t.y,e.y,r.y)}const id=()=>({translate:0,scale:1,origin:0,originPoint:0}),is=()=>({x:id(),y:id()}),ad=()=>({min:0,max:0}),we=()=>({x:ad(),y:ad()});function at(t){return[t("x"),t("y")]}function Wi(t){return t===void 0||t===1}function rl({scale:t,scaleX:e,scaleY:r}){return!Wi(t)||!Wi(e)||!Wi(r)}function Nr(t){return rl(t)||Sm(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sm(t){return ld(t.x)||ld(t.y)}function ld(t){return t&&t!=="0%"}function Ho(t,e,r){const s=t-r,n=e*s;return r+n}function cd(t,e,r,s,n){return n!==void 0&&(t=Ho(t,n,s)),Ho(t,r,s)+e}function sl(t,e=0,r=1,s,n){t.min=cd(t.min,e,r,s,n),t.max=cd(t.max,e,r,s,n)}function Cm(t,{x:e,y:r}){sl(t.x,e.translate,e.scale,e.originPoint),sl(t.y,r.translate,r.scale,r.originPoint)}const ud=.999999999999,dd=1.0000000000001;function uC(t,e,r,s=!1){const n=r.length;if(!n)return;e.x=e.y=1;let o,i;for(let l=0;l<n;l++){o=r[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ls(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,Cm(t,i)),s&&Nr(o.latestValues)&&ls(t,o.latestValues))}e.x<dd&&e.x>ud&&(e.x=1),e.y<dd&&e.y>ud&&(e.y=1)}function as(t,e){t.min=t.min+e,t.max=t.max+e}function hd(t,e,r,s,n=.5){const o=pe(t.min,t.max,n);sl(t,e,r,o,s)}function ls(t,e){hd(t.x,e.x,e.scaleX,e.scale,e.originX),hd(t.y,e.y,e.scaleY,e.scale,e.originY)}function Tm(t,e){return wm(sC(t.getBoundingClientRect(),e))}function dC(t,e,r){const s=Tm(t,r),{scroll:n}=e;return n&&(as(s.x,n.offset.x),as(s.y,n.offset.y)),s}const Nm=({current:t})=>t?t.ownerDocument.defaultView:null,fd=(t,e)=>Math.abs(t-e);function hC(t,e){const r=fd(t.x,e.x),s=fd(t.y,e.y);return Math.sqrt(r**2+s**2)}class Rm{constructor(e,r,{transformPagePoint:s,contextWindow:n,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Yi(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=hC(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:x}=Me;this.history.push({...g,timestamp:x});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gi(f,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Yi(h.type==="pointercancel"?this.lastMoveEventInfo:Gi(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),g&&g(h,v)},!ac(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=s,this.contextWindow=n||window;const i=qn(e),l=Gi(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Me;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,Yi(l,this.history)),this.removeListeners=Hn(gn(this.contextWindow,"pointermove",this.handlePointerMove),gn(this.contextWindow,"pointerup",this.handlePointerUp),gn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function Gi(t,e){return e?{point:e(t.point)}:t}function pd(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yi({point:t},e){return{point:t,delta:pd(t,Em(e)),offset:pd(t,fC(e)),velocity:pC(e,.1)}}function fC(t){return t[0]}function Em(t){return t[t.length-1]}function pC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const n=Em(t);for(;r>=0&&(s=t[r],!(n.timestamp-s.timestamp>$t(e)));)r--;if(!s)return{x:0,y:0};const o=Ot(n.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const i={x:(n.x-s.x)/o,y:(n.y-s.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function mC(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?pe(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?pe(r,t,s.max):Math.min(t,r)),t}function md(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function gC(t,{top:e,left:r,bottom:s,right:n}){return{x:md(t.x,r,n),y:md(t.y,e,s)}}function gd(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function xC(t,e){return{x:gd(t.x,e.x),y:gd(t.y,e.y)}}function yC(t,e){let r=.5;const s=He(t),n=He(e);return n>s?r=Sn(e.min,e.max-s,t.min):s>n&&(r=Sn(t.min,t.max-n,e.min)),qt(0,1,r)}function vC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const nl=.35;function bC(t=nl){return t===!1?t=0:t===!0&&(t=nl),{x:xd(t,"left","right"),y:xd(t,"top","bottom")}}function xd(t,e,r){return{min:yd(t,e),max:yd(t,r)}}function yd(t,e){return typeof t=="number"?t:t[e]||0}const wC=new WeakMap;class _C{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const n=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qn(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O1(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(v=>{let b=this.getAxisMotionValue(v).get()||0;if(It.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const y=_.layout.layoutBox[v];y&&(b=He(y)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&me.postRender(()=>g(d,h)),el(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=jC(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>at(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Rm(e,{onSessionStart:n,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Nm(this.visualElement)})}stop(e,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:n}=r;this.startAnimation(n);const{onDragEnd:o}=this.getProps();o&&me.postRender(()=>o(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:n}=this.getProps();if(!s||!go(e,n,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(i=mC(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,n=this.constraints;e&&os(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=gC(s.layoutBox,e):this.constraints=!1,this.elastic=bC(r),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&at(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=vC(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!os(e))return!1;const s=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=dC(s,n.root,this.visualElement.getTransformPagePoint());let i=xC(n.layout.layoutBox,o);if(r){const l=r(rC(i));this.hasMutatedConstraints=!!l,l&&(i=wm(l))}return i}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=at(d=>{if(!go(d,r,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const f=n?200:1e6,p=n?40:1e7,g={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return el(this.visualElement,e),s.start(xc(e,s,0,r,this.visualElement,!1))}stopAnimation(){at(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){at(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),n=s[r];return n||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){at(r=>{const{drag:s}=this.getProps();if(!go(r,s,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(r);if(n&&n.layout){const{min:i,max:l}=n.layout.layoutBox[r];o.set(e[r]-pe(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!os(r)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};at(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();n[i]=yC({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),at(i=>{if(!go(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(pe(c,u,n[i]))})}addListeners(){if(!this.visualElement.current)return;wC.set(this.visualElement,this);const e=this.visualElement.current,r=gn(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();os(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",s);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),me.read(s);const i=kn(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(at(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=nl,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function go(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function jC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class SC extends vr{constructor(e){super(e),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new _C(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const vd=t=>(e,r)=>{t&&me.postRender(()=>t(e,r))};class CC extends vr{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(e){this.session=new Rm(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nm(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:vd(e),onStart:vd(r),onMove:s,onEnd:(o,i)=>{delete this.session,n&&me.postRender(()=>n(o,i))}}}mount(){this.removePointerDownListener=gn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bd(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(q.test(t))t=parseFloat(t);else return t;const r=bd(t,e.target.x),s=bd(t,e.target.y);return`${r}% ${s}%`}},TC={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,n=mr.parse(t);if(n.length>5)return s;const o=mr.createTransformer(t),i=typeof n[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;n[0+i]/=l,n[1+i]/=c;const u=pe(l,c,.5);return typeof n[2+i]=="number"&&(n[2+i]/=u),typeof n[3+i]=="number"&&(n[3+i]/=u),o(n)}};class NC extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:n}=this.props,{projection:o}=e;dS(RC),o&&(r.group&&r.group.add(o),s&&s.register&&n&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Eo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:n,isPresent:o}=this.props,{projection:i}=s;return i&&(i.isPresent=o,n||e.layoutDependency!==r||r===void 0||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||me.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ic.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function km(t){const[e,r]=sm(),s=m.useContext(Ll);return a.jsx(NC,{...t,layoutGroup:s,switchLayoutGroup:m.useContext(lm),isPresent:e,safeToRemove:r})}const RC={borderRadius:{...tn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tn,borderTopRightRadius:tn,borderBottomLeftRadius:tn,borderBottomRightRadius:tn,boxShadow:TC};function EC(t,e,r){const s=De(t)?t:Es(t);return s.start(xc("",s,e,r)),s.animation}const kC=(t,e)=>t.depth-e.depth;class PC{constructor(){this.children=[],this.isDirty=!1}add(e){Bl(this.children,e),this.isDirty=!0}remove(e){Ul(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kC),this.isDirty=!1,this.children.forEach(e)}}function AC(t,e){const r=Qe.now(),s=({timestamp:n})=>{const o=n-r;o>=e&&(pr(s),t(o-e))};return me.setup(s,!0),()=>pr(s)}const Pm=["TopLeft","TopRight","BottomLeft","BottomRight"],MC=Pm.length,wd=t=>typeof t=="string"?parseFloat(t):t,_d=t=>typeof t=="number"||q.test(t);function $C(t,e,r,s,n,o){n?(t.opacity=pe(0,r.opacity??1,OC(s)),t.opacityExit=pe(e.opacity??1,0,IC(s))):o&&(t.opacity=pe(e.opacity??1,r.opacity??1,s));for(let i=0;i<MC;i++){const l=`border${Pm[i]}Radius`;let c=jd(e,l),u=jd(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_d(c)===_d(u)?(t[l]=Math.max(pe(wd(c),wd(u),s),0),(It.test(u)||It.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=pe(e.rotate||0,r.rotate||0,s))}function jd(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OC=Am(0,.5,Sp),IC=Am(.5,.95,dt);function Am(t,e,r){return s=>s<t?0:s>e?1:r(Sn(t,e,s))}function Sd(t,e){t.min=e.min,t.max=e.max}function it(t,e){Sd(t.x,e.x),Sd(t.y,e.y)}function Cd(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Td(t,e,r,s,n){return t-=e,t=Ho(t,1/r,s),n!==void 0&&(t=Ho(t,1/n,s)),t}function DC(t,e=0,r=1,s=.5,n,o=t,i=t){if(It.test(e)&&(e=parseFloat(e),e=pe(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=pe(o.min,o.max,s);t===o&&(l-=e),t.min=Td(t.min,e,r,l,n),t.max=Td(t.max,e,r,l,n)}function Nd(t,e,[r,s,n],o,i){DC(t,e[r],e[s],e[n],e.scale,o,i)}const LC=["x","scaleX","originX"],FC=["y","scaleY","originY"];function Rd(t,e,r,s){Nd(t.x,e,LC,r?r.x:void 0,s?s.x:void 0),Nd(t.y,e,FC,r?r.y:void 0,s?s.y:void 0)}function Ed(t){return t.translate===0&&t.scale===1}function Mm(t){return Ed(t.x)&&Ed(t.y)}function kd(t,e){return t.min===e.min&&t.max===e.max}function VC(t,e){return kd(t.x,e.x)&&kd(t.y,e.y)}function Pd(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $m(t,e){return Pd(t.x,e.x)&&Pd(t.y,e.y)}function Ad(t){return He(t.x)/He(t.y)}function Md(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BC{constructor(){this.members=[]}add(e){Bl(this.members,e),e.scheduleRender()}remove(e){if(Ul(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(n=>e===n);if(r===0)return!1;let s;for(let n=r;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UC(t,e,r){let s="";const n=t.x.translate/e.x,o=t.y.translate/e.y,i=(r==null?void 0:r.z)||0;if((n||o||i)&&(s=`translate3d(${n}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:g}=r;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Xi=["","X","Y","Z"],HC={visibility:"hidden"},zC=1e3;let KC=0;function Ji(t,e,r,s){const{latestValues:n}=e;n[t]&&(r[t]=n[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Om(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=xm(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",me,!(n||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Om(s)}function Im({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(i={},l=e==null?void 0:e()){this.id=KC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GC),this.nodes.forEach(ZC),this.nodes.forEach(eT),this.nodes.forEach(YC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new PC)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new zl),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=rm(i)&&!B1(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=AC(h,250),Eo.hasAnimatedSinceResize&&(Eo.hasAnimatedSinceResize=!1,this.nodes.forEach(Od))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||oT,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!$m(this.targetLayout,p),_=!h&&f;if(this.options.layoutRoot||this.resumeFrom||_||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...nc(g,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,_)}else h||Od(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tT),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Om(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($d);return}this.isUpdating||this.nodes.forEach(JC),this.isUpdating=!1,this.nodes.forEach(QC),this.nodes.forEach(qC),this.nodes.forEach(WC),this.clearAllSnapshots();const l=Qe.now();Me.delta=qt(0,1e3/60,l-Me.timestamp),Me.timestamp=l,Me.isProcessing=!0,Bi.update.process(Me),Bi.preRender.process(Me),Bi.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ic.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XC),this.sharedNodes.forEach(rT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!He(this.snapshot.measuredBox.x)&&!He(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Mm(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Nr(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),iT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return we();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(aT))){const{scroll:d}=this.root;d&&(as(l.x,d.offset.x),as(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=we();if(it(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&it(l,i),as(l.x,h.offset.x),as(l.y,h.offset.y))}return l}applyTransform(i,l=!1){const c=we();it(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ls(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Nr(d.latestValues)&&ls(c,d.latestValues)}return Nr(this.latestValues)&&ls(c,this.latestValues),c}removeTransform(i){const l=we();it(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Nr(u.latestValues))continue;rl(u.latestValues)&&u.updateSnapshot();const d=we(),h=u.measurePageBox();it(d,h),Rd(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Nr(this.latestValues)&&Rd(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),yn(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),it(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):it(this.target,this.layout.layoutBox),Cm(this.target,this.targetDelta)):it(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),yn(this.relativeTargetOrigin,this.target,p.target),it(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rl(this.parent.latestValues)||Sm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;it(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;uC(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=we());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cd(this.prevProjectionDelta.x,this.projectionDelta.x),Cd(this.prevProjectionDelta.y,this.projectionDelta.y)),xn(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Md(this.projectionDelta.x,this.prevProjectionDelta.x)||!Md(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=is(),this.projectionDelta=is(),this.projectionDeltaWithTransform=is()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=we(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,v=this.getStack(),b=!v||v.members.length<=1,_=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(nT));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const j=w/1e3;Id(h.x,i.x,j),Id(h.y,i.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yn(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sT(this.relativeTarget,this.relativeTargetOrigin,f,j),y&&VC(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=we()),it(y,this.relativeTarget)),x&&(this.animationValues=d,$C(d,u,this.latestValues,j,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{Eo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Es(0)),this.currentAnimation=EC(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&Dm(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||we();const h=He(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const f=He(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}it(l,c),ls(l,d),xn(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new BC),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ji("z",i,u,this.animationValues);for(let d=0;d<Xi.length;d++)Ji(`rotate${Xi[d]}`,i,u,this.animationValues),Ji(`skew${Xi[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return HC;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Ro(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Ro(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Nr(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=UC(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Rn){if(d[p]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:v}=Rn[p],b=l.transform==="none"?d[p]:g(d[p],u);if(x){const _=x.length;for(let y=0;y<_;y++)l[x[y]]=b}else v?this.options.visualElement.renderState.vars[p]=b:l[p]=b}return this.options.layoutId&&(l.pointerEvents=u===this?Ro(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach($d),this.root.sharedNodes.clear()}}}function qC(t){t.updateLayout()}function WC(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=t.layout,{animationType:o}=t.options,i=e.source!==t.layout.source;o==="size"?at(h=>{const f=i?e.measuredBox[h]:e.layoutBox[h],p=He(f);f.min=s[h].min,f.max=f.min+p}):Dm(o,e.layoutBox,s)&&at(h=>{const f=i?e.measuredBox[h]:e.layoutBox[h],p=He(s[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=is();xn(l,s,e.layoutBox);const c=is();i?xn(c,t.applyTransform(n,!0),e.measuredBox):xn(c,s,e.layoutBox);const u=!Mm(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=we();yn(g,e.layoutBox,f.layoutBox);const x=we();yn(x,s,p.layoutBox),$m(g,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function GC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XC(t){t.clearSnapshot()}function $d(t){t.clearMeasurements()}function JC(t){t.isLayoutDirty=!1}function QC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Od(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZC(t){t.resolveTargetDelta()}function eT(t){t.calcProjection()}function tT(t){t.resetSkewAndRotation()}function rT(t){t.removeLeadSnapshot()}function Id(t,e,r){t.translate=pe(e.translate,0,r),t.scale=pe(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Dd(t,e,r,s){t.min=pe(e.min,r.min,s),t.max=pe(e.max,r.max,s)}function sT(t,e,r,s){Dd(t.x,e.x,r.x,s),Dd(t.y,e.y,r.y,s)}function nT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oT={duration:.45,ease:[.4,0,.1,1]},Ld=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fd=Ld("applewebkit/")&&!Ld("chrome/")?Math.round:dt;function Vd(t){t.min=Fd(t.min),t.max=Fd(t.max)}function iT(t){Vd(t.x),Vd(t.y)}function Dm(t,e,r){return t==="position"||t==="preserve-aspect"&&!lC(Ad(e),Ad(r),.2)}function aT(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const lT=Im({attachResizeListener:(t,e)=>kn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qi={current:void 0},Lm=Im({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qi.current){const t=new lT({});t.mount(window),t.setOptions({layoutScroll:!0}),Qi.current=t}return Qi.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cT={pan:{Feature:CC},drag:{Feature:SC,ProjectionNode:Lm,MeasureLayout:km}};function Bd(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,o=s[n];o&&me.postRender(()=>o(e,qn(e)))}class uT extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=I1(e,(r,s)=>(Bd(this.node,s,"Start"),n=>Bd(this.node,n,"End"))))}unmount(){}}class dT extends vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hn(kn(this.node.current,"focus",()=>this.onFocus()),kn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ud(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),o=s[n];o&&me.postRender(()=>o(e,qn(e)))}class hT extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=V1(e,(r,s)=>(Ud(this.node,s,"Start"),(n,{success:o})=>Ud(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ol=new WeakMap,Zi=new WeakMap,fT=t=>{const e=ol.get(t.target);e&&e(t)},pT=t=>{t.forEach(fT)};function mT({root:t,...e}){const r=t||document;Zi.has(r)||Zi.set(r,{});const s=Zi.get(r),n=JSON.stringify(e);return s[n]||(s[n]=new IntersectionObserver(pT,{root:t,...e})),s[n]}function gT(t,e,r){const s=mT(e);return ol.set(t,r),s.observe(t),()=>{ol.delete(t),s.unobserve(t)}}const xT={some:0,all:1};class yT extends vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:n="some",once:o}=e,i={root:r?r.current:void 0,rootMargin:s,threshold:typeof n=="number"?n:xT[n]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return gT(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(vT(e,r))&&this.startObserver()}unmount(){}}function vT({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const bT={inView:{Feature:yT},tap:{Feature:hT},focus:{Feature:dT},hover:{Feature:uT}},wT={layout:{ProjectionNode:Lm,MeasureLayout:km}},il={current:null},Fm={current:!1};function _T(){if(Fm.current=!0,!!Vl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>il.current=t.matches;t.addListener(e),e()}else il.current=!1}const jT=new WeakMap;function ST(t,e,r){for(const s in e){const n=e[s],o=r[s];if(De(n))t.addValue(s,n);else if(De(o))t.addValue(s,Es(n,{owner:t}));else if(o!==n)if(t.hasValue(s)){const i=t.getValue(s);i.liveStyle===!0?i.jump(n):i.hasAnimated||i.set(n)}else{const i=t.getStaticValue(s);t.addValue(s,Es(i!==void 0?i:n,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Hd=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CT{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Qe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,me.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=li(r),this.isVariantNode=im(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&De(p)&&p.set(c[f],!1)}}mount(e){this.current=e,jT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Fm.current||_T(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:il.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Fs.has(e);s&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&me.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{n(),o(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ks){const r=ks[e];if(!r)continue;const{isEnabled:s,Feature:n}=r;if(!this.features[e]&&n&&s(this.props)&&(this.features[e]=new n(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Hd.length;s++){const n=Hd[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o="on"+n,i=e[o];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=ST(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Es(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(pp(s)||gp(s))?s=parseFloat(s):!H1(s)&&mr.test(r)&&(s=Jp(e,r)),this.setBaseTarget(e,De(s)?s.get():s)),De(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var o;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=mc(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const n=this.getBaseTargetFromProps(this.props,e);return n!==void 0&&!De(n)?n:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new zl),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Vm extends CT{constructor(){super(...arguments),this.KeyframeResolver=P1}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;De(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Bm(t,{style:e,vars:r},s,n){Object.assign(t.style,e,n&&n.getProjectionStyles(s));for(const o in r)t.style.setProperty(o,r[o])}function TT(t){return window.getComputedStyle(t)}class NT extends Vm{constructor(){super(...arguments),this.type="html",this.renderInstance=Bm}readValueFromInstance(e,r){var s;if(Fs.has(r))return(s=this.projection)!=null&&s.isProjecting?Wa(r):Xj(e,r);{const n=TT(e),o=(Wl(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Tm(e,r)}build(e,r,s){hc(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return gc(e,r,s)}}const Um=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RT(t,e,r,s){Bm(t,e,void 0,s);for(const n in e.attrs)t.setAttribute(Um.has(n)?n:dc(n),e.attrs[n])}class ET extends Vm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Fs.has(r)){const s=Xp(r);return s&&s.default||0}return r=Um.has(r)?r:dc(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return gm(e,r,s)}build(e,r,s){hm(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,n){RT(e,r,s,n)}mount(e){this.isSVGTag=pm(e.tagName),super.mount(e)}}const kT=(t,e)=>pc(t)?new ET(e):new NT(e,{allowProjection:t!==m.Fragment}),PT=RS({...eC,...bT,...cT,...wT},kT),ve=Z1(PT),Ne=m.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ne.displayName="Card";const Ue=m.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:G("flex flex-col space-y-1.5 p-6",t),...e}));Ue.displayName="CardHeader";const rt=m.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:G("text-2xl font-semibold leading-none tracking-tight",t),...e}));rt.displayName="CardTitle";const AT=m.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:G("text-sm text-muted-foreground",t),...e}));AT.displayName="CardDescription";const Re=m.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:G("p-6 pt-0",t),...e}));Re.displayName="CardContent";const MT=m.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:G("flex items-center p-6 pt-0",t),...e}));MT.displayName="CardFooter";const $T=Dn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,...r}){return a.jsx("div",{className:G($T({variant:e}),t),...r})}function _e({className:t,...e}){return a.jsx("div",{className:G("animate-pulse rounded-md bg-muted",t),...e})}const OT=()=>a.jsxs(Ne,{className:"h-full bg-white/10 backdrop-blur-sm rounded-xl shadow-lg border border-white/20",children:[a.jsxs(Ue,{className:"pb-2",children:[a.jsx(_e,{className:"w-full h-40 rounded-lg mb-2 bg-white/20"}),a.jsx(_e,{className:"h-6 w-3/4 bg-white/20"})]}),a.jsxs(Re,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(_e,{className:"h-6 w-16 bg-white/20"}),a.jsx(_e,{className:"h-6 w-12 bg-white/20"})]}),a.jsx(_e,{className:"h-8 w-20 mx-auto bg-white/20"}),a.jsx(_e,{className:"h-4 w-24 mx-auto bg-white/20"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{className:"h-5 w-16 bg-white/20"}),a.jsx(_e,{className:"h-5 w-12 bg-white/20"})]})]})]}),IT=t=>{const e=t.toLowerCase();if(e.includes("steam")||e.includes("valve"))return"bg-blue-500";if(e.includes("xbox")||e.includes("microsoft"))return"bg-green-500";if(e.includes("playstation")||e.includes("sony"))return"bg-indigo-500";if(e.includes("nintendo"))return"bg-red-500";if(e.includes("epic"))return"bg-gray-700";if(e.includes("fps")||e.includes("shooter"))return"bg-orange-500";if(e.includes("rpg")||e.includes("role"))return"bg-purple-500";if(e.includes("mmo")||e.includes("online"))return"bg-cyan-500";if(e.includes("strategy")||e.includes("rts"))return"bg-yellow-500";if(e.includes("racing")||e.includes("sports"))return"bg-emerald-500";if(e.includes("horror")||e.includes("survival"))return"bg-red-700";if(e.includes("puzzle")||e.includes("casual"))return"bg-pink-500";if(e.includes("rare")||e.includes("legendary"))return"bg-yellow-400";if(e.includes("common")||e.includes("basic"))return"bg-gray-400";if(e.includes("premium")||e.includes("exclusive"))return"bg-purple-600";const r=t.split("").reduce((n,o)=>n+o.charCodeAt(0),0),s=["bg-blue-400","bg-green-400","bg-yellow-400","bg-red-400","bg-purple-400","bg-pink-400","bg-indigo-400","bg-cyan-400"];return s[r%s.length]},rn=t=>t.charAt(0).toUpperCase()+t.slice(1),DT=({tags:t,maxVisibleTags:e=1,maxDots:r=4})=>{if(!t||t.length===0)return null;const s=t.filter(u=>{const d=u.toLowerCase();return d.includes("steam")||d.includes("xbox")||d.includes("playstation")||d.includes("nintendo")||d.includes("premium")||d.includes("legendary")||d.includes("rare")||d.includes("exclusive")}),n=t.filter(u=>!s.includes(u)),o=[...s,...n],i=o[0],l=o.slice(e,e+r),c=Math.max(0,t.length-e-r);return a.jsx(fr,{children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i&&a.jsx(jt,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700 border-gray-200 max-w-[100px] truncate hover:bg-gray-200 transition-colors",title:rn(i),children:rn(i)}),l.length>0&&a.jsx("div",{className:"flex items-center gap-1",children:l.map((u,d)=>a.jsxs(st,{delayDuration:200,children:[a.jsx(nt,{asChild:!0,children:a.jsx("div",{className:`
                      w-2 h-2 rounded-full cursor-help
                      transition-all duration-200 ease-out
                      hover:scale-125 hover:shadow-md
                      motion-reduce:hover:scale-100
                      ${IT(u)}
                    `,"aria-label":`Tag: ${rn(u)}`})}),a.jsx(Ye,{side:"top",className:"bg-gray-900 text-white border-gray-700 text-xs px-2 py-1",sideOffset:5,children:rn(u)})]},`${u}-${d}`))}),c>0&&a.jsxs(st,{delayDuration:200,children:[a.jsx(nt,{asChild:!0,children:a.jsxs(jt,{variant:"outline",className:"text-xs bg-gray-50 text-gray-600 border-gray-300 px-1.5 py-0.5 cursor-help hover:bg-gray-100 transition-colors","aria-label":`${c} more tags`,children:["+",c]})}),a.jsx(Ye,{side:"top",className:"bg-gray-900 text-white border-gray-700 text-xs px-2 py-1 max-w-[200px]",sideOffset:5,children:a.jsx("div",{className:"flex flex-wrap gap-1",children:t.slice(e+r).map((u,d)=>a.jsxs("span",{className:"text-gray-200",children:[rn(u),d<t.slice(e+r).length-1?",":""]},d))})})]})]})})},zd=[{value:"ev_desc",label:"Expected Value (High to Low)"},{value:"ev_asc",label:"Expected Value (Low to High)"},{value:"price_desc",label:"Price (High to Low)"},{value:"price_asc",label:"Price (Low to High)"},{value:"volatility_desc",label:"Volatility (High to Low)"},{value:"volatility_asc",label:"Volatility (Low to High)"},{value:"floor_desc",label:"Floor Rate (High to Low)"},{value:"floor_asc",label:"Floor Rate (Low to High)"},{value:"name_asc",label:"Name (A to Z)"},{value:"name_desc",label:"Name (Z to A)"}],Oe={rillabox:{id:"rillabox",tableName:"rillabox_boxes",displayName:"RillaBox",color:"purple",gradient:"from-purple-600 to-purple-700",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-700",logo:"images/998b5116-3761-4842-9a89-628f8e71c362.png",logoAspectRatio:"square",logoBackground:"white"},hypedrop:{id:"hypedrop",tableName:"hypedrop_boxes",displayName:"Hypedrop",color:"blue",gradient:"from-blue-600 to-blue-700",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-700",logo:"images/df4efff1-2943-40f6-9a23-fc3f872ee338.png",logoAspectRatio:"wide",logoBackground:"transparent"},casesgg:{id:"casesgg",tableName:"casesgg_boxes",displayName:"Cases.GG",color:"green",gradient:"from-green-600 to-green-700",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700",logo:"images/ccc8c7f7-53cc-41ac-8e6d-0fe13f968fd3.png",logoAspectRatio:"wide",logoBackground:"dark"},luxdrop:{id:"luxdrop",tableName:"luxdrop_boxes",displayName:"Luxdrop",color:"amber",gradient:"from-amber-600 to-amber-700",bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-700",logo:"images/f983540a-2e1c-47e7-bac5-99c00df75346.png",logoAspectRatio:"square",logoBackground:"transparent"}},Wn=({providerId:t,size:e="md",className:r="",showFallback:s=!0,enhanced:n=!1})=>{const[o,i]=m.useState(!1),[l,c]=m.useState(!1),u=Oe[t];if(!u)return console.warn(`Provider config not found for: ${t}`),null;const d={xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16",xxl:"w-20 h-20"},h={square:"aspect-square",wide:"aspect-[3/2]",tall:"aspect-[2/3]"},f={white:n?"bg-white shadow-md border border-gray-200":"bg-white",transparent:n?"bg-gray-50/90 backdrop-blur-sm shadow-md border border-gray-200/70":"bg-gray-50/60 border border-gray-200/40",dark:n?"bg-gray-900 shadow-md border border-gray-700":"bg-gray-800 border border-gray-600"},p=()=>{console.warn(`Failed to load logo for ${u.displayName}: ${u.logo}`),i(!0)},g=()=>{console.log(`Successfully loaded logo for ${u.displayName}`),c(!0)},x=o||!l&&s;return a.jsxs("div",{className:`
        relative inline-flex items-center justify-center rounded-xl overflow-hidden
        ${d[e]} 
        ${h[u.logoAspectRatio]} 
        ${f[u.logoBackground]}
        ${n?"ring-1 ring-black/10":""}
        ${r}
      `,children:[!o&&a.jsx("img",{src:u.logo,alt:`${u.displayName} logo`,className:`
            w-full h-full object-contain transition-opacity duration-200
            ${n?"p-1.5":"p-1"}
            ${l?"opacity-100":"opacity-0"}
            ${u.logoBackground==="dark"?"filter brightness-0 invert":""}
          `,onError:p,onLoad:g,loading:"lazy"}),x&&a.jsx("div",{className:`
            ${o?"flex":l?"hidden":"flex"}
            absolute inset-0 items-center justify-center font-bold
            ${u.logoBackground==="dark"?"text-white":u.textColor} 
            transition-opacity duration-200
          `,style:{fontSize:e==="xs"?"6px":e==="sm"?"8px":e==="md"?"12px":e==="lg"?"16px":e==="xl"?"20px":"24px"},children:u.displayName.charAt(0)})]})},LT=()=>{const[t,e]=m.useState(!1),r=m.useCallback(()=>{e(!0)},[]),s=m.useCallback(()=>{e(!1)},[]);return m.useEffect(()=>{let n;const o=()=>{r(),clearTimeout(n),n=setTimeout(()=>{s()},150)};return window.addEventListener("scroll",o,{passive:!0}),()=>{window.removeEventListener("scroll",o),clearTimeout(n)}},[r,s]),t},FT=t=>m.useMemo(()=>t>=80?"border-purple-600 bg-purple-50/80 text-purple-700":t>=50?"border-purple-500 bg-purple-50/60 text-purple-600":t>=20?"border-purple-400 bg-purple-50/40 text-purple-500":"border-purple-300 bg-purple-50/20 text-purple-400",[t]),VT=t=>m.useMemo(()=>t>100?"text-green-600 font-bold":t>75?"text-green-500 font-bold":t>50?"text-orange-500 font-bold":"text-red-600 font-bold",[t]),BT=t=>m.useMemo(()=>t>=80?"text-green-600 font-bold":t>=60?"text-green-500 font-bold":t>=40?"text-orange-500 font-bold":t>=20?"text-red-500 font-bold":"text-red-600 font-bold",[t]),UT=t=>{if(!t&&t!==0)return"$0.00";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)||e<0?"$0.00":`$${e.toFixed(2)}`},Hm=t=>UT(t),ea=t=>{if(!t&&t!==0)return"$0.00";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)||e<0?"$0.00":e>=1e3?`$${e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`$${e.toFixed(2)}`},Kd=t=>{if(!t&&t!==0)return"$0.00";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)||e<0?"$0.00":e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}k`:`$${e.toFixed(2)}`},ci=t=>t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-+/g,"-"):"",yc=t=>{if(!t)return"";let e=ci(t);return Object.entries({and:"n",the:"",box:"",case:"",mystery:"myst",premium:"prem",ultimate:"ult",special:"spec",limited:"ltd",edition:"ed"}).forEach(([s,n])=>{const o=new RegExp(`\\b${s}\\b`,"g");e=e.replace(o,n)}),e=e.replace(/^-+|-+$/g,"").replace(/-+/g,"-"),e||"unknown-box"},qd=(t,e)=>{if(!t||!e)return 0;const r=l=>ci(l),s=r(t),n=r(e);if(s===n)return 1;const o=Array(n.length+1).fill(null).map(()=>Array(s.length+1).fill(null));for(let l=0;l<=s.length;l++)o[0][l]=l;for(let l=0;l<=n.length;l++)o[l][0]=l;for(let l=1;l<=n.length;l++)for(let c=1;c<=s.length;c++){const u=s[c-1]===n[l-1]?0:1;o[l][c]=Math.min(o[l][c-1]+1,o[l-1][c]+1,o[l-1][c-1]+u)}const i=Math.max(s.length,n.length);return i===0?1:(i-o[n.length][s.length])/i},zm=(t,e)=>{const r=[];return e.forEach((s,n)=>{const o=yc(s);let i=0;if(o===t)i=1;else if(o.includes(t)||t.includes(o))i=.8;else{const l=qd(t,o),c=qd(t,ci(s));i=Math.max(l,c)*.6}if(i>.3){const l=Math.abs(o.length-t.length),c=Math.min(l/Math.max(o.length,t.length),.3);i=Math.max(0,i-c)}i>.3&&r.push({originalName:s,slug:o,score:i,provider:""})}),r.sort((s,n)=>n.score-s.score)},Km=T.memo(({box:t,index:e,isVisible:r})=>{var b,_,y,w;const[s,n]=m.useState(!1),o=Ah(),i=LT(),l=t.standard_deviation_percent||0,c=FT(l),u=VT(t.expected_value_percent_of_price),d=t.floor_rate_percent||0,h=BT(d),f=e<12,p=f?Math.min(e*.05,.6):0,g=yc(t.box_name),x=t.provider||"rillabox",v=m.useCallback(()=>{o(`/hub/box/${g}`)},[o,g]);return r?a.jsx(fr,{delayDuration:300,children:a.jsx(ve.div,{initial:f?{opacity:0,y:20}:{opacity:1,y:0},animate:{opacity:1,y:0},transition:f?{duration:.4,delay:p,ease:"easeOut"}:{duration:0},className:"group",children:a.jsxs(Ne,{className:`
            cursor-pointer transition-all duration-300 ease-out
            border-2 backdrop-blur-sm h-full overflow-hidden 
            rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] 
            shimmer-card ${i?"scroll-disabled":""} ${c}
          `,onClick:v,children:[a.jsxs(Ue,{className:"pb-2 relative",children:[a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsxs(st,{children:[a.jsx(nt,{asChild:!0,children:a.jsx("div",{children:a.jsx(Wn,{providerId:x,size:"lg",enhanced:!0,className:"hover:scale-[1.02] transition-transform duration-200"})})}),a.jsx(Ye,{children:a.jsx("p",{children:((b=Oe[x])==null?void 0:b.displayName)||x})})]})}),a.jsxs("div",{className:"w-full h-40 rounded-lg mb-2 overflow-hidden p-2 border border-purple-200 backdrop-blur-sm relative",style:{backgroundImage:"url('images/90a8beae-8a8c-4f9a-bfd2-d7dc5be9de82.png')",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundBlendMode:"soft-light"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[0.5px] rounded"}),!s&&a.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse rounded relative z-10"}),a.jsx("img",{src:t.box_image,alt:t.box_name,className:`w-full h-full object-contain transition-opacity duration-300 relative z-10 ${s?"opacity-100":"opacity-0"}`,loading:e<12?"eager":"lazy",referrerPolicy:"no-referrer",onLoad:()=>n(!0)})]}),a.jsx(rt,{className:"text-lg font-bold truncate text-gray-800 pr-16",children:t.box_name})]}),a.jsxs(Re,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[a.jsx("div",{className:"text-left",children:a.jsx("span",{className:"text-xl font-bold text-gray-800",children:Hm(t.box_price)})}),a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium text-center ${(_=Oe[x])==null?void 0:_.bgColor} ${(y=Oe[x])==null?void 0:y.textColor}`,children:(w=Oe[x])==null?void 0:w.displayName})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(jt,{variant:"outline",className:`border-current font-bold text-sm ${c}`,children:[l.toFixed(1),"%"]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:`text-3xl ${u}`,children:[t.expected_value_percent_of_price.toFixed(1),"% EV"]})}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Floor: ",a.jsxs("span",{className:h,children:[d.toFixed(1),"%"]})]})}),a.jsx("div",{className:"min-h-[24px] flex items-center",children:a.jsx(DT,{tags:t.tags,maxVisibleTags:1,maxDots:4})})]})]})})}):a.jsx(OT,{})});Km.displayName="BoxCard";const al=({boxes:t,itemsPerPage:e,currentPage:r})=>{const[s,n]=m.useState(new Set),o=m.useRef(null),i=m.useMemo(()=>{const c=(r-1)*e,u=c+e;return t.slice(c,u)},[t,r,e]),l=m.useCallback(c=>{c.forEach(u=>{const d=parseInt(u.target.getAttribute("data-index")||"0");u.isIntersecting&&n(h=>new Set([...h,d]))})},[]);return T.useEffect(()=>{var d;const c=new IntersectionObserver(l,{root:null,rootMargin:"100px",threshold:.1}),u=(d=o.current)==null?void 0:d.querySelectorAll("[data-index]");return u==null||u.forEach(h=>c.observe(h)),()=>c.disconnect()},[l,i]),T.useEffect(()=>{const c=new Set;for(let u=0;u<Math.min(12,i.length);u++)c.add(u);n(c)},[i]),a.jsx("div",{ref:o,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 min-h-[400px] px-2 md:px-0",children:i.map((c,u)=>a.jsx("div",{"data-index":u,children:a.jsx(Km,{box:c,index:u,isVisible:s.has(u)})},`${c.box_name}-${r}-${u}`))})},HT=Dn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=m.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...n},o)=>{const i=s?Po:"button";return a.jsx(i,{className:G(HT({variant:e,size:r,className:t})),ref:o,...n})});de.displayName="Button";const Wd=768;function Tt(){const[t,e]=m.useState(!1);return m.useEffect(()=>{const r=()=>window.innerWidth<Wd;e(r());const s=window.matchMedia(`(max-width: ${Wd-1}px)`),n=()=>{e(r())};return s.addEventListener("change",n),()=>s.removeEventListener("change",n)},[]),t}const xo=({currentPage:t,totalPages:e,onPageChange:r,startIndex:s,endIndex:n,totalItems:o})=>{const i=Tt();return e<=1?null:a.jsxs("div",{className:`flex justify-between items-center text-gray-800 ${i?"flex-col space-y-4 px-4 py-6":"flex-row gap-6 py-8"}`,children:[a.jsx("div",{className:`text-sm text-gray-600 font-medium ${i?"text-center":""}`,children:i?a.jsxs("span",{children:["Page ",t," of ",e]}):a.jsxs("span",{children:["Showing ",s,"-",n," of ",o," mystery boxes"]})}),a.jsxs("div",{className:`flex items-center ${i?"gap-3":"gap-4"}`,children:[a.jsxs(de,{variant:"outline",size:i?"default":"sm",onClick:()=>r(Math.max(1,t-1)),disabled:t===1,className:`bg-white border-gray-300 text-gray-800 hover:bg-gray-50 disabled:opacity-50 ${i?"min-h-[44px] px-4":""}`,children:[a.jsx(sy,{className:`${i?"h-5 w-5":"h-4 w-4"}`}),!i&&a.jsx("span",{className:"ml-1",children:"Previous"})]}),!i&&a.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded text-sm font-medium text-gray-800 border border-gray-300",children:["Page ",t," of ",e]}),a.jsxs(de,{variant:"outline",size:i?"default":"sm",onClick:()=>r(Math.min(e,t+1)),disabled:t===e,className:`bg-white border-gray-300 text-gray-800 hover:bg-gray-50 disabled:opacity-50 ${i?"min-h-[44px] px-4":""}`,children:[!i&&a.jsx("span",{className:"mr-1",children:"Next"}),a.jsx(St,{className:`${i?"h-5 w-5":"h-4 w-4"}`})]})]})]})},zT=(t,e)=>{const[r,s]=m.useState(t);return m.useEffect(()=>{const n=setTimeout(()=>{s(t)},e);return()=>{clearTimeout(n)}},[t,e]),r},gr=m.forwardRef(({className:t,type:e,...r},s)=>a.jsx("input",{type:e,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));gr.displayName="Input";var KT=m.createContext(void 0);function ui(t){const e=m.useContext(KT);return t||e||"ltr"}function qT(t,e=[]){let r=[];function s(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,x=(f==null?void 0:f[t][c])||l,v=m.useMemo(()=>g,Object.values(g));return a.jsx(x.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][c])||l,g=m.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const n=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[s,WT(n,...e)]}function WT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const i=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var ta="rovingFocusGroup.onEntryFocus",GT={bubbles:!1,cancelable:!0},di="RovingFocusGroup",[ll,qm,YT]=Yo(di),[XT,Wm]=qT(di,[YT]),[JT,QT]=XT(di),Gm=m.forwardRef((t,e)=>a.jsx(ll.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(ll.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(ZT,{...t,ref:e})})}));Gm.displayName=di;var ZT=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:n=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=m.useRef(null),p=ge(e,f),g=ui(o),[x=null,v]=Ms({prop:i,defaultProp:l,onChange:c}),[b,_]=m.useState(!1),y=Je(u),w=qm(r),j=m.useRef(!1),[C,N]=m.useState(0);return m.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(ta,y),()=>R.removeEventListener(ta,y)},[y]),a.jsx(JT,{scope:r,orientation:s,dir:g,loop:n,currentTabStopId:x,onItemFocus:m.useCallback(R=>v(R),[v]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(R=>R+1),[]),onFocusableItemRemove:m.useCallback(()=>N(R=>R-1),[]),children:a.jsx(le.div,{tabIndex:b||C===0?-1:0,"data-orientation":s,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:B(t.onMouseDown,()=>{j.current=!0}),onFocus:B(t.onFocus,R=>{const E=!j.current;if(R.target===R.currentTarget&&E&&!b){const P=new CustomEvent(ta,GT);if(R.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=w().filter(O=>O.focusable),A=k.find(O=>O.active),I=k.find(O=>O.id===x),V=[A,I,...k].filter(Boolean).map(O=>O.ref.current);Jm(V,d)}}j.current=!1}),onBlur:B(t.onBlur,()=>_(!1))})})}),Ym="RovingFocusGroupItem",Xm=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:n=!1,tabStopId:o,...i}=t,l=Ao(),c=o||l,u=QT(Ym,r),d=u.currentTabStopId===c,h=qm(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(s)return f(),()=>p()},[s,f,p]),a.jsx(ll.ItemSlot,{scope:r,id:c,focusable:s,active:n,children:a.jsx(le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:e,onMouseDown:B(t.onMouseDown,g=>{s?u.onItemFocus(c):g.preventDefault()}),onFocus:B(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:B(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=rN(g,u.orientation,u.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=u.loop?sN(b,_+1):b.slice(_+1)}setTimeout(()=>Jm(b))}})})})});Xm.displayName=Ym;var eN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tN(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rN(t,e,r){const s=tN(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return eN[s]}function Jm(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function sN(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var nN=Gm,oN=Xm,cl=["Enter"," "],iN=["ArrowDown","PageUp","Home"],Qm=["ArrowUp","PageDown","End"],aN=[...iN,...Qm],lN={ltr:[...cl,"ArrowRight"],rtl:[...cl,"ArrowLeft"]},cN={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gn="Menu",[Pn,uN,dN]=Yo(Gn),[qr,Zm]=Hr(Gn,[dN,Sh,Wm]),hi=Sh(),eg=Wm(),[hN,Wr]=qr(Gn),[fN,Yn]=qr(Gn),tg=t=>{const{__scopeMenu:e,open:r=!1,children:s,dir:n,onOpenChange:o,modal:i=!0}=t,l=hi(e),[c,u]=m.useState(null),d=m.useRef(!1),h=Je(o),f=ui(n);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(wx,{...l,children:a.jsx(hN,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(fN,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:i,children:s})})})};tg.displayName=Gn;var pN="MenuAnchor",vc=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,n=hi(r);return a.jsx(fx,{...n,...s,ref:e})});vc.displayName=pN;var bc="MenuPortal",[mN,rg]=qr(bc,{forceMount:void 0}),sg=t=>{const{__scopeMenu:e,forceMount:r,children:s,container:n}=t,o=Wr(bc,e);return a.jsx(mN,{scope:e,forceMount:r,children:a.jsx(Ct,{present:r||o.open,children:a.jsx(wh,{asChild:!0,container:n,children:s})})})};sg.displayName=bc;var ht="MenuContent",[gN,wc]=qr(ht),ng=m.forwardRef((t,e)=>{const r=rg(ht,t.__scopeMenu),{forceMount:s=r.forceMount,...n}=t,o=Wr(ht,t.__scopeMenu),i=Yn(ht,t.__scopeMenu);return a.jsx(Pn.Provider,{scope:t.__scopeMenu,children:a.jsx(Ct,{present:s||o.open,children:a.jsx(Pn.Slot,{scope:t.__scopeMenu,children:i.modal?a.jsx(xN,{...n,ref:e}):a.jsx(yN,{...n,ref:e})})})})}),xN=m.forwardRef((t,e)=>{const r=Wr(ht,t.__scopeMenu),s=m.useRef(null),n=ge(e,s);return m.useEffect(()=>{const o=s.current;if(o)return px(o)},[]),a.jsx(_c,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:B(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),yN=m.forwardRef((t,e)=>{const r=Wr(ht,t.__scopeMenu);return a.jsx(_c,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),_c=m.forwardRef((t,e)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...x}=t,v=Wr(ht,r),b=Yn(ht,r),_=hi(r),y=eg(r),w=uN(r),[j,C]=m.useState(null),N=m.useRef(null),R=ge(e,N,v.onContentChange),E=m.useRef(0),P=m.useRef(""),k=m.useRef(0),A=m.useRef(null),I=m.useRef("right"),M=m.useRef(0),V=g?bx:m.Fragment,O=g?{as:Po,allowPinchZoom:!0}:void 0,U=D=>{var Le,qe;const oe=P.current+D,z=w().filter(Se=>!Se.disabled),Y=document.activeElement,Q=(Le=z.find(Se=>Se.ref.current===Y))==null?void 0:Le.textValue,xe=z.map(Se=>Se.textValue),Ke=kN(xe,oe,Q),ae=(qe=z.find(Se=>Se.textValue===Ke))==null?void 0:qe.ref.current;(function Se(ot){P.current=ot,window.clearTimeout(E.current),ot!==""&&(E.current=window.setTimeout(()=>Se(""),1e3))})(oe),ae&&setTimeout(()=>ae.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),mx();const L=m.useCallback(D=>{var z,Y;return I.current===((z=A.current)==null?void 0:z.side)&&AN(D,(Y=A.current)==null?void 0:Y.area)},[]);return a.jsx(gN,{scope:r,searchRef:P,onItemEnter:m.useCallback(D=>{L(D)&&D.preventDefault()},[L]),onItemLeave:m.useCallback(D=>{var oe;L(D)||((oe=N.current)==null||oe.focus(),C(null))},[L]),onTriggerLeave:m.useCallback(D=>{L(D)&&D.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(D=>{A.current=D},[]),children:a.jsx(V,{...O,children:a.jsx(gx,{asChild:!0,trapped:n,onMountAutoFocus:B(o,D=>{var oe;D.preventDefault(),(oe=N.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(xx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:a.jsx(nN,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:j,onCurrentTabStopIdChange:C,onEntryFocus:B(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(yx,{role:"menu","aria-orientation":"vertical","data-state":bg(v.open),"data-radix-menu-content":"",dir:b.dir,..._,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:B(x.onKeyDown,D=>{const z=D.target.closest("[data-radix-menu-content]")===D.currentTarget,Y=D.ctrlKey||D.altKey||D.metaKey,Q=D.key.length===1;z&&(D.key==="Tab"&&D.preventDefault(),!Y&&Q&&U(D.key));const xe=N.current;if(D.target!==xe||!aN.includes(D.key))return;D.preventDefault();const ae=w().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);Qm.includes(D.key)&&ae.reverse(),RN(ae)}),onBlur:B(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:B(t.onPointerMove,An(D=>{const oe=D.target,z=M.current!==D.clientX;if(D.currentTarget.contains(oe)&&z){const Y=D.clientX>M.current?"right":"left";I.current=Y,M.current=D.clientX}}))})})})})})})});ng.displayName=ht;var vN="MenuGroup",jc=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return a.jsx(le.div,{role:"group",...s,ref:e})});jc.displayName=vN;var bN="MenuLabel",og=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return a.jsx(le.div,{...s,ref:e})});og.displayName=bN;var zo="MenuItem",Gd="menu.itemSelect",fi=m.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:s,...n}=t,o=m.useRef(null),i=Yn(zo,t.__scopeMenu),l=wc(zo,t.__scopeMenu),c=ge(e,o),u=m.useRef(!1),d=()=>{const h=o.current;if(!r&&h){const f=new CustomEvent(Gd,{bubbles:!0,cancelable:!0});h.addEventListener(Gd,p=>s==null?void 0:s(p),{once:!0}),_h(h,f),f.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(ig,{...n,ref:c,disabled:r,onClick:B(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:B(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:B(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||cl.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});fi.displayName=zo;var ig=m.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:s=!1,textValue:n,...o}=t,i=wc(zo,r),l=eg(r),c=m.useRef(null),u=ge(e,c),[d,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[o.children]),a.jsx(Pn.ItemSlot,{scope:r,disabled:s,textValue:n??f,children:a.jsx(oN,{asChild:!0,...l,focusable:!s,children:a.jsx(le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:u,onPointerMove:B(t.onPointerMove,An(g=>{s?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:B(t.onPointerLeave,An(g=>i.onItemLeave(g))),onFocus:B(t.onFocus,()=>h(!0)),onBlur:B(t.onBlur,()=>h(!1))})})})}),wN="MenuCheckboxItem",ag=m.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:s,...n}=t;return a.jsx(hg,{scope:t.__scopeMenu,checked:r,children:a.jsx(fi,{role:"menuitemcheckbox","aria-checked":Ko(r)?"mixed":r,...n,ref:e,"data-state":Cc(r),onSelect:B(n.onSelect,()=>s==null?void 0:s(Ko(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ag.displayName=wN;var lg="MenuRadioGroup",[_N,jN]=qr(lg,{value:void 0,onValueChange:()=>{}}),cg=m.forwardRef((t,e)=>{const{value:r,onValueChange:s,...n}=t,o=Je(s);return a.jsx(_N,{scope:t.__scopeMenu,value:r,onValueChange:o,children:a.jsx(jc,{...n,ref:e})})});cg.displayName=lg;var ug="MenuRadioItem",dg=m.forwardRef((t,e)=>{const{value:r,...s}=t,n=jN(ug,t.__scopeMenu),o=r===n.value;return a.jsx(hg,{scope:t.__scopeMenu,checked:o,children:a.jsx(fi,{role:"menuitemradio","aria-checked":o,...s,ref:e,"data-state":Cc(o),onSelect:B(s.onSelect,()=>{var i;return(i=n.onValueChange)==null?void 0:i.call(n,r)},{checkForDefaultPrevented:!1})})})});dg.displayName=ug;var Sc="MenuItemIndicator",[hg,SN]=qr(Sc,{checked:!1}),fg=m.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:s,...n}=t,o=SN(Sc,r);return a.jsx(Ct,{present:s||Ko(o.checked)||o.checked===!0,children:a.jsx(le.span,{...n,ref:e,"data-state":Cc(o.checked)})})});fg.displayName=Sc;var CN="MenuSeparator",pg=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return a.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});pg.displayName=CN;var TN="MenuArrow",mg=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,n=hi(r);return a.jsx(vx,{...n,...s,ref:e})});mg.displayName=TN;var NN="MenuSub",[Kk,gg]=qr(NN),cn="MenuSubTrigger",xg=m.forwardRef((t,e)=>{const r=Wr(cn,t.__scopeMenu),s=Yn(cn,t.__scopeMenu),n=gg(cn,t.__scopeMenu),o=wc(cn,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(vc,{asChild:!0,...u,children:a.jsx(ig,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":n.contentId,"data-state":bg(r.open),...t,ref:Ch(e,n.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:B(t.onPointerMove,An(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:B(t.onPointerLeave,An(h=>{var p,g;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const x=(g=r.content)==null?void 0:g.dataset.side,v=x==="right",b=v?-5:5,_=f[v?"left":"right"],y=f[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:_,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x:_,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:B(t.onKeyDown,h=>{var p;const f=o.searchRef.current!=="";t.disabled||f&&h.key===" "||lN[s.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});xg.displayName=cn;var yg="MenuSubContent",vg=m.forwardRef((t,e)=>{const r=rg(ht,t.__scopeMenu),{forceMount:s=r.forceMount,...n}=t,o=Wr(ht,t.__scopeMenu),i=Yn(ht,t.__scopeMenu),l=gg(yg,t.__scopeMenu),c=m.useRef(null),u=ge(e,c);return a.jsx(Pn.Provider,{scope:t.__scopeMenu,children:a.jsx(Ct,{present:s||o.open,children:a.jsx(Pn.Slot,{scope:t.__scopeMenu,children:a.jsx(_c,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:B(t.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:B(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:B(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=cN[i.dir].includes(d.key);h&&f&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});vg.displayName=yg;function bg(t){return t?"open":"closed"}function Ko(t){return t==="indeterminate"}function Cc(t){return Ko(t)?"indeterminate":t?"checked":"unchecked"}function RN(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function EN(t,e){return t.map((r,s)=>t[(e+s)%t.length])}function kN(t,e,r){const n=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=EN(t,Math.max(o,0));n.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function PN(t,e){const{x:r,y:s}=t;let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o].x,c=e[o].y,u=e[i].x,d=e[i].y;c>s!=d>s&&r<(u-l)*(s-c)/(d-c)+l&&(n=!n)}return n}function AN(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return PN(r,e)}function An(t){return e=>e.pointerType==="mouse"?t(e):void 0}var MN=tg,$N=vc,ON=sg,IN=ng,DN=jc,LN=og,FN=fi,VN=ag,BN=cg,UN=dg,HN=fg,zN=pg,KN=mg,qN=xg,WN=vg,Tc="DropdownMenu",[GN,qk]=Hr(Tc,[Zm]),ze=Zm(),[YN,wg]=GN(Tc),_g=t=>{const{__scopeDropdownMenu:e,children:r,dir:s,open:n,defaultOpen:o,onOpenChange:i,modal:l=!0}=t,c=ze(e),u=m.useRef(null),[d=!1,h]=Ms({prop:n,defaultProp:o,onChange:i});return a.jsx(YN,{scope:e,triggerId:Ao(),triggerRef:u,contentId:Ao(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:a.jsx(MN,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:r})})};_g.displayName=Tc;var jg="DropdownMenuTrigger",Sg=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...n}=t,o=wg(jg,r),i=ze(r);return a.jsx($N,{asChild:!0,...i,children:a.jsx(le.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...n,ref:Ch(e,o.triggerRef),onPointerDown:B(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:B(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Sg.displayName=jg;var XN="DropdownMenuPortal",Cg=t=>{const{__scopeDropdownMenu:e,...r}=t,s=ze(e);return a.jsx(ON,{...s,...r})};Cg.displayName=XN;var Tg="DropdownMenuContent",Ng=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=wg(Tg,r),o=ze(r),i=m.useRef(!1);return a.jsx(IN,{id:n.contentId,"aria-labelledby":n.triggerId,...o,...s,ref:e,onCloseAutoFocus:B(t.onCloseAutoFocus,l=>{var c;i.current||(c=n.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:B(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!n.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ng.displayName=Tg;var JN="DropdownMenuGroup",QN=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(DN,{...n,...s,ref:e})});QN.displayName=JN;var ZN="DropdownMenuLabel",Rg=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(LN,{...n,...s,ref:e})});Rg.displayName=ZN;var eR="DropdownMenuItem",Eg=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(FN,{...n,...s,ref:e})});Eg.displayName=eR;var tR="DropdownMenuCheckboxItem",kg=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(VN,{...n,...s,ref:e})});kg.displayName=tR;var rR="DropdownMenuRadioGroup",sR=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(BN,{...n,...s,ref:e})});sR.displayName=rR;var nR="DropdownMenuRadioItem",Pg=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(UN,{...n,...s,ref:e})});Pg.displayName=nR;var oR="DropdownMenuItemIndicator",Ag=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(HN,{...n,...s,ref:e})});Ag.displayName=oR;var iR="DropdownMenuSeparator",Mg=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(zN,{...n,...s,ref:e})});Mg.displayName=iR;var aR="DropdownMenuArrow",lR=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(KN,{...n,...s,ref:e})});lR.displayName=aR;var cR="DropdownMenuSubTrigger",$g=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(qN,{...n,...s,ref:e})});$g.displayName=cR;var uR="DropdownMenuSubContent",Og=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,n=ze(r);return a.jsx(WN,{...n,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Og.displayName=uR;var dR=_g,hR=Sg,fR=Cg,Ig=Ng,Dg=Rg,Lg=Eg,Fg=kg,Vg=Pg,Bg=Ag,Ug=Mg,Hg=$g,zg=Og;const pR=dR,mR=hR,gR=m.forwardRef(({className:t,inset:e,children:r,...s},n)=>a.jsxs(Hg,{ref:n,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[r,a.jsx(St,{className:"ml-auto h-4 w-4"})]}));gR.displayName=Hg.displayName;const xR=m.forwardRef(({className:t,...e},r)=>a.jsx(zg,{ref:r,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));xR.displayName=zg.displayName;const Kg=m.forwardRef(({className:t,sideOffset:e=4,...r},s)=>a.jsx(fR,{children:a.jsx(Ig,{ref:s,sideOffset:e,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Kg.displayName=Ig.displayName;const qg=m.forwardRef(({className:t,inset:e,...r},s)=>a.jsx(Lg,{ref:s,className:G("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));qg.displayName=Lg.displayName;const yR=m.forwardRef(({className:t,children:e,checked:r,...s},n)=>a.jsxs(Fg,{ref:n,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Bg,{children:a.jsx(of,{className:"h-4 w-4"})})}),e]}));yR.displayName=Fg.displayName;const vR=m.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(Vg,{ref:s,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Bg,{children:a.jsx(ny,{className:"h-2 w-2 fill-current"})})}),e]}));vR.displayName=Vg.displayName;const bR=m.forwardRef(({className:t,inset:e,...r},s)=>a.jsx(Dg,{ref:s,className:G("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));bR.displayName=Dg.displayName;const wR=m.forwardRef(({className:t,...e},r)=>a.jsx(Ug,{ref:r,className:G("-mx-1 my-1 h-px bg-muted",t),...e}));wR.displayName=Ug.displayName;const Yd=({value:t,onChange:e})=>{const r=Tt(),s=zd.find(n=>n.value===t);return a.jsxs(pR,{children:[a.jsx(mR,{asChild:!0,children:a.jsxs(de,{variant:"outline",className:`bg-white/60 border-purple-300 text-gray-800 transition-all duration-300 hover:bg-white hover:border-purple-400 focus:border-purple-400 focus:ring-purple-400 ${r?"w-full min-h-[48px] justify-between":""}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ry,{className:`${r?"h-5 w-5 mr-2":"h-4 w-4 mr-2"}`}),a.jsx("span",{className:r?"truncate":"",children:r?(s==null?void 0:s.label.split(" ")[0])||"Sort":(s==null?void 0:s.label)||"Sort by"})]}),a.jsx(zr,{className:`${r?"h-5 w-5 ml-2 flex-shrink-0":"h-4 w-4 ml-2"}`})]})}),a.jsx(Kg,{className:"bg-white border-purple-200 shadow-xl z-50",style:{minWidth:r?"200px":"56px",backgroundColor:"white",zIndex:50},children:zd.map(n=>a.jsx(qg,{onClick:()=>e(n.value),className:`cursor-pointer ${t===n.value?"bg-purple-50 text-purple-700 font-medium":""} ${r?"min-h-[44px] text-base":""}`,children:n.label},n.value))})]})},dr=({children:t,className:e,maxHeight:r="max-h-60",showIndicators:s=!0})=>{const[n,o]=m.useState(!1),[i,l]=m.useState(!1),c=m.useRef(null),u=()=>{if(!c.current)return;const{scrollTop:d,scrollHeight:h,clientHeight:f}=c.current;o(d>10),l(d<h-f-10)};return m.useEffect(()=>{const d=c.current;if(!d)return;u(),d.addEventListener("scroll",u);const h=new ResizeObserver(u);return h.observe(d),()=>{d.removeEventListener("scroll",u),h.disconnect()}},[]),a.jsxs("div",{className:"relative",children:[s&&n&&a.jsx("div",{className:"scroll-indicator-top opacity-100"}),a.jsx("div",{ref:c,className:G("overflow-y-auto overflow-x-visible scrollbar-webkit px-2",r,e),style:{overflowClipMargin:"64px"},children:t}),s&&i&&a.jsx("div",{className:"scroll-indicator-bottom opacity-100"})]})},_R=Rh,jR=Eh,SR=Nh,Wg=m.forwardRef(({className:t,...e},r)=>a.jsx(gl,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Wg.displayName=gl.displayName;const CR=Dn("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gg=m.forwardRef(({side:t="right",className:e,children:r,...s},n)=>a.jsxs(SR,{children:[a.jsx(Wg,{}),a.jsxs(xl,{ref:n,className:G(CR({side:t}),e),...s,children:[r,a.jsxs(Th,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(xr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gg.displayName=xl.displayName;const Yg=({className:t,...e})=>a.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",t),...e});Yg.displayName="SheetHeader";const Xg=m.forwardRef(({className:t,...e},r)=>a.jsx(yl,{ref:r,className:G("text-lg font-semibold text-foreground",t),...e}));Xg.displayName=yl.displayName;const Jg=m.forwardRef(({className:t,...e},r)=>a.jsx(vl,{ref:r,className:G("text-sm text-muted-foreground",t),...e}));Jg.displayName=vl.displayName;function TR(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const Qg=T.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Vs=()=>{const t=T.useContext(Qg);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};TR(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const NR=24,RR=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Xd(...t){return(...e)=>{for(let r of t)typeof r=="function"&&r(...e)}}function ER(){return Nc(/^Mac/)}function kR(){return Nc(/^iPhone/)}function Jd(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function PR(){return Nc(/^iPad/)||ER()&&navigator.maxTouchPoints>1}function Zg(){return kR()||PR()}function Nc(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const ra=typeof document<"u"&&window.visualViewport;function Qd(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function e0(t){for(Qd(t)&&(t=t.parentElement);t&&!Qd(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const AR=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yo=0,sa;function MR(t={}){let{isDisabled:e}=t;RR(()=>{if(!e)return yo++,yo===1&&Zg()&&(sa=$R()),()=>{yo--,yo===0&&(sa==null||sa())}},[e])}function $R(){let t,e=0,r=h=>{t=e0(h.target),!(t===document.documentElement&&t===document.body)&&(e=h.changedTouches[0].pageY)},s=h=>{if(!t||t===document.documentElement||t===document.body){h.preventDefault();return}let f=h.changedTouches[0].pageY,p=t.scrollTop,g=t.scrollHeight-t.clientHeight;g!==0&&((p<=0&&f>e||p>=g&&f<e)&&h.preventDefault(),e=f)},n=h=>{let f=h.target;ul(f)&&f!==document.activeElement&&(h.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},o=h=>{let f=h.target;ul(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",ra&&(ra.height<window.innerHeight?requestAnimationFrame(()=>{Zd(f)}):ra.addEventListener("resize",()=>Zd(f),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=Xd(OR(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=Xd(sn(document,"touchstart",r,{passive:!1,capture:!0}),sn(document,"touchmove",s,{passive:!1,capture:!0}),sn(document,"touchend",n,{passive:!1,capture:!0}),sn(document,"focus",o,!0),sn(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function OR(t,e,r){let s=t.style[e];return t.style[e]=r,()=>{t.style[e]=s}}function sn(t,e,r,s){return t.addEventListener(e,r,s),()=>{t.removeEventListener(e,r,s)}}function Zd(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let r=e0(t);if(r!==document.documentElement&&r!==document.body&&r!==t){let s=r.getBoundingClientRect().top,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+NR;o>i&&(r.scrollTop+=n-s)}t=r.parentElement}}function ul(t){return t instanceof HTMLInputElement&&!AR.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function IR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function DR(...t){return e=>t.forEach(r=>IR(r,e))}function t0(...t){return m.useCallback(DR(...t),t)}const r0=new WeakMap;function Ce(t,e,r=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(e).forEach(([n,o])=>{if(n.startsWith("--")){t.style.setProperty(n,o);return}s[n]=t.style[n],t.style[n]=o}),!r&&r0.set(t,s)}function LR(t,e){if(!t||!(t instanceof HTMLElement))return;let r=r0.get(t);r&&(t.style[e]=r[e])}const Te=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function vo(t,e){if(!t)return null;const r=window.getComputedStyle(t),s=r.transform||r.webkitTransform||r.mozTransform;let n=s.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[Te(e)?13:12]):(n=s.match(/^matrix\((.+)\)$/),n?parseFloat(n[1].split(", ")[Te(e)?5:4]):null)}function FR(t){return 8*(Math.log(t+1)-2)}function na(t,e){if(!t)return()=>{};const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}function VR(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}const fe={DURATION:.5,EASE:[.32,.72,0,1]},s0=.4,BR=.25,UR=100,n0=8,Cr=16,dl=26,oa="vaul-dragging";function o0(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...r)=>e.current==null?void 0:e.current.call(e,...r),[])}function HR({defaultProp:t,onChange:e}){const r=T.useState(t),[s]=r,n=T.useRef(s),o=o0(e);return T.useEffect(()=>{n.current!==s&&(o(s),n.current=s)},[s,n,o]),r}function i0({prop:t,defaultProp:e,onChange:r=()=>{}}){const[s,n]=HR({defaultProp:e,onChange:r}),o=t!==void 0,i=o?t:s,l=o0(r),c=T.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else n(u)},[o,t,n,l]);return[i,c]}function zR({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:r,drawerRef:s,overlayRef:n,fadeFromIndex:o,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,h]=i0({prop:t,defaultProp:r==null?void 0:r[0],onChange:e}),[f,p]=T.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);T.useEffect(()=>{function N(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const g=T.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),x=T.useMemo(()=>r==null?void 0:r.findIndex(N=>N===d),[r,d]),v=r&&r.length>0&&(o||o===0)&&!Number.isNaN(o)&&r[o]===d||!r,b=T.useMemo(()=>{const N=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var R;return(R=r==null?void 0:r.map(E=>{const P=typeof E=="string";let k=0;if(P&&(k=parseInt(E,10)),Te(l)){const I=P?k:f?E*N.height:0;return f?l==="bottom"?N.height-I:-N.height+I:I}const A=P?k:f?E*N.width:0;return f?l==="right"?N.width-A:-N.width+A:A}))!=null?R:[]},[r,f,c]),_=T.useMemo(()=>x!==null?b==null?void 0:b[x]:null,[b,x]),y=T.useCallback(N=>{var R;const E=(R=b==null?void 0:b.findIndex(P=>P===N))!=null?R:null;i(E),Ce(s.current,{transition:`transform ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`,transform:Te(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),b&&E!==b.length-1&&E!==o&&E<o?Ce(n.current,{transition:`opacity ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`,opacity:"0"}):Ce(n.current,{transition:`opacity ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`,opacity:"1"}),h(r==null?void 0:r[Math.max(E,0)])},[s.current,r,b,o,n,h]);T.useEffect(()=>{if(d||t){var N;const R=(N=r==null?void 0:r.findIndex(E=>E===t||E===d))!=null?N:-1;b&&R!==-1&&typeof b[R]=="number"&&y(b[R])}},[d,t,r,b,y]);function w({draggedDistance:N,closeDrawer:R,velocity:E,dismissible:P}){if(o===void 0)return;const k=l==="bottom"||l==="right"?(_??0)-N:(_??0)+N,A=x===o-1,I=x===0,M=N>0;if(A&&Ce(n.current,{transition:`opacity ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`}),!u&&E>2&&!M){P?R():y(b[0]);return}if(!u&&E>2&&M&&b&&r){y(b[r.length-1]);return}const V=b==null?void 0:b.reduce((U,L)=>typeof U!="number"||typeof L!="number"?U:Math.abs(L-k)<Math.abs(U-k)?L:U),O=Te(l)?window.innerHeight:window.innerWidth;if(E>s0&&Math.abs(N)<O*.4){const U=M?1:-1;if(U>0&&g){y(b[r.length-1]);return}if(I&&U<0&&P&&R(),x===null)return;y(b[x+U]);return}y(V)}function j({draggedDistance:N}){if(_===null)return;const R=l==="bottom"||l==="right"?_-N:_+N;(l==="bottom"||l==="right")&&R<b[b.length-1]||(l==="top"||l==="left")&&R>b[b.length-1]||Ce(s.current,{transform:Te(l)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`})}function C(N,R){if(!r||typeof x!="number"||!b||o===void 0)return null;const E=x===o-1;if(x>=o&&R)return 0;if(E&&!R)return 1;if(!v&&!E)return null;const k=E?x+1:x-1,A=E?b[k]-b[k-1]:b[k+1]-b[k],I=N/Math.abs(A);return E?1-I:I}return{isLastSnapPoint:g,activeSnapPoint:d,shouldFade:v,getPercentageDragged:C,setActiveSnapPoint:h,activeSnapPointIndex:x,onRelease:w,onDrag:j,snapPointsOffset:b}}const KR=()=>()=>{};function qR(){const{direction:t,isOpen:e,shouldScaleBackground:r,setBackgroundColorOnScale:s,noBodyStyles:n}=Vs(),o=T.useRef(null),i=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-dl)/window.innerWidth}T.useEffect(()=>{if(e&&r){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;VR(s&&!n?na(document.body,{background:"black"}):KR,na(c,{transformOrigin:Te(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${fe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${fe.EASE.join(",")})`}));const u=na(c,{borderRadius:`${n0}px`,overflow:"hidden",...Te(t)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},fe.DURATION*1e3)}}},[e,r,i])}let nn=null;function WR({isOpen:t,modal:e,nested:r,hasBeenOpened:s,preventScrollRestoration:n,noBodyStyles:o}){const[i,l]=T.useState(()=>typeof window<"u"?window.location.href:""),c=T.useRef(0),u=T.useCallback(()=>{if(Jd()&&nn===null&&t&&!o){nn={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=f-window.innerHeight;p&&c.current>=f&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[t]),d=T.useCallback(()=>{if(Jd()&&nn!==null&&!o){const h=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,nn),window.requestAnimationFrame(()=>{if(n&&i!==window.location.href){l(window.location.href);return}window.scrollTo(f,h)}),nn=null}},[i]);return T.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),T.useEffect(()=>{r||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&u(),e||window.setTimeout(()=>{d()},500)):d())},[t,s,i,e,r,u,d]),{restorePositionSetting:d}}function a0({open:t,onOpenChange:e,children:r,onDrag:s,onRelease:n,snapPoints:o,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=BR,scrollLockTimeout:u=UR,dismissible:d=!0,handleOnly:h=!1,fadeFromIndex:f=o&&o.length-1,activeSnapPoint:p,setActiveSnapPoint:g,fixed:x,modal:v=!0,onClose:b,nested:_,noBodyStyles:y,direction:w="bottom",defaultOpen:j=!1,disablePreventScroll:C=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:R=!1,repositionInputs:E=!0,onAnimationEnd:P,container:k,autoFocus:A=!1}){var I,M;const[V=!1,O]=i0({defaultProp:j,prop:t,onChange:$=>{e==null||e($),!$&&!_&&Ws(),setTimeout(()=>{P==null||P($)},fe.DURATION*1e3),$&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),$||(document.body.style.pointerEvents="auto")}}),[U,L]=T.useState(!1),[D,oe]=T.useState(!1),[z,Y]=T.useState(!1),Q=T.useRef(null),xe=T.useRef(null),Ke=T.useRef(null),ae=T.useRef(null),Le=T.useRef(null),qe=T.useRef(!1),Se=T.useRef(null),ot=T.useRef(0),Gt=T.useRef(!1),Gr=T.useRef(0),X=T.useRef(null),Ks=T.useRef(((I=X.current)==null?void 0:I.getBoundingClientRect().height)||0),qs=T.useRef(((M=X.current)==null?void 0:M.getBoundingClientRect().width)||0),Nt=T.useRef(0),xi=T.useCallback($=>{o&&$===br.length-1&&(xe.current=new Date)},[]),{activeSnapPoint:yi,activeSnapPointIndex:Ee,setActiveSnapPoint:Ft,onRelease:vi,snapPointsOffset:br,onDrag:Yr,shouldFade:Xn,getPercentageDragged:Jn}=zR({snapPoints:o,activeSnapPointProp:p,setActiveSnapPointProp:g,drawerRef:X,fadeFromIndex:f,overlayRef:Q,onSnapPointChange:xi,direction:w,container:k,snapToSequentialPoint:N});MR({isDisabled:!V||D||!v||z||!U||!E||!C});const{restorePositionSetting:Ws}=WR({isOpen:V,modal:v,nested:_,hasBeenOpened:U,preventScrollRestoration:R,noBodyStyles:y});function mt(){return(window.innerWidth-dl)/window.innerWidth}function Qn($){var H,K;!d&&!o||X.current&&!X.current.contains($.target)||(Ks.current=((H=X.current)==null?void 0:H.getBoundingClientRect().height)||0,qs.current=((K=X.current)==null?void 0:K.getBoundingClientRect().width)||0,oe(!0),Ke.current=new Date,Zg()&&window.addEventListener("touchend",()=>qe.current=!1,{once:!0}),$.target.setPointerCapture($.pointerId),ot.current=Te(w)?$.pageY:$.pageX)}function Vt($,H){var K,re;let ee=$;const Pe=(K=window.getSelection())==null?void 0:K.toString(),Ae=X.current?vo(X.current,w):null,Ze=new Date;if(ee.hasAttribute("data-vaul-no-drag")||ee.closest("[data-vaul-no-drag]"))return!1;if(w==="right"||w==="left")return!0;if(xe.current&&Ze.getTime()-xe.current.getTime()<500)return!1;if(Ae!==null&&(w==="bottom"?Ae>0:Ae<0))return!0;if(Pe&&Pe.length>0)return!1;if(Ze.getTime()-((re=Le.current)==null?void 0:re.getTime())<u&&Ae===0||H)return Le.current=Ze,!1;for(;ee;){if(ee.scrollHeight>ee.clientHeight){if(ee.scrollTop!==0)return Le.current=new Date,!1;if(ee.getAttribute("role")==="dialog")return!0}ee=ee.parentNode}return!0}function Zn($){if(X.current&&D){const H=w==="bottom"||w==="right"?1:-1,K=(ot.current-(Te(w)?$.pageY:$.pageX))*H,re=K>0,ee=o&&!d&&!re;if(ee&&Ee===0)return;const Pe=Math.abs(K),Ae=document.querySelector("[data-vaul-drawer-wrapper]"),Ze=w==="bottom"||w==="top"?Ks.current:qs.current;let gt=Pe/Ze;const _r=Jn(Pe,re);if(_r!==null&&(gt=_r),ee&&gt>=1||!qe.current&&!Vt($.target,re))return;if(X.current.classList.add(oa),qe.current=!0,Ce(X.current,{transition:"none"}),Ce(Q.current,{transition:"none"}),o&&Yr({draggedDistance:K}),re&&!o){const Et=FR(K),to=Math.min(Et*-1,0)*H;Ce(X.current,{transform:Te(w)?`translate3d(0, ${to}px, 0)`:`translate3d(${to}px, 0, 0)`});return}const Yt=1-gt;if((Xn||f&&Ee===f-1)&&(s==null||s($,gt),Ce(Q.current,{opacity:`${Yt}`,transition:"none"},!0)),Ae&&Q.current&&i){const Et=Math.min(mt()+gt*(1-mt()),1),to=8-gt*8,Vc=Math.max(0,14-gt*14);Ce(Ae,{borderRadius:`${to}px`,transform:Te(w)?`scale(${Et}) translate3d(0, ${Vc}px, 0)`:`scale(${Et}) translate3d(${Vc}px, 0, 0)`,transition:"none"},!0)}if(!o){const Et=Pe*H;Ce(X.current,{transform:Te(w)?`translate3d(0, ${Et}px, 0)`:`translate3d(${Et}px, 0, 0)`})}}}T.useEffect(()=>{var $;function H(){if(!X.current||!E)return;const K=document.activeElement;if(ul(K)||Gt.current){var re;const ee=((re=window.visualViewport)==null?void 0:re.height)||0,Pe=window.innerHeight;let Ae=Pe-ee;const Ze=X.current.getBoundingClientRect().height||0,gt=Ze>Pe*.8;Nt.current||(Nt.current=Ze);const _r=X.current.getBoundingClientRect().top;if(Math.abs(Gr.current-Ae)>60&&(Gt.current=!Gt.current),o&&o.length>0&&br&&Ee){const Yt=br[Ee]||0;Ae+=Yt}if(Gr.current=Ae,Ze>ee||Gt.current){const Yt=X.current.getBoundingClientRect().height;let Et=Yt;Yt>ee&&(Et=ee-(gt?_r:dl)),x?X.current.style.height=`${Yt-Math.max(Ae,0)}px`:X.current.style.height=`${Math.max(Et,ee-_r)}px`}else X.current.style.height=`${Nt.current}px`;o&&o.length>0&&!Gt.current?X.current.style.bottom="0px":X.current.style.bottom=`${Math.max(Ae,0)}px`}}return($=window.visualViewport)==null||$.addEventListener("resize",H),()=>{var K;return(K=window.visualViewport)==null?void 0:K.removeEventListener("resize",H)}},[Ee,o,br]);function wr($){eo(),b==null||b(),$||O(!1),setTimeout(()=>{o&&Ft(o[0])},fe.DURATION*1e3)}function Gs(){if(!X.current)return;const $=document.querySelector("[data-vaul-drawer-wrapper]"),H=vo(X.current,w);Ce(X.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`}),Ce(Q.current,{transition:`opacity ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`,opacity:"1"}),i&&H&&H>0&&V&&Ce($,{borderRadius:`${n0}px`,overflow:"hidden",...Te(w)?{transform:`scale(${mt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${mt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${fe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${fe.EASE.join(",")})`},!0)}function eo(){!D||!X.current||(X.current.classList.remove(oa),qe.current=!1,oe(!1),ae.current=new Date)}function bi($){if(!D||!X.current)return;X.current.classList.remove(oa),qe.current=!1,oe(!1),ae.current=new Date;const H=vo(X.current,w);if(!Vt($.target,!1)||!H||Number.isNaN(H)||Ke.current===null)return;const K=ae.current.getTime()-Ke.current.getTime(),re=ot.current-(Te(w)?$.pageY:$.pageX),ee=Math.abs(re)/K;if(ee>.05&&(Y(!0),setTimeout(()=>{Y(!1)},200)),o){vi({draggedDistance:re*(w==="bottom"||w==="right"?1:-1),closeDrawer:wr,velocity:ee,dismissible:d}),n==null||n($,!0);return}if(w==="bottom"||w==="right"?re>0:re<0){Gs(),n==null||n($,!0);return}if(ee>s0){wr(),n==null||n($,!1);return}var Pe;const Ae=Math.min((Pe=X.current.getBoundingClientRect().height)!=null?Pe:0,window.innerHeight);var Ze;const gt=Math.min((Ze=X.current.getBoundingClientRect().width)!=null?Ze:0,window.innerWidth),_r=w==="left"||w==="right";if(Math.abs(H)>=(_r?gt:Ae)*c){wr(),n==null||n($,!1);return}n==null||n($,!0),Gs()}T.useEffect(()=>(V&&(Ce(document.documentElement,{scrollBehavior:"auto"}),xe.current=new Date),()=>{LR(document.documentElement,"scrollBehavior")}),[V]);function Ys($){const H=$?(window.innerWidth-Cr)/window.innerWidth:1,K=$?-Cr:0;Se.current&&window.clearTimeout(Se.current),Ce(X.current,{transition:`transform ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`,transform:`scale(${H}) translate3d(0, ${K}px, 0)`}),!$&&X.current&&(Se.current=setTimeout(()=>{const re=vo(X.current,w);Ce(X.current,{transition:"none",transform:Te(w)?`translate3d(0, ${re}px, 0)`:`translate3d(${re}px, 0, 0)`})},500))}function Rt($,H){if(H<0)return;const K=(window.innerWidth-Cr)/window.innerWidth,re=K+H*(1-K),ee=-Cr+H*Cr;Ce(X.current,{transform:Te(w)?`scale(${re}) translate3d(0, ${ee}px, 0)`:`scale(${re}) translate3d(${ee}px, 0, 0)`,transition:"none"})}function wi($,H){const K=Te(w)?window.innerHeight:window.innerWidth,re=H?(K-Cr)/K:1,ee=H?-Cr:0;H&&Ce(X.current,{transition:`transform ${fe.DURATION}s cubic-bezier(${fe.EASE.join(",")})`,transform:Te(w)?`scale(${re}) translate3d(0, ${ee}px, 0)`:`scale(${re}) translate3d(${ee}px, 0, 0)`})}return T.createElement(Rh,{defaultOpen:j,onOpenChange:$=>{!d&&!$||($?L(!0):wr(!0),O($))},open:V},T.createElement(Qg.Provider,{value:{activeSnapPoint:yi,snapPoints:o,setActiveSnapPoint:Ft,drawerRef:X,overlayRef:Q,onOpenChange:e,onPress:Qn,onRelease:bi,onDrag:Zn,dismissible:d,handleOnly:h,isOpen:V,isDragging:D,shouldFade:Xn,closeDrawer:wr,onNestedDrag:Rt,onNestedOpenChange:Ys,onNestedRelease:wi,keyboardIsOpen:Gt,modal:v,snapPointsOffset:br,direction:w,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:y,container:k,autoFocus:A}},r))}const l0=T.forwardRef(function({...t},e){const{overlayRef:r,snapPoints:s,onRelease:n,shouldFade:o,isOpen:i,modal:l}=Vs(),c=t0(e,r),u=s&&s.length>0;return l?T.createElement(gl,{onMouseUp:n,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&o?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});l0.displayName="Drawer.Overlay";const c0=T.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:r,...s},n){const{drawerRef:o,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:h,isOpen:f,direction:p,snapPoints:g,container:x,handleOnly:v,autoFocus:b}=Vs(),[_,y]=T.useState(!1),w=t0(n,o),j=T.useRef(null),C=T.useRef(null),N=T.useRef(!1),R=g&&g.length>0;qR();const E=(k,A,I=0)=>{if(N.current)return!0;const M=Math.abs(k.y),V=Math.abs(k.x),O=V>M,U=["bottom","right"].includes(A)?1:-1;if(A==="left"||A==="right"){if(!(k.x*U<0)&&V>=0&&V<=I)return O}else if(!(k.y*U<0)&&M>=0&&M<=I)return!O;return N.current=!0,!0};T.useEffect(()=>{R&&window.requestAnimationFrame(()=>{y(!0)})},[]);function P(k){j.current=null,N.current=!1,l(k)}return T.createElement(xl,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":_?"true":"false","data-vaul-snap-points":f&&R?"true":"false","data-vaul-custom-container":x?"true":"false",...s,ref:w,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...e}:e,onPointerDown:k=>{v||(s.onPointerDown==null||s.onPointerDown.call(s,k),j.current={x:k.pageX,y:k.pageY},i(k))},onOpenAutoFocus:k=>{r==null||r(k),b||k.preventDefault()},onPointerDownOutside:k=>{if(t==null||t(k),!h||k.defaultPrevented){k.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:k=>{if(!h){k.preventDefault();return}},onPointerMove:k=>{if(C.current=k,v||(s.onPointerMove==null||s.onPointerMove.call(s,k),!j.current))return;const A=k.pageY-j.current.y,I=k.pageX-j.current.x,M=k.pointerType==="touch"?10:2;E({x:I,y:A},p,M)?c(k):(Math.abs(I)>M||Math.abs(A)>M)&&(j.current=null)},onPointerUp:k=>{s.onPointerUp==null||s.onPointerUp.call(s,k),j.current=null,N.current=!1,l(k)},onPointerOut:k=>{s.onPointerOut==null||s.onPointerOut.call(s,k),P(C.current)},onContextMenu:k=>{s.onContextMenu==null||s.onContextMenu.call(s,k),P(C.current)}})});c0.displayName="Drawer.Content";const GR=250,YR=120,u0=T.forwardRef(function({preventCycle:t=!1,children:e,...r},s){const{closeDrawer:n,isDragging:o,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:h,onPress:f,onDrag:p}=Vs(),g=T.useRef(null),x=T.useRef(!1);function v(){if(x.current){y();return}window.setTimeout(()=>{b()},YR)}function b(){if(o||t||x.current){y();return}if(y(),(!i||i.length===0)&&u){n();return}if(l===i[i.length-1]&&u){n();return}const j=i.findIndex(N=>N===l);if(j===-1)return;const C=i[j+1];c(C)}function _(){g.current=window.setTimeout(()=>{x.current=!0},GR)}function y(){window.clearTimeout(g.current),x.current=!1}return T.createElement("div",{onClick:v,onPointerCancel:y,onPointerDown:w=>{d&&f(w),_()},onPointerMove:w=>{d&&p(w)},ref:s,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},T.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});u0.displayName="Drawer.Handle";function XR({onDrag:t,onOpenChange:e,...r}){const{onNestedDrag:s,onNestedOpenChange:n,onNestedRelease:o}=Vs();if(!s)throw new Error("Drawer.NestedRoot must be placed in another drawer");return T.createElement(a0,{nested:!0,onClose:()=>{n(!1)},onDrag:(i,l)=>{s(i,l),t==null||t(i,l)},onOpenChange:i=>{i&&n(i)},onRelease:o,...r})}function JR(t){const e=Vs(),{container:r=e.container,...s}=t;return T.createElement(Nh,{container:r,...s})}const Dt={Root:a0,NestedRoot:XR,Content:c0,Overlay:l0,Trigger:Eh,Portal:JR,Handle:u0,Close:Th,Title:yl,Description:vl},d0=({shouldScaleBackground:t=!0,...e})=>a.jsx(Dt.Root,{shouldScaleBackground:t,...e});d0.displayName="Drawer";const QR=Dt.Trigger,ZR=Dt.Portal,h0=m.forwardRef(({className:t,...e},r)=>a.jsx(Dt.Overlay,{ref:r,className:G("fixed inset-0 z-50 bg-black/80",t),...e}));h0.displayName=Dt.Overlay.displayName;const f0=m.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(ZR,{children:[a.jsx(h0,{}),a.jsxs(Dt.Content,{ref:s,className:G("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...r,children:[a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));f0.displayName="DrawerContent";const p0=({className:t,...e})=>a.jsx("div",{className:G("grid gap-1.5 p-4 text-center sm:text-left",t),...e});p0.displayName="DrawerHeader";const m0=m.forwardRef(({className:t,...e},r)=>a.jsx(Dt.Title,{ref:r,className:G("text-lg font-semibold leading-none tracking-tight",t),...e}));m0.displayName=Dt.Title.displayName;const g0=m.forwardRef(({className:t,...e},r)=>a.jsx(Dt.Description,{ref:r,className:G("text-sm text-muted-foreground",t),...e}));g0.displayName=Dt.Description.displayName;function x0(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Rc="Checkbox",[eE,Wk]=Hr(Rc),[tE,rE]=eE(Rc),y0=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:n,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,p]=m.useState(null),g=ge(e,w=>p(w)),x=m.useRef(!1),v=f?d||!!f.closest("form"):!0,[b=!1,_]=Ms({prop:n,defaultProp:o,onChange:u}),y=m.useRef(b);return m.useEffect(()=>{const w=f==null?void 0:f.form;if(w){const j=()=>_(y.current);return w.addEventListener("reset",j),()=>w.removeEventListener("reset",j)}},[f,_]),a.jsxs(tE,{scope:r,state:b,disabled:l,children:[a.jsx(le.button,{type:"button",role:"checkbox","aria-checked":hr(b)?"mixed":b,"aria-required":i,"data-state":w0(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:B(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:B(t.onClick,w=>{_(j=>hr(j)?!0:!j),v&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),v&&a.jsx(sE,{control:f,bubbles:!x.current,name:s,value:c,checked:b,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:hr(o)?!1:o})]})});y0.displayName=Rc;var v0="CheckboxIndicator",b0=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...n}=t,o=rE(v0,r);return a.jsx(Ct,{present:s||hr(o.state)||o.state===!0,children:a.jsx(le.span,{"data-state":w0(o.state),"data-disabled":o.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...t.style}})})});b0.displayName=v0;var sE=t=>{const{control:e,checked:r,bubbles:s=!0,defaultChecked:n,...o}=t,i=m.useRef(null),l=x0(r),c=kh(e);m.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:s});d.indeterminate=hr(r),p.call(d,hr(r)?!1:r),d.dispatchEvent(g)}},[l,r,s]);const u=m.useRef(hr(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...o,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hr(t){return t==="indeterminate"}function w0(t){return hr(t)?"indeterminate":t?"checked":"unchecked"}var _0=y0,nE=b0;const Ps=m.forwardRef(({className:t,...e},r)=>a.jsx(_0,{ref:r,className:G("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(nE,{className:G("flex items-center justify-center text-current"),children:a.jsx(of,{className:"h-4 w-4"})})}));Ps.displayName=_0.displayName;var Ec="Collapsible",[oE,Gk]=Hr(Ec),[iE,kc]=oE(Ec),j0=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:s,defaultOpen:n,disabled:o,onOpenChange:i,...l}=t,[c=!1,u]=Ms({prop:s,defaultProp:n,onChange:i});return a.jsx(iE,{scope:r,disabled:o,contentId:Ao(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:a.jsx(le.div,{"data-state":Ac(c),"data-disabled":o?"":void 0,...l,ref:e})})});j0.displayName=Ec;var S0="CollapsibleTrigger",C0=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,...s}=t,n=kc(S0,r);return a.jsx(le.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":Ac(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...s,ref:e,onClick:B(t.onClick,n.onOpenToggle)})});C0.displayName=S0;var Pc="CollapsibleContent",T0=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=kc(Pc,t.__scopeCollapsible);return a.jsx(Ct,{present:r||n.open,children:({present:o})=>a.jsx(aE,{...s,ref:e,present:o})})});T0.displayName=Pc;var aE=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:s,children:n,...o}=t,i=kc(Pc,r),[l,c]=m.useState(s),u=m.useRef(null),d=ge(e,u),h=m.useRef(0),f=h.current,p=m.useRef(0),g=p.current,x=i.open||l,v=m.useRef(x),b=m.useRef();return m.useEffect(()=>{const _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),ml(()=>{const _=u.current;if(_){b.current=b.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const y=_.getBoundingClientRect();h.current=y.height,p.current=y.width,v.current||(_.style.transitionDuration=b.current.transitionDuration,_.style.animationName=b.current.animationName),c(s)}},[i.open,s]),a.jsx(le.div,{"data-state":Ac(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:x&&n})});function Ac(t){return t?"open":"closed"}var lE=j0;const Bs=lE,Us=C0,Hs=T0,cE=({selectedCategories:t,availableCategories:e,onCategoryChange:r})=>{const[s,n]=T.useState(!0),o=c=>{t.includes(c)?r(t.filter(u=>u!==c)):r([...t,c])},i=()=>{r(e)},l=()=>{r([])};return a.jsxs(Bs,{open:s,onOpenChange:n,children:[a.jsxs(Us,{className:"flex items-center justify-between w-full p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Categories"}),a.jsxs("div",{className:"flex items-center gap-2",children:[t.length>0&&a.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:t.length}),s?a.jsx(zr,{className:"h-4 w-4"}):a.jsx(St,{className:"h-4 w-4"})]})]}),a.jsxs(Hs,{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(de,{variant:"outline",size:"sm",onClick:i,className:"text-xs",children:"Select All"}),a.jsx(de,{variant:"outline",size:"sm",onClick:l,className:"text-xs",children:"Clear All"})]}),a.jsx(dr,{maxHeight:"max-h-40",className:"grid grid-cols-1 gap-2",showIndicators:!0,children:e.map(c=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[a.jsx(Ps,{checked:t.includes(c),onCheckedChange:()=>o(c)}),a.jsx("span",{className:"text-sm",children:c})]},c))})]})]})};function Mc(t,[e,r]){return Math.min(r,Math.max(e,t))}var N0=["PageUp","PageDown"],R0=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E0={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},zs="Slider",[hl,uE,dE]=Yo(zs),[k0,Yk]=Hr(zs,[dE]),[hE,pi]=k0(zs),P0=m.forwardRef((t,e)=>{const{name:r,min:s=0,max:n=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:g,...x}=t,v=m.useRef(new Set),b=m.useRef(0),y=i==="horizontal"?fE:pE,[w=[],j]=Ms({prop:d,defaultProp:u,onChange:k=>{var I;(I=[...v.current][b.current])==null||I.focus(),h(k)}}),C=m.useRef(w);function N(k){const A=vE(w,k);P(k,A)}function R(k){P(k,b.current)}function E(){const k=C.current[b.current];w[b.current]!==k&&f(w)}function P(k,A,{commit:I}={commit:!1}){const M=jE(o),V=SE(Math.round((k-s)/o)*o+s,M),O=Mc(V,[s,n]);j((U=[])=>{const L=xE(U,O,A);if(_E(L,c*o)){b.current=L.indexOf(O);const D=String(L)!==String(U);return D&&I&&f(L),D?L:U}else return U})}return a.jsx(hE,{scope:t.__scopeSlider,name:r,disabled:l,min:s,max:n,valueIndexToChangeRef:b,thumbs:v.current,values:w,orientation:i,form:g,children:a.jsx(hl.Provider,{scope:t.__scopeSlider,children:a.jsx(hl.Slot,{scope:t.__scopeSlider,children:a.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:B(x.onPointerDown,()=>{l||(C.current=w)}),min:s,max:n,inverted:p,onSlideStart:l?void 0:N,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&P(s,0,{commit:!0}),onEndKeyDown:()=>!l&&P(n,w.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:A})=>{if(!l){const V=N0.includes(k.key)||k.shiftKey&&R0.includes(k.key)?10:1,O=b.current,U=w[O],L=o*V*A;P(U+L,O,{commit:!0})}}})})})})});P0.displayName=zs;var[A0,M0]=k0(zs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fE=m.forwardRef((t,e)=>{const{min:r,max:s,dir:n,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,f]=m.useState(null),p=ge(e,y=>f(y)),g=m.useRef(),x=ui(n),v=x==="ltr",b=v&&!o||!v&&o;function _(y){const w=g.current||h.getBoundingClientRect(),j=[0,w.width],N=$c(j,b?[r,s]:[s,r]);return g.current=w,N(y-w.left)}return a.jsx(A0,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:a.jsx($0,{dir:x,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const w=_(y.clientX);i==null||i(w)},onSlideMove:y=>{const w=_(y.clientX);l==null||l(w)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:y=>{const j=E0[b?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:j?-1:1})}})})}),pE=m.forwardRef((t,e)=>{const{min:r,max:s,inverted:n,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=m.useRef(null),h=ge(e,d),f=m.useRef(),p=!n;function g(x){const v=f.current||d.current.getBoundingClientRect(),b=[0,v.height],y=$c(b,p?[s,r]:[r,s]);return f.current=v,y(x-v.top)}return a.jsx(A0,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx($0,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const v=g(x.clientY);o==null||o(v)},onSlideMove:x=>{const v=g(x.clientY);i==null||i(v)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:x=>{const b=E0[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:b?-1:1})}})})}),$0=m.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=pi(zs,r);return a.jsx(le.span,{...u,ref:e,onKeyDown:B(t.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):N0.concat(R0).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:B(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():s(h)}),onPointerMove:B(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:B(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),o(h))})})}),O0="SliderTrack",I0=m.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,n=pi(O0,r);return a.jsx(le.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:e})});I0.displayName=O0;var fl="SliderRange",D0=m.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,n=pi(fl,r),o=M0(fl,r),i=m.useRef(null),l=ge(e,i),c=n.values.length,u=n.values.map(f=>F0(f,n.min,n.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return a.jsx(le.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...s,ref:l,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:h+"%"}})});D0.displayName=fl;var pl="SliderThumb",L0=m.forwardRef((t,e)=>{const r=uE(t.__scopeSlider),[s,n]=m.useState(null),o=ge(e,l=>n(l)),i=m.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return a.jsx(mE,{...t,ref:o,index:i})}),mE=m.forwardRef((t,e)=>{const{__scopeSlider:r,index:s,name:n,...o}=t,i=pi(pl,r),l=M0(pl,r),[c,u]=m.useState(null),d=ge(e,_=>u(_)),h=c?i.form||!!c.closest("form"):!0,f=kh(c),p=i.values[s],g=p===void 0?0:F0(p,i.min,i.max),x=yE(s,i.values.length),v=f==null?void 0:f[l.size],b=v?bE(v,g,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${b}px)`},children:[a.jsx(hl.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(le.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:B(t.onFocus,()=>{i.valueIndexToChangeRef.current=s})})}),h&&a.jsx(gE,{name:n??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},s)]})});L0.displayName=pl;var gE=t=>{const{value:e,...r}=t,s=m.useRef(null),n=x0(e);return m.useEffect(()=>{const o=s.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(n!==e&&c){const u=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(u)}},[n,e]),a.jsx("input",{style:{display:"none"},...r,ref:s,defaultValue:e})};function xE(t=[],e,r){const s=[...t];return s[r]=e,s.sort((n,o)=>n-o)}function F0(t,e,r){const o=100/(r-e)*(t-e);return Mc(o,[0,100])}function yE(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function vE(t,e){if(t.length===1)return 0;const r=t.map(n=>Math.abs(n-e)),s=Math.min(...r);return r.indexOf(s)}function bE(t,e,r){const s=t/2,o=$c([0,50],[0,s]);return(s-o(e)*r)*r}function wE(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function _E(t,e){if(e>0){const r=wE(t);return Math.min(...r)>=e}return!0}function $c(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function jE(t){return(String(t).split(".")[1]||"").length}function SE(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var V0=P0,CE=I0,TE=D0,eh=L0;const Oc=m.forwardRef(({className:t,...e},r)=>a.jsxs(V0,{ref:r,className:G("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(CE,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(TE,{className:"absolute h-full bg-primary"})}),a.jsx(eh,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),a.jsx(eh,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Oc.displayName=V0.displayName;const ps=({title:t,min:e,max:r,value:s,onChange:n,formatLabel:o=c=>c.toString(),presetButtons:i=[],step:l=1})=>{const[c,u]=T.useState(!0),[d,h]=T.useState(s.min.toString()),[f,p]=T.useState(s.max.toString());T.useEffect(()=>{h(s.min.toString()),p(s.max.toString())},[s]);const g=y=>{const w=Math.max(e,y[0]),j=Math.max(e,y[1]);n({min:w,max:j})},x=y=>{h(y.target.value)},v=y=>{p(y.target.value)},b=()=>{const y=Math.max(e,Math.min(parseFloat(d)||e,r)),w=Math.min(r,Math.max(parseFloat(f)||r,e)),j=Math.max(y,w);n({min:y,max:j})},_=s.min!==e||s.max!==r;return a.jsxs(Bs,{open:c,onOpenChange:u,children:[a.jsxs(Us,{className:"flex items-center justify-between w-full p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:t}),a.jsxs("div",{className:"flex items-center gap-2",children:[_&&a.jsxs("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:[o(s.min)," - ",o(s.max)]}),c?a.jsx(zr,{className:"h-4 w-4"}):a.jsx(St,{className:"h-4 w-4"})]})]}),a.jsxs(Hs,{className:"mt-3 space-y-4",children:[a.jsx("div",{className:"px-2",children:a.jsx(Oc,{value:[s.min,s.max],onValueChange:g,min:e,max:r,step:l,className:"w-full"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Min"}),a.jsx(gr,{type:"number",value:d,onChange:x,onBlur:b,className:"text-sm",min:e})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Max"}),a.jsx(gr,{type:"number",value:f,onChange:v,onBlur:b,className:"text-sm",min:e})]})]}),i.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((y,w)=>a.jsx(de,{variant:"outline",size:"sm",onClick:y.action,className:"text-xs",children:y.label},w))})]})]})},NE=({title:t,min:e,max:r,value:s,onChange:n,formatLabel:o=c=>c.toString(),presetButtons:i=[],step:l=1})=>{const[c,u]=T.useState(!0),[d,h]=T.useState(s.min.toString()),[f,p]=T.useState(s.max.toString());T.useEffect(()=>{h(s.min.toString()),p(s.max.toString())},[s]);const g=y=>{const w=Math.max(e,y[0]),j=Math.max(e,y[1]);n({min:w,max:j})},x=y=>{h(y.target.value)},v=y=>{p(y.target.value)},b=()=>{const y=Math.max(e,Math.min(parseFloat(d)||e,r)),w=Math.min(r,Math.max(parseFloat(f)||r,e)),j=Math.max(y,w);n({min:y,max:j})},_=s.min!==e||s.max!==r;return a.jsxs(Bs,{open:c,onOpenChange:u,children:[a.jsxs(Us,{className:"flex items-center justify-between w-full p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors min-h-[56px]",children:[a.jsx("h3",{className:"font-medium text-gray-900 text-lg",children:t}),a.jsxs("div",{className:"flex items-center gap-3",children:[_&&a.jsxs("span",{className:"text-sm px-3 py-1 bg-purple-100 text-purple-700 rounded-full",children:[o(s.min)," - ",o(s.max)]}),c?a.jsx(zr,{className:"h-5 w-5"}):a.jsx(St,{className:"h-5 w-5"})]})]}),a.jsxs(Hs,{className:"mt-4 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-purple-600",children:[o(s.min)," - ",o(s.max)]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Range: ",o(e)," to ",o(r)]})]}),a.jsx("div",{className:"px-2 py-4",children:a.jsx(Oc,{value:[s.min,s.max],onValueChange:g,min:e,max:r,step:l,className:"w-full [&_[role=slider]]:h-6 [&_[role=slider]]:w-6 [&_.slider-track]:h-3"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 mb-2 block font-medium",children:"Minimum"}),a.jsx(gr,{type:"number",inputMode:"numeric",value:d,onChange:x,onBlur:b,className:"text-lg text-center min-h-[48px]",placeholder:e.toString(),min:e})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 mb-2 block font-medium",children:"Maximum"}),a.jsx(gr,{type:"number",inputMode:"numeric",value:f,onChange:v,onBlur:b,className:"text-lg text-center min-h-[48px]",placeholder:r.toString(),min:e})]})]}),i.length>0&&a.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.map((y,w)=>a.jsx(de,{variant:"outline",size:"lg",onClick:y.action,className:"text-sm font-medium min-h-[48px] justify-center",children:y.label},w))})]})]})},RE=({selectedBuckets:t,onBucketsChange:e,percentageRange:r,onPercentageRangeChange:s})=>{const[n,o]=T.useState(!0),i=["Low","Medium","High"],l=d=>{t.includes(d)?e(t.filter(h=>h!==d)):e([...t,d])},c=r.min!==0||r.max!==100,u=t.length>0||c;return a.jsxs(Bs,{open:n,onOpenChange:o,children:[a.jsxs(Us,{className:"flex items-center justify-between w-full p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Volatility"}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:t.length>0?`${t.length} bucket${t.length>1?"s":""}`:"Range"}),n?a.jsx(zr,{className:"h-4 w-4"}):a.jsx(St,{className:"h-4 w-4"})]})]}),a.jsxs(Hs,{className:"mt-3 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Volatility Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:i.map(d=>a.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors ${t.includes(d)?"bg-purple-50 border border-purple-200":""}`,children:[a.jsx(Ps,{checked:t.includes(d),onCheckedChange:()=>l(d)}),a.jsx("span",{className:"text-sm font-medium",children:d})]},d))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Exact Percentage Range"}),a.jsx(ps,{title:"",min:0,max:100,value:r,onChange:s,formatLabel:d=>`${d}%`,step:1,presetButtons:[{label:"Low Risk (0-30%)",action:()=>s({min:0,max:30})},{label:"Medium Risk (30-60%)",action:()=>s({min:30,max:60})},{label:"High Risk (60%+)",action:()=>s({min:60,max:100})}]})]})]})]})},th=t=>t.charAt(0).toUpperCase()+t.slice(1),EE=({selectedTags:t,availableTags:e,onTagsChange:r})=>{const[s,n]=T.useState(!0),[o,i]=T.useState(""),l=d=>{t.includes(d)?r(t.filter(h=>h!==d)):r([...t,d])},c=e.filter(d=>d.toLowerCase().includes(o.toLowerCase())),u=e.slice(0,6);return a.jsxs(Bs,{open:s,onOpenChange:n,children:[a.jsxs(Us,{className:"flex items-center justify-between w-full p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Tags"}),a.jsxs("div",{className:"flex items-center gap-2",children:[t.length>0&&a.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:t.length}),s?a.jsx(zr,{className:"h-4 w-4"}):a.jsx(St,{className:"h-4 w-4"})]})]}),a.jsxs(Hs,{className:"mt-3 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(gr,{placeholder:"Search tags...",value:o,onChange:d=>i(d.target.value),className:"pl-10 text-sm"})]}),o===""&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Popular Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 px-2 py-1 rounded text-sm",children:[a.jsx(Ps,{checked:t.includes(d),onCheckedChange:()=>l(d)}),a.jsx("span",{children:th(d)})]},d))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:o?"Search Results":"All Tags"}),a.jsx(dr,{maxHeight:"max-h-40",className:"grid grid-cols-1 gap-1",showIndicators:!0,children:c.map(d=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[a.jsx(Ps,{checked:t.includes(d),onCheckedChange:()=>l(d)}),a.jsx("span",{className:"text-sm",children:th(d)})]},d))})]})]})]})},kE=({jackpotValueRange:t,onJackpotValueRangeChange:e,itemCountRange:r,onItemCountRangeChange:s,maxJackpotValue:n,maxItemCount:o})=>{const[i,l]=T.useState(!1);return t.min!==0||t.max!==n||r.min!==0||r.max,a.jsxs(Bs,{open:i,onOpenChange:l,children:[a.jsxs(Us,{className:"flex items-center justify-between w-full p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Advanced Filters"}),a.jsx("div",{className:"flex items-center gap-2",children:i?a.jsx(zr,{className:"h-4 w-4"}):a.jsx(St,{className:"h-4 w-4"})})]}),a.jsxs(Hs,{className:"mt-3 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Jackpot Item Value Range"}),a.jsx(ps,{title:"",min:0,max:n,value:t,onChange:e,formatLabel:c=>`$${c.toLocaleString()}`,step:10,presetButtons:[{label:"High Value >$1000",action:()=>e({min:1e3,max:n})},{label:"Premium >$5000",action:()=>e({min:5e3,max:n})}]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Total Item Count"}),a.jsx(ps,{title:"",min:0,max:o,value:r,onChange:s,formatLabel:c=>`${c} items`,step:1,presetButtons:[{label:"Large Boxes >50",action:()=>s({min:50,max:o})},{label:"Mega Boxes >100",action:()=>s({min:100,max:o})}]})]})]})]})},PE=({selectedProviders:t,onProviderChange:e,providerCounts:r={}})=>{const s=(c,u)=>{e(u?[...t,c]:t.filter(d=>d!==c))},n=()=>{const c=Object.keys(Oe);e(t.length===c.length?[]:c)},o=Object.keys(Oe),i=t.length===o.length,l=t.length>0&&t.length<o.length;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Mystery Box Providers"}),a.jsx("button",{onClick:n,className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:i?"Clear All":"Select All"})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(Oe).map(([c,u])=>{const d=t.includes(c),h=r[c]||0;return a.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Ps,{id:`provider-${c}`,checked:d,onCheckedChange:f=>s(c,f),className:"data-[state=checked]:bg-purple-600 data-[state=checked]:border-purple-600"}),a.jsxs("label",{htmlFor:`provider-${c}`,className:"flex-1 cursor-pointer flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Wn,{providerId:c,size:"lg",enhanced:!0,className:"transition-transform hover:scale-110"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:u.displayName}),a.jsx("div",{className:"text-xs text-gray-500",children:"Mystery Box Provider"})]})]}),h>0&&a.jsx(jt,{variant:"secondary",className:`${u.bgColor} ${u.textColor} text-xs font-medium`,children:h.toLocaleString()})]})]},c)})}),l&&a.jsx("div",{className:"pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[t.length," of ",o.length," providers selected"]})})]})},rh=({isOpen:t,onOpenChange:e,filters:r,onFiltersChange:s,boxesData:n,activeFiltersCount:o})=>{const{toast:i}=Oh(),l=Tt(),c=m.useMemo(()=>{if(!n||n.length===0)return{categories:[],providers:[],priceRange:{min:0,max:1e3},expectedValueRange:{min:0,max:200},volatilityBuckets:[],volatilityRange:{min:0,max:100},floorRateRange:{min:0,max:100},tags:[],advanced:{jackpotValueRange:{min:0,max:1e4},itemCountRange:{min:0,max:100}}};const C=n.map(P=>Number(P==null?void 0:P.box_price)).filter(P=>!isNaN(P)&&P>0),N=n.map(P=>Number(P==null?void 0:P.expected_value_percent_of_price)).filter(P=>!isNaN(P)&&P>=0),R=n.map(P=>Number(P==null?void 0:P.floor_rate_percent)).filter(P=>!isNaN(P)&&P>=0),E=n.map(P=>Number(P==null?void 0:P.standard_deviation_percent)).filter(P=>!isNaN(P)&&P>=0);return{categories:[],providers:[],priceRange:{min:C.length>0?Math.floor(Math.min(...C)):0,max:C.length>0?Math.ceil(Math.max(...C)):1e3},expectedValueRange:{min:0,max:N.length>0?Math.ceil(Math.max(...N)):200},volatilityBuckets:[],volatilityRange:{min:0,max:E.length>0?Math.ceil(Math.max(...E)):100},floorRateRange:{min:R.length>0?Math.floor(Math.min(...R)):0,max:R.length>0?Math.ceil(Math.max(...R)):100},tags:[],advanced:{jackpotValueRange:{min:0,max:1e4},itemCountRange:{min:0,max:100}}}},[n]),{availableCategories:u,availableTags:d,priceRange:h,evRange:f,floorRange:p,jackpotRange:g,itemCountRange:x}=m.useMemo(()=>{const C=[...new Set(n.map(I=>I.category).filter(Boolean))],N=[...new Set(n.flatMap(I=>I.tags))],R=n.map(I=>I.box_price).filter(Boolean),E=n.map(I=>I.expected_value_percent_of_price).filter(I=>I!=null&&I>=0),P=n.map(I=>I.floor_rate_percent).filter(Boolean),k=n.flatMap(I=>{var M;return((M=I.jackpot_items)==null?void 0:M.map(V=>V.value||0))||[]}).filter(I=>I>0),A=n.map(I=>{var M;return((M=I.all_items)==null?void 0:M.length)||0}).filter(I=>I>0);return{availableCategories:C,availableTags:N,priceRange:{min:Math.floor(Math.min(...R,0)),max:Math.ceil(Math.max(...R,1e3))},evRange:{min:0,max:Math.ceil(Math.max(...E,200))},floorRange:{min:Math.floor(Math.min(...P,0)),max:Math.ceil(Math.max(...P,100))},jackpotRange:{min:0,max:Math.ceil(Math.max(...k,1e4))},itemCountRange:{min:0,max:Math.ceil(Math.max(...A,100))}}},[n]),v=m.useMemo(()=>{const C={};return n.forEach(N=>{N!=null&&N.provider&&(C[N.provider]=(C[N.provider]||0)+1)}),C},[n]),b=()=>{s(c),i({title:"All filters cleared",description:"All filters have been reset to default values."})},_=C=>{console.log("FilterPanel updateFilters called with:",C);const N={...r,...C};console.log("New filters state:",N),s(N)},y=C=>{s({...r,advanced:{...r.advanced,...C}})},w=a.jsxs(de,{variant:"outline",className:"bg-white/60 border-purple-300 text-gray-800 transition-all duration-300 hover:bg-white hover:border-purple-400 focus:border-purple-400 focus:ring-purple-400 relative",children:[a.jsx(af,{className:"h-4 w-4 mr-2"}),"Filters",o>0&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-500 text-white rounded-full animate-pulse",children:o})]}),j=a.jsxs("div",{className:"space-y-6",children:[a.jsx(PE,{selectedProviders:r.providers,onProviderChange:C=>_({providers:C}),providerCounts:v}),a.jsx(cE,{selectedCategories:r.categories,availableCategories:u,onCategoryChange:C=>_({categories:C})}),a.jsx(ps,{title:"Price Range",min:h.min,max:h.max,value:r.priceRange,onChange:C=>_({priceRange:C}),formatLabel:C=>`$${C.toFixed(2)}`,step:.01}),l?a.jsx(NE,{title:"Expected Value",min:f.min,max:f.max,value:r.expectedValueRange,onChange:C=>_({expectedValueRange:C}),formatLabel:C=>`${C.toFixed(1)}%`,step:.1,presetButtons:[{label:"High Value >50%",action:()=>_({expectedValueRange:{min:50,max:f.max}})},{label:"Premium >100%",action:()=>_({expectedValueRange:{min:100,max:f.max}})}]}):a.jsx(ps,{title:"Expected Value",min:f.min,max:f.max,value:r.expectedValueRange,onChange:C=>_({expectedValueRange:C}),formatLabel:C=>`${C.toFixed(1)}%`,step:.1,presetButtons:[{label:"High Value >50%",action:()=>_({expectedValueRange:{min:50,max:f.max}})},{label:"Premium >100%",action:()=>_({expectedValueRange:{min:100,max:f.max}})}]}),a.jsx(RE,{selectedBuckets:r.volatilityBuckets,onBucketsChange:C=>_({volatilityBuckets:C}),percentageRange:r.volatilityRange,onPercentageRangeChange:C=>_({volatilityRange:C})}),a.jsx(ps,{title:"Floor Rate",min:p.min,max:p.max,value:r.floorRateRange,onChange:C=>_({floorRateRange:C}),formatLabel:C=>`${C.toFixed(1)}%`,step:.1,presetButtons:[{label:"High Floor >80%",action:()=>_({floorRateRange:{min:80,max:p.max}})},{label:"Safe Bets >90%",action:()=>_({floorRateRange:{min:90,max:p.max}})}]}),a.jsx(EE,{selectedTags:r.tags,availableTags:d,onTagsChange:C=>_({tags:C})}),a.jsx(kE,{jackpotValueRange:r.advanced.jackpotValueRange,onJackpotValueRangeChange:C=>y({jackpotValueRange:C}),itemCountRange:r.advanced.itemCountRange,onItemCountRangeChange:C=>y({itemCountRange:C}),maxJackpotValue:g.max,maxItemCount:x.max})]});return l?a.jsxs(d0,{open:t,onOpenChange:e,children:[a.jsx(QR,{asChild:!0,children:w}),a.jsxs(f0,{className:"max-h-[85vh]",children:[a.jsx(p0,{className:"pb-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(m0,{className:"text-xl font-semibold text-gray-900",children:"Filter & Search"}),a.jsx(g0,{className:"text-gray-600",children:"Refine your search with filtering options"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[o>0&&a.jsxs(de,{variant:"ghost",size:"sm",onClick:b,className:"text-gray-500 hover:text-gray-700 hover:bg-red-50 transition-colors min-h-[44px]",children:[a.jsx(Yc,{className:"h-5 w-5 mr-1"}),"Clear All"]}),a.jsx(de,{variant:"ghost",size:"sm",onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700 min-h-[44px] min-w-[44px]",children:a.jsx(xr,{className:"h-5 w-5"})})]})]})}),a.jsx(dr,{maxHeight:"max-h-[calc(85vh-12rem)]",className:"px-4 pb-6",showIndicators:!0,children:a.jsx("div",{className:"space-y-6 pt-4",children:j})})]})]}):a.jsxs(_R,{open:t,onOpenChange:e,children:[a.jsx(jR,{asChild:!0,children:w}),a.jsx(Gg,{className:"w-[400px] sm:w-[540px]",children:a.jsxs(dr,{maxHeight:"h-full",className:"pb-6",showIndicators:!0,children:[a.jsxs(Yg,{className:"pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Xg,{className:"text-xl font-semibold text-gray-900",children:"Filter & Search"}),o>0&&a.jsxs(de,{variant:"ghost",size:"sm",onClick:b,className:"text-gray-500 hover:text-gray-700 hover:bg-red-50 transition-colors",children:[a.jsx(Yc,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),a.jsx(Jg,{className:"text-gray-600",children:"Refine your search with advanced filtering options"})]}),j]})})]})},sh=t=>t.charAt(0).toUpperCase()+t.slice(1),AE=({filters:t,onRemoveFilter:e,initialFilters:r})=>{const s=[];if(t.providers.forEach(o=>{const i=Oe[o];i&&s.push({type:"provider",label:i.displayName,value:o,providerId:o})}),t.categories.forEach(o=>{s.push({type:"category",label:sh(o),value:o})}),t.tags.forEach(o=>{s.push({type:"tag",label:`#${sh(o)}`,value:o})}),t.volatilityBuckets.forEach(o=>{s.push({type:"volatilityBucket",label:`${o} Vol.`,value:o})}),(t.priceRange.min!==r.priceRange.min||t.priceRange.max!==r.priceRange.max)&&s.push({type:"priceRange",label:`$${t.priceRange.min}-$${t.priceRange.max}`}),(t.expectedValueRange.min!==r.expectedValueRange.min||t.expectedValueRange.max!==r.expectedValueRange.max)&&s.push({type:"expectedValueRange",label:`EV: ${t.expectedValueRange.min}%-${t.expectedValueRange.max}%`}),(t.volatilityRange.min!==0||t.volatilityRange.max!==r.volatilityRange.max)&&s.push({type:"volatilityRange",label:`Vol: ${t.volatilityRange.min}%-${t.volatilityRange.max}%`}),(t.floorRateRange.min!==r.floorRateRange.min||t.floorRateRange.max!==r.floorRateRange.max)&&s.push({type:"floorRateRange",label:`Floor: ${t.floorRateRange.min}%-${t.floorRateRange.max}%`}),(t.advanced.jackpotValueRange.min!==0||t.advanced.jackpotValueRange.max!==r.advanced.jackpotValueRange.max)&&s.push({type:"jackpotValueRange",label:`Jackpot: $${t.advanced.jackpotValueRange.min.toLocaleString()}-$${t.advanced.jackpotValueRange.max.toLocaleString()}`}),(t.advanced.itemCountRange.min!==0||t.advanced.itemCountRange.max!==r.advanced.itemCountRange.max)&&s.push({type:"itemCountRange",label:`Items: ${t.advanced.itemCountRange.min}-${t.advanced.itemCountRange.max}`}),s.length===0)return null;const n=(o,i)=>{e(o,i)};return a.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:s.map((o,i)=>a.jsxs(jt,{variant:"secondary",className:"bg-purple-100 text-purple-700 hover:bg-purple-200 pr-1 py-2 text-sm min-h-[36px] flex items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[o.providerId&&a.jsx(Wn,{providerId:o.providerId,size:"sm",enhanced:!0,className:"flex-shrink-0"}),a.jsx("span",{className:"truncate max-w-[120px]",children:o.label})]}),a.jsx(de,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-purple-300 rounded-full min-w-[24px] flex-shrink-0",onClick:()=>n(o.type,o.value),children:a.jsx(xr,{className:"h-4 w-4"})})]},`${o.type}-${o.value||i}`))})},nh=t=>t.charAt(0).toUpperCase()+t.slice(1),ME=({filters:t,onRemoveFilter:e,initialFilters:r})=>{const s=[];if(t.categories.forEach(o=>{s.push({type:"category",label:nh(o),value:o})}),t.tags.forEach(o=>{s.push({type:"tag",label:`#${nh(o)}`,value:o})}),t.volatilityBuckets.forEach(o=>{s.push({type:"volatilityBucket",label:`${o} Volatility`,value:o})}),(t.priceRange.min!==r.priceRange.min||t.priceRange.max!==r.priceRange.max)&&s.push({type:"priceRange",label:`Price: $${t.priceRange.min}-$${t.priceRange.max}`}),(t.expectedValueRange.min!==r.expectedValueRange.min||t.expectedValueRange.max!==r.expectedValueRange.max)&&s.push({type:"expectedValueRange",label:`EV: ${t.expectedValueRange.min}%-${t.expectedValueRange.max}%`}),(t.volatilityRange.min!==0||t.volatilityRange.max!==r.volatilityRange.max)&&s.push({type:"volatilityRange",label:`Volatility: ${t.volatilityRange.min}%-${t.volatilityRange.max}%`}),(t.floorRateRange.min!==r.floorRateRange.min||t.floorRateRange.max!==r.floorRateRange.max)&&s.push({type:"floorRateRange",label:`Floor: ${t.floorRateRange.min}%-${t.floorRateRange.max}%`}),(t.advanced.jackpotValueRange.min!==0||t.advanced.jackpotValueRange.max!==r.advanced.jackpotValueRange.max)&&s.push({type:"jackpotValueRange",label:`Jackpot: $${t.advanced.jackpotValueRange.min.toLocaleString()}-$${t.advanced.jackpotValueRange.max.toLocaleString()}`}),(t.advanced.itemCountRange.min!==0||t.advanced.itemCountRange.max!==r.advanced.itemCountRange.max)&&s.push({type:"itemCountRange",label:`Items: ${t.advanced.itemCountRange.min}-${t.advanced.itemCountRange.max}`}),s.length===0)return null;const n=(o,i)=>{console.log("Removing filter:",o,i),["priceRange","expectedValueRange","volatilityRange","floorRateRange","jackpotValueRange","itemCountRange"].includes(o)?e(o):e(o,i)};return a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Active Filters:"}),s.map((o,i)=>a.jsxs(jt,{variant:"secondary",className:"bg-purple-100 text-purple-700 hover:bg-purple-200 pr-1",children:[o.label,a.jsx(de,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-2 hover:bg-purple-300 rounded-full",onClick:()=>n(o.type,o.value),children:a.jsx(xr,{className:"h-3 w-3"})})]},`${o.type}-${o.value||i}`))]})},oh=({searchTerm:t,onSearchChange:e,sortBy:r,onSortChange:s,filters:n,onFiltersChange:o,boxesData:i,activeFiltersCount:l,onClearAllFilters:c,onRemoveFilter:u,filterPanelOpen:d,onFilterPanelOpenChange:h,filteredCount:f,totalCount:p,initialFilters:g})=>{const x=Tt(),{providerCounts:v,availableCategories:b}=m.useMemo(()=>{const w={};i.forEach(N=>{N!=null&&N.provider&&(w[N.provider]=(w[N.provider]||0)+1)});const C=[...new Set(i.map(N=>N.category).filter(Boolean))].filter(N=>N!=="Unknown").slice(0,8);return{providerCounts:w,availableCategories:C}},[i]),_=w=>{const j=n.providers.includes(w)?n.providers.filter(C=>C!==w):[...n.providers,w];o({...n,providers:j})},y=w=>{const j=n.categories.includes(w)?n.categories.filter(C=>C!==w):[...n.categories,w];o({...n,categories:j})};return a.jsxs(ve.div,{className:`flex flex-col glass-edge rounded-xl shadow-lg border-purple-200/30 overflow-hidden ${x?"space-y-5 p-4 mx-3 max-w-[calc(100vw-1.5rem)]":"space-y-6 p-8"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx(Ln,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 text-purple-500 ${x?"h-5 w-5":"h-4 w-4"}`}),a.jsx(gr,{placeholder:x?"Search boxes...":"Search mystery boxes, tags, or categories...",value:t,onChange:w=>e(w.target.value),className:`w-full ${x?"pl-12 min-h-[48px] text-base":"pl-10"} bg-white/60 border-purple-300 text-gray-800 placeholder:text-gray-500 transition-all duration-300 focus:bg-white focus:border-purple-400 focus:shadow-md focus:ring-purple-400`,inputMode:"search"}),t&&a.jsx(de,{variant:"ghost",size:"sm",className:`absolute right-2 top-1/2 transform -translate-y-1/2 h-auto p-1 text-gray-400 hover:text-gray-600 ${x?"h-8 w-8":"h-6 w-6"}`,onClick:()=>e(""),children:a.jsx(Ni,{className:`${x?"h-4 w-4":"h-3 w-3"}`})})]}),a.jsxs("div",{className:"space-y-3 p-3 bg-purple-50/50 rounded-lg border border-purple-200/50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Quick Filters"}),(n.providers.length>0||n.categories.length>0)&&a.jsx(jt,{variant:"secondary",className:"bg-purple-100 text-purple-700 text-xs",children:n.providers.length+n.categories.length})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Providers"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Oe).map(([w,j])=>{const C=n.providers.includes(w),N=v[w]||0;return a.jsxs("button",{onClick:()=>_(w),className:`
                    flex items-center gap-2 px-3 py-2 rounded-full border transition-all duration-200 text-xs
                    ${C?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-gray-300 text-gray-600"}
                  `,children:[a.jsx(Wn,{providerId:w,size:"sm",enhanced:!0}),a.jsx("span",{className:"font-medium",children:j.displayName}),N>0&&a.jsx("span",{className:`
                      px-1.5 py-0.5 rounded-full text-xs
                      ${C?"bg-purple-200 text-purple-800":"bg-gray-100 text-gray-600"}
                    `,children:N})]},w)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Categories"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(w=>{const j=n.categories.includes(w);return a.jsx("button",{onClick:()=>y(w),className:`
                    px-2 py-1 rounded-full text-xs font-medium transition-all duration-200
                    ${j?"bg-purple-100 text-purple-700 border border-purple-300":"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-200"}
                  `,children:w},w)})})]})]}),a.jsxs("div",{className:`flex gap-3 items-stretch ${x?"flex-col w-full":"flex-wrap justify-between"}`,children:[a.jsxs("div",{className:`flex gap-3 ${x?"w-full":"items-center flex-wrap"}`,children:[x?a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[a.jsx("div",{className:"w-full",children:a.jsx(Yd,{value:r,onChange:s})}),a.jsx("div",{className:"w-full",children:a.jsx(rh,{isOpen:d,onOpenChange:h,filters:n,onFiltersChange:o,boxesData:i,activeFiltersCount:l})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Yd,{value:r,onChange:s}),a.jsx(rh,{isOpen:d,onOpenChange:h,filters:n,onFiltersChange:o,boxesData:i,activeFiltersCount:l}),l>0&&a.jsxs(de,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2 text-purple-600 border-purple-300 hover:bg-purple-50 hover:border-purple-400 transition-all duration-200",children:[a.jsx(Ni,{className:"h-4 w-4"}),"Clear All",a.jsx(jt,{variant:"secondary",className:"ml-1 bg-purple-100 text-purple-700",children:l})]})]}),f===0&&l>0&&a.jsxs(de,{variant:"default",size:x?"lg":"sm",onClick:c,className:`flex items-center justify-center gap-2 bg-purple-600 hover:bg-purple-700 transition-all duration-200 ${x?"w-full min-h-[48px] px-6 mt-3":""}`,children:[a.jsx(af,{className:`${x?"h-5 w-5":"h-4 w-4"}`}),"Show All Mystery Boxes"]})]}),!x&&a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsx("span",{children:t?a.jsxs(a.Fragment,{children:["Found ",a.jsx("span",{className:"font-semibold text-purple-600",children:f.toLocaleString()})," matches",l>0&&a.jsx("span",{className:"text-gray-500",children:" (with filters)"})]}):a.jsxs(a.Fragment,{children:["Showing ",a.jsx("span",{className:"font-semibold text-purple-600",children:f.toLocaleString()})," of"," ",a.jsx("span",{className:"font-semibold",children:p.toLocaleString()})," mystery boxes"]})}),l>0&&a.jsxs(jt,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-300",children:[l," filter",l!==1?"s":""," active"]})]})]}),l>0&&x&&a.jsxs(de,{variant:"outline",size:"lg",onClick:c,className:"w-full flex items-center justify-center gap-2 text-purple-600 border-purple-300 hover:bg-purple-50 hover:border-purple-400 transition-all duration-200 min-h-[48px]",children:[a.jsx(Ni,{className:"h-5 w-5"}),"Clear All Filters",a.jsx(jt,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:l})]}),a.jsx("div",{className:`${x?"mt-3":"mt-2"}`,children:l>0?x?a.jsx(AE,{filters:n,onRemoveFilter:u,initialFilters:g}):a.jsx(ME,{filters:n,onRemoveFilter:u,initialFilters:g}):a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Filters:"}),a.jsx("span",{className:"ml-2 italic",children:"No filters applied - showing all mystery boxes"})]})}),x&&a.jsx("div",{className:"flex items-center justify-center text-sm text-gray-600 pt-2 border-t border-purple-200/50",children:a.jsx("span",{className:"text-center",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-semibold text-purple-600",children:f.toLocaleString()})," matches found",l>0&&a.jsxs("span",{className:"block text-xs text-purple-600 mt-1",children:[l," filter",l!==1?"s":""," active"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-semibold text-purple-600",children:f.toLocaleString()})," of"," ",a.jsx("span",{className:"font-semibold",children:p.toLocaleString()})," boxes",l>0&&a.jsxs("span",{className:"block text-xs text-purple-600 mt-1",children:[l," filter",l!==1?"s":""," active"]})]})})})]})},ia=(t,e,r,s)=>{const n=t.toLowerCase().trim(),o=e.toLowerCase(),i=r.toLowerCase();if(!n)return null;let l=null;if(o===n)l={score:100,matchType:"exact_name",matchedTerm:e};else if(o.startsWith(n))l={score:85,matchType:"partial_name",matchedTerm:e};else if(o.includes(n)){const c=o.indexOf(n),u=n.length/o.length,d=Math.min(c*2,20),h=75+u*10-d;l={score:Math.max(h,60),matchType:"partial_name",matchedTerm:e}}else if(i.includes(n))l={score:50,matchType:"category",matchedTerm:r};else{let c=0,u="";for(const d of s){const h=String(d).toLowerCase();if(h===n)35>c&&(c=35,u=d);else if(h.includes(n)){const f=n.length/h.length,p=Math.min(25+f*10,30);p>c&&(c=p,u=d)}}c>0&&(l={score:c,matchType:c>30?"tag":"partial_tag",matchedTerm:u})}return l},B0=(t,e,r,s)=>{const n=t.toLowerCase().trim().split(/\s+/).filter(p=>p.length>0);if(n.length===0)return null;if(n.length===1)return ia(t,e,r,s);const o=ia(t,e,r,s);if(o&&o.score>=60)return o;const i=e.toLowerCase();let l=0,c=0,u="partial_tag",d="";for(const p of n){if(p.length<2)continue;const g=ia(p,e,r,s);g&&g.score>0&&(l+=g.score,c++,(g.matchType==="exact_name"||g.matchType==="partial_name")&&(u=g.matchType,d=e))}if(c===n.length&&c>1&&(l+=15),c>=2){const p=n.join("\\s+");new RegExp(p,"i").test(i)&&(l+=20,u="partial_name",d=e)}const h=l/Math.max(n.length,1),f=Math.min(h,(o==null?void 0:o.score)||95);return f>10?{score:f,matchType:u,matchedTerm:d||t}:o},$E=(t,e,r)=>e.trim()?[...t].map(s=>{const n=B0(e,s.box_name||"",s.category||"",Array.isArray(s.tags)?s.tags:[]);return{...s,_searchScore:(n==null?void 0:n.score)||0,_searchMatch:n}}).sort((s,n)=>{const o=(n._searchScore||0)-(s._searchScore||0);return o!==0?o:r?r(s,n):(s.box_name||"").localeCompare(n.box_name||"")}):r?[...t].sort(r):t,OE=(t,e,r,s)=>{const n=m.useCallback((l,c,u)=>!l||l.length===0?[]:l.filter(d=>{if(!d||c.providers.length>0&&!c.providers.includes(d.provider))return!1;if(u&&u.trim()){const x=String(d.box_name||""),v=Array.isArray(d.tags)?d.tags:[],b=String(d.category||""),_=B0(u,x,b,v);if(!_||_.score<10)return!1}if(c.categories.length>0){const x=String(d.category||"");if(!c.categories.includes(x))return!1}const h=Number(d.box_price);if(!isNaN(h)&&h>0&&(h<c.priceRange.min||h>c.priceRange.max))return!1;const f=Number(d.expected_value_percent_of_price);if(!isNaN(f)&&(f<c.expectedValueRange.min||f>c.expectedValueRange.max))return!1;if(c.volatilityBuckets.length>0){const x=d.volatility_bucket;if(!x||!c.volatilityBuckets.includes(x))return!1}const p=Number(d.standard_deviation_percent);if(!isNaN(p)&&p>=0&&(p<c.volatilityRange.min||p>c.volatilityRange.max))return!1;const g=Number(d.floor_rate_percent);if(!isNaN(g)&&g>=0&&(g<c.floorRateRange.min||g>c.floorRateRange.max))return!1;if(c.tags.length>0){const x=Array.isArray(d.tags)?d.tags:[];if(!c.tags.some(v=>x.includes(v)))return!1}return!0}),[]),o=m.useCallback((l,c)=>[...l].sort((u,d)=>{const h=(g,x)=>{const v=Number(g[x]);return isNaN(v)?0:v},f=g=>{const x=String(g.box_name||"").toLowerCase(),v=Array.isArray(g.tags)?g.tags:[];return x.includes("mystery")||v.some(b=>String(b).toLowerCase().includes("mystery"))?1:0},p=g=>({rillabox:4,hypedrop:3,casesgg:2,luxdrop:1})[g.provider]||0;switch(c){case"ev_desc":const g=h(d,"expected_value_percent_of_price")-h(u,"expected_value_percent_of_price");if(g!==0)return g;const x=f(d)-f(u);return x!==0?x:p(d)-p(u);case"ev_asc":const v=h(u,"expected_value_percent_of_price")-h(d,"expected_value_percent_of_price");return v!==0?v:f(d)-f(u);case"price_desc":return h(d,"box_price")-h(u,"box_price");case"price_asc":return h(u,"box_price")-h(d,"box_price");case"volatility_desc":return h(d,"standard_deviation_percent")-h(u,"standard_deviation_percent");case"volatility_asc":return h(u,"standard_deviation_percent")-h(d,"standard_deviation_percent");case"floor_desc":return h(d,"floor_rate_percent")-h(u,"floor_rate_percent");case"floor_asc":return h(u,"floor_rate_percent")-h(d,"floor_rate_percent");case"name_asc":return(u.box_name||"").localeCompare(d.box_name||"");case"name_desc":return(d.box_name||"").localeCompare(u.box_name||"");default:return p(d)-p(u)}}),[]);return m.useMemo(()=>{const l=n(t,e,r);return r&&r.trim()?$E(l,r,(c,u)=>o([c,u],s)[0]===c?-1:1):o(l,s)},[t,e,r,s,n,o])},ih=({summaryData:t,boxesData:e,isUnified:r=!1,showOnlyStats:s=!1,showOnlyContent:n=!1,selectedProvider:o=null})=>{const i=m.useMemo(()=>{if(!e||e.length===0)return{categories:[],providers:o?[o]:[],priceRange:{min:0,max:1e3},expectedValueRange:{min:0,max:200},volatilityBuckets:[],volatilityRange:{min:0,max:100},floorRateRange:{min:0,max:100},tags:[],advanced:{jackpotValueRange:{min:0,max:1e4},itemCountRange:{min:0,max:100}}};const A=e.map(O=>Number(O==null?void 0:O.box_price)).filter(O=>!isNaN(O)&&O>0),I=e.map(O=>Number(O==null?void 0:O.expected_value_percent_of_price)).filter(O=>!isNaN(O)&&O>=0),M=e.map(O=>Number(O==null?void 0:O.floor_rate_percent)).filter(O=>!isNaN(O)&&O>=0),V=e.map(O=>Number(O==null?void 0:O.standard_deviation_percent)).filter(O=>!isNaN(O)&&O>=0);return{categories:[],providers:o?[o]:[],priceRange:{min:A.length>0?Math.floor(Math.min(...A)):0,max:A.length>0?Math.ceil(Math.max(...A)):1e3},expectedValueRange:{min:0,max:I.length>0?Math.ceil(Math.max(...I)):200},volatilityBuckets:[],volatilityRange:{min:0,max:V.length>0?Math.ceil(Math.max(...V)):100},floorRateRange:{min:M.length>0?Math.floor(Math.min(...M)):0,max:M.length>0?Math.ceil(Math.max(...M)):100},tags:[],advanced:{jackpotValueRange:{min:0,max:1e4},itemCountRange:{min:0,max:100}}}},[e,o]),[l,c]=m.useState(""),[u,d]=m.useState("price_asc"),[h,f]=m.useState(i),[p,g]=m.useState(1),[x]=m.useState(24),[v,b]=m.useState(!1),_=zT(l,300),[y,w]=m.useState({portfolioEV:0,bestBoxEV:0,worstBoxEV:0,avgVolatility:0});m.useEffect(()=>{const A=(I,M,V,O)=>{const U=Date.now(),L=()=>{const D=Date.now()-U,oe=Math.min(D/V,1),z=1-Math.pow(1-oe,3),Y=I+(M-I)*z;w(Q=>({...Q,[O]:Y})),oe<1&&requestAnimationFrame(L)};requestAnimationFrame(L)};setTimeout(()=>{A(0,(t==null?void 0:t.portfolio_average_ev_percent)||0,2e3,"portfolioEV"),A(0,(t==null?void 0:t.best_box_ev_percent)||0,2200,"bestBoxEV"),A(0,(t==null?void 0:t.worst_box_ev_percent)||0,1800,"worstBoxEV"),A(0,(t==null?void 0:t.portfolio_average_standard_deviation_percent)||0,2400,"avgVolatility")},600)},[t]);const j=m.useMemo(()=>{let A=0;return h.categories.length>0&&A++,h.providers.length>0&&A++,h.tags.length>0&&A++,h.volatilityBuckets.length>0&&A++,(h.priceRange.min!==i.priceRange.min||h.priceRange.max!==i.priceRange.max)&&A++,(h.expectedValueRange.min!==i.expectedValueRange.min||h.expectedValueRange.max!==i.expectedValueRange.max)&&A++,(h.volatilityRange.min!==i.volatilityRange.min||h.volatilityRange.max!==i.volatilityRange.max)&&A++,(h.floorRateRange.min!==i.floorRateRange.min||h.floorRateRange.max!==i.floorRateRange.max)&&A++,A},[h,i]),C=m.useCallback(()=>{f(i),g(1)},[i]),N=m.useCallback((A,I)=>{f(M=>{const V={...M};switch(A){case"category":V.categories=M.categories.filter(O=>O!==I);break;case"provider":V.providers=M.providers.filter(O=>O!==I);break;case"tag":V.tags=M.tags.filter(O=>O!==I);break;case"priceRange":V.priceRange=i.priceRange;break;case"expectedValueRange":V.expectedValueRange=i.expectedValueRange;break;case"volatilityRange":V.volatilityRange=i.volatilityRange;break;case"floorRateRange":V.floorRateRange=i.floorRateRange;break;case"volatilityBucket":V.volatilityBuckets=[];break}return V}),g(1)},[i]);m.useMemo(()=>{const A=(p-1)*x,I=A+x;return e.slice(A,I)},[e,p,x]);const R=OE(e,h,_,u);m.useEffect(()=>{g(1)},[_,h,u]);const E=Math.ceil(R.length/x),P=(p-1)*x+1,k=Math.min(p*x,R.length);return s?a.jsxs(a.Fragment,{children:[a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Avg. Expected Value"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsx(Re,{children:a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:[y.portfolioEV.toFixed(1),"%"]})})]})}),a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Best Box"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:[y.bestBoxEV.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium truncate",children:t==null?void 0:t.best_box_by_ev_percent})]})]})}),a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Worst Box"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent",children:[y.worstBoxEV.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium truncate",children:t==null?void 0:t.worst_box_by_ev_percent})]})]})}),a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Avg. Volatility"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsx(Re,{children:a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:[y.avgVolatility.toFixed(1),"%"]})})]})})]}):n?a.jsxs(a.Fragment,{children:[a.jsx(oh,{searchTerm:l,onSearchChange:c,sortBy:u,onSortChange:d,filters:h,onFiltersChange:f,boxesData:e,activeFiltersCount:j,onClearAllFilters:C,onRemoveFilter:N,filterPanelOpen:v,onFilterPanelOpenChange:b,filteredCount:R.length,totalCount:e.length,initialFilters:i}),a.jsx(xo,{currentPage:p,totalPages:E,onPageChange:g,startIndex:P,endIndex:k,totalItems:R.length}),a.jsx(al,{boxes:R,itemsPerPage:x,currentPage:p}),a.jsx(xo,{currentPage:p,totalPages:E,onPageChange:g,startIndex:P,endIndex:k,totalItems:R.length}),R.length===0&&a.jsx(ve.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:a.jsx("div",{className:"text-xl text-gray-600",children:"No boxes found matching your criteria"})})]}):a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsxs(ve.div,{className:"text-center space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("img",{src:"images/208a85a9-4108-4646-8cb0-aed2a05655ab.png",alt:"Unpacked.gg Logo",className:"h-32 object-contain"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:r?"Multi-Provider Mystery Box Hub":"Mystery Box Analytics"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:r?`Discover the perfect mystery box across ${t!=null&&t.provider_breakdown?Object.keys(t.provider_breakdown).length:4} providers. Compare, analyze, and find the best value.`:"Discover the perfect mystery box for your risk appetite."})]})]}),a.jsxs(ve.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Avg. Expected Value"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsx(Re,{children:a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:[y.portfolioEV.toFixed(1),"%"]})})]})}),a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Best Box"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:[y.bestBoxEV.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium truncate",children:t==null?void 0:t.best_box_by_ev_percent})]})]})}),a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Worst Box"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsxs(Re,{children:[a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent",children:[y.worstBoxEV.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium truncate",children:t==null?void 0:t.worst_box_by_ev_percent})]})]})}),a.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:a.jsxs(Ne,{className:"glass-edge hover:shadow-xl transition-all duration-300 border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium text-gray-700",children:"Avg. Volatility"}),a.jsx(Xt,{className:"h-5 w-5 text-purple-500 drop-shadow-sm"})]}),a.jsx(Re,{children:a.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",children:[y.avgVolatility.toFixed(1),"%"]})})]})})]}),a.jsx(oh,{searchTerm:l,onSearchChange:c,sortBy:u,onSortChange:d,filters:h,onFiltersChange:f,boxesData:e,activeFiltersCount:j,onClearAllFilters:C,onRemoveFilter:N,filterPanelOpen:v,onFilterPanelOpenChange:b,filteredCount:R.length,totalCount:e.length,initialFilters:i}),a.jsx(xo,{currentPage:p,totalPages:E,onPageChange:g,startIndex:P,endIndex:k,totalItems:R.length}),a.jsx(al,{boxes:R,itemsPerPage:x,currentPage:p}),a.jsx(xo,{currentPage:p,totalPages:E,onPageChange:g,startIndex:P,endIndex:k,totalItems:R.length}),R.length===0&&a.jsx(ve.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:a.jsx("div",{className:"text-xl text-gray-600",children:"No boxes found matching your criteria"})})]})})},bo=()=>a.jsxs(Ne,{className:"glass-edge border-purple-200/50",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(_e,{className:"h-4 w-32 bg-gray-200"}),a.jsx(_e,{className:"h-5 w-5 bg-gray-200 rounded"})]}),a.jsxs(Re,{children:[a.jsx(_e,{className:"h-8 w-20 mb-2 bg-gray-200"}),a.jsx(_e,{className:"h-3 w-24 bg-gray-200"})]})]});function IE(t,e){return m.useReducer((r,s)=>e[r][s]??r,t)}var Ic="ScrollArea",[U0,Xk]=Hr(Ic),[DE,pt]=U0(Ic),H0=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:n,scrollHideDelay:o=600,...i}=t,[l,c]=m.useState(null),[u,d]=m.useState(null),[h,f]=m.useState(null),[p,g]=m.useState(null),[x,v]=m.useState(null),[b,_]=m.useState(0),[y,w]=m.useState(0),[j,C]=m.useState(!1),[N,R]=m.useState(!1),E=ge(e,k=>c(k)),P=ui(n);return a.jsx(DE,{scope:r,type:s,dir:P,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:w,children:a.jsx(le.div,{dir:P,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});H0.displayName=Ic;var z0="ScrollAreaViewport",K0=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,asChild:n,nonce:o,...i}=t,l=pt(z0,r),c=m.useRef(null),u=ge(e,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(le.div,{"data-radix-scroll-area-viewport":"",...i,asChild:n,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:WE({asChild:n,children:s},d=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});K0.displayName=z0;var Lt="ScrollAreaScrollbar",Dc=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=pt(Lt,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=n,l=t.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),n.type==="hover"?a.jsx(LE,{...s,ref:e,forceMount:r}):n.type==="scroll"?a.jsx(FE,{...s,ref:e,forceMount:r}):n.type==="auto"?a.jsx(q0,{...s,ref:e,forceMount:r}):n.type==="always"?a.jsx(Lc,{...s,ref:e}):null});Dc.displayName=Lt;var LE=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=pt(Lt,t.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[n.scrollArea,n.scrollHideDelay]),a.jsx(Ct,{present:r||o,children:a.jsx(q0,{"data-state":o?"visible":"hidden",...s,ref:e})})}),FE=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=pt(Lt,t.__scopeScrollArea),o=t.orientation==="horizontal",i=gi(()=>c("SCROLL_END"),100),[l,c]=IE("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,c]),m.useEffect(()=>{const u=n.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),i()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[n.viewport,o,c,i]),a.jsx(Ct,{present:r||l!=="hidden",children:a.jsx(Lc,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:B(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:B(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),q0=m.forwardRef((t,e)=>{const r=pt(Lt,t.__scopeScrollArea),{forceMount:s,...n}=t,[o,i]=m.useState(!1),l=t.orientation==="horizontal",c=gi(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return As(r.viewport,c),As(r.content,c),a.jsx(Ct,{present:s||o,children:a.jsx(Lc,{"data-state":o?"visible":"hidden",...n,ref:e})})}),Lc=m.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,n=pt(Lt,t.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=J0(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,p){return KE(f,i.current,l,p)}return r==="horizontal"?a.jsx(VE,{...d,ref:e,onThumbPositionChange:()=>{if(n.viewport&&o.current){const f=n.viewport.scrollLeft,p=ah(f,l,n.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=h(f,n.dir))}}):r==="vertical"?a.jsx(BE,{...d,ref:e,onThumbPositionChange:()=>{if(n.viewport&&o.current){const f=n.viewport.scrollTop,p=ah(f,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=h(f))}}):null}),VE=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...n}=t,o=pt(Lt,t.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ge(e,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(G0,{"data-orientation":"horizontal",...n,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mi(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),Z0(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wo(i.paddingLeft),paddingEnd:Wo(i.paddingRight)}})}})}),BE=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...n}=t,o=pt(Lt,t.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ge(e,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(G0,{"data-orientation":"vertical",...n,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mi(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),Z0(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wo(i.paddingTop),paddingEnd:Wo(i.paddingBottom)}})}})}),[UE,W0]=U0(Lt),G0=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:n,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,p=pt(Lt,r),[g,x]=m.useState(null),v=ge(e,E=>x(E)),b=m.useRef(null),_=m.useRef(""),y=p.viewport,w=s.content-s.viewport,j=Je(d),C=Je(c),N=gi(h,10);function R(E){if(b.current){const P=E.clientX-b.current.left,k=E.clientY-b.current.top;u({x:P,y:k})}}return m.useEffect(()=>{const E=P=>{const k=P.target;(g==null?void 0:g.contains(k))&&j(P,w)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[y,g,w,j]),m.useEffect(C,[s,C]),As(g,N),As(p.content,N),a.jsx(UE,{scope:r,scrollbar:g,hasThumb:n,onThumbChange:Je(o),onThumbPointerUp:Je(i),onThumbPositionChange:C,onThumbPointerDown:Je(l),children:a.jsx(le.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:B(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),b.current=g.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(E))}),onPointerMove:B(t.onPointerMove,R),onPointerUp:B(t.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=_.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),qo="ScrollAreaThumb",Y0=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=W0(qo,t.__scopeScrollArea);return a.jsx(Ct,{present:r||n.hasThumb,children:a.jsx(HE,{ref:e,...s})})}),HE=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...n}=t,o=pt(qo,r),i=W0(qo,r),{onThumbPositionChange:l}=i,c=ge(e,h=>i.onThumbChange(h)),u=m.useRef(),d=gi(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const h=o.viewport;if(h){const f=()=>{if(d(),!u.current){const p=qE(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[o.viewport,d,l]),a.jsx(le.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:B(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,x=h.clientY-p.top;i.onThumbPointerDown({x:g,y:x})}),onPointerUp:B(t.onPointerUp,i.onThumbPointerUp)})});Y0.displayName=qo;var Fc="ScrollAreaCorner",X0=m.forwardRef((t,e)=>{const r=pt(Fc,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?a.jsx(zE,{...t,ref:e}):null});X0.displayName=Fc;var zE=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,n=pt(Fc,r),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return As(n.scrollbarX,()=>{var h;const d=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(d),c(d)}),As(n.scrollbarY,()=>{var h;const d=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(d),i(d)}),u?a.jsx(le.div,{...s,ref:e,style:{width:o,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Wo(t){return t?parseInt(t,10):0}function J0(t,e){const r=t/e;return isNaN(r)?0:r}function mi(t){const e=J0(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function KE(t,e,r,s="ltr"){const n=mi(r),o=n/2,i=e||o,l=n-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=s==="ltr"?[0,d]:[d*-1,0];return Q0([c,u],h)(t)}function ah(t,e,r="ltr"){const s=mi(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-n,i=e.content-e.viewport,l=o-s,c=r==="ltr"?[0,i]:[i*-1,0],u=Mc(t,c);return Q0([0,i],[0,l])(u)}function Q0(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function Z0(t,e){return t>0&&t<e}var qE=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return function n(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&e(),r=o,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function gi(t,e){const r=Je(t),s=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),m.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function As(t,e){const r=Je(e);ml(()=>{let s=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return n.observe(t),()=>{window.cancelAnimationFrame(s),n.unobserve(t)}}},[t,r])}function WE(t,e){const{asChild:r,children:s}=t;if(!r)return typeof e=="function"?e(s):e;const n=m.Children.only(s);return m.cloneElement(n,{children:typeof e=="function"?e(n.props.children):e})}var ex=H0,GE=K0,YE=X0;const tx=m.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(ex,{ref:s,className:G("relative overflow-hidden",t),...r,children:[a.jsx(GE,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(rx,{}),a.jsx(YE,{})]}));tx.displayName=ex.displayName;const rx=m.forwardRef(({className:t,orientation:e="vertical",...r},s)=>a.jsx(Dc,{ref:s,orientation:e,className:G("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:a.jsx(Y0,{className:"relative flex-1 rounded-full bg-border"})}));rx.displayName=Dc.displayName;const XE=({searchQuery:t,searchResults:e,onSearchChange:r,onItemSelect:s,onClearSearch:n})=>{const o=Tt(),[i,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(null);m.useEffect(()=>{l(e.length>0&&t.length>=2)},[e,t]);const d=f=>{var p;s(f),l(!1),(p=c.current)==null||p.blur()},h=()=>{e.length>0&&t.length>=2&&l(!0)};return m.useEffect(()=>{const f=p=>{var g;u.current&&!u.current.contains(p.target)&&!((g=c.current)!=null&&g.contains(p.target))&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),console.log("ItemSearchInput render:",{searchQuery:t,searchResultsCount:e.length,isDropdownOpen:i,isMobile:o}),a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"relative",children:[!o&&a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10",children:a.jsx(fr,{delayDuration:0,children:a.jsxs(st,{children:[a.jsx(nt,{asChild:!0,children:a.jsx("div",{className:"cursor-help p-2",children:a.jsx(vn,{className:"h-4 w-4 text-gray-400 hover:text-purple-500 transition-colors"})})}),a.jsx(Ye,{side:"top",className:"max-w-xs p-3 bg-white border-purple-200 shadow-xl z-50",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-semibold text-purple-600 text-sm",children:"Hunt for specific items"}),a.jsx("p",{className:"text-xs",children:"Search for any item and get ranked boxes to win it most cost-effectively."})]})})]})})}),o&&a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10",children:a.jsx(Ln,{className:"h-5 w-5 text-gray-400"})}),a.jsx(gr,{ref:c,placeholder:o?"Hunt for an item...":"Hunt for a specific item... (e.g., 'Nike Air Jordan')",value:t,onChange:f=>r(f.target.value),onFocus:h,className:`
            ${o?"pl-12 pr-12 h-12":"pl-12 pr-12 py-3"} 
            text-base bg-white border-purple-300 
            focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 
            rounded-xl shadow-sm
          `}),t&&a.jsx("button",{onClick:n,className:`
              absolute right-3 top-1/2 transform -translate-y-1/2 
              hover:bg-gray-100 rounded-full 
              ${o?"p-2":"p-1"} 
              transition-colors z-10
            `,children:a.jsx(xr,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})})]}),a.jsx(G1,{children:i&&a.jsx(ve.div,{ref:u,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"w-full mt-2 bg-white border border-purple-200 rounded-xl shadow-lg",children:a.jsx(tx,{className:"h-48 w-full",children:a.jsxs("div",{className:"p-2",children:[e.map((f,p)=>a.jsxs("div",{onClick:()=>d(f),className:`
                      px-3 py-3 hover:bg-purple-50 cursor-pointer 
                      rounded-lg mb-1 last:mb-0
                      flex items-center gap-3 transition-colors
                      ${o?"min-h-[48px]":"min-h-[44px]"}
                      active:bg-purple-100
                    `,children:[a.jsx(bn,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}),a.jsx("span",{className:"text-gray-800 text-sm leading-tight flex-1 break-words",children:f})]},`${f}-${p}`)),e.length===0&&t.length>=2&&a.jsxs("div",{className:"px-3 py-6 text-center text-gray-500 text-sm",children:['No items found matching "',t,'"']})]})})})})]})},JE=({selectedItem:t,itemImage:e="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=100&h=100&fit=crop"})=>{const r=Tt();return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border-2 border-purple-200 shadow-sm",children:[a.jsx(bn,{className:`${r?"h-4 w-4":"h-5 w-5"} text-purple-600 flex-shrink-0`}),a.jsx("div",{className:`${r?"w-10 h-10":"w-12 h-12"} flex items-center justify-center bg-white rounded-lg border-2 border-purple-300 shadow-sm flex-shrink-0`,children:a.jsx("img",{src:e,alt:t,className:`${r?"w-8 h-8":"w-10 h-10"} rounded-lg object-cover`})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-gray-600 ${r?"text-xs":"text-sm"} font-medium`,children:"Target Item:"}),a.jsx("p",{className:`font-bold ${r?"text-sm":"text-base"} text-purple-700 leading-tight`,style:{wordBreak:"break-word"},children:t})]})]})},QE=(t,e)=>{if(!e||e<=0)return{low:0,high:0};const r=e/100,s=Math.ceil(Math.log(.75)/Math.log(1-r)),n=Math.ceil(Math.log(.25)/Math.log(1-r));return{low:s*t,high:n*t}},Go=(t,e,r)=>{if(!e.drop_chance||e.drop_chance<=0)return{low:0,high:0,profitProbability:0,costRange:{low:0,high:0}};const s=(t.expected_value_percent_of_price||0)/100,n=(t.standard_deviation_percent||0)/100,o=(t.floor_rate_percent||0)/100,i=t.box_price,l=QE(i,e.drop_chance),c=e.drop_chance<.001,u=r>1e5,d=Math.ceil(100/e.drop_chance)>5e4;let h=0;c&&(h+=.15),u&&(h+=.1),d&&(h+=Math.min(Math.ceil(100/e.drop_chance)/5e5,.2));const f=Math.max(.5,s-h),p=Math.max(o*.8,f-n*.674),g=Math.min(f+n*.674,f+.15),x=l.low/i*i*p,v=l.high/i*i*g,b=x-l.low,_=v-l.high,w=(r/(Math.ceil(100/e.drop_chance)*i)-f)/Math.max(n,.05);let j=Math.max(0,Math.min(100,(1-ZE(w))*100));c&&(j*=.6),u&&(j*=.7),d&&(j*=Math.max(.4,1-Math.ceil(100/e.drop_chance)/2e5)),b<0&&_<0?j*=.3:b<0&&(j*=.75);const C=Math.max(1,Math.min(95,j));return{low:Math.round(b),high:Math.round(_),profitProbability:Math.round(C),costRange:{low:Math.round(l.low),high:Math.round(l.high)}}},ZE=t=>{if(t<-6)return 0;if(t>6)return 1;const e=1/(1+.2316419*Math.abs(t));let s=.3989423*Math.exp(-t*t/2)*e*(.3193815+e*(-.3565638+e*(1.781478+e*(-1.821256+e*1.330274))));return t>0?1-s:s},sx=t=>{if(!t||isNaN(t))return{percentage:"0%",ratio:"1 in  boxes"};const e=t;let r;e>=1?r=`${e.toFixed(1).replace(/\.0$/,"")}%`:e>=.1?r=`${e.toFixed(2).replace(/\.?0+$/,"")}%`:e>=.01?r=`${e.toFixed(3).replace(/\.?0+$/,"")}%`:e>=.001?r=`${e.toFixed(4).replace(/\.?0+$/,"")}%`:e>=1e-4?r=`${e.toFixed(5).replace(/\.?0+$/,"")}%`:r=`${e.toFixed(6).replace(/\.?0+$/,"")}%`;const s=Math.round(100/e);return{percentage:r,ratio:`1 in ${s.toLocaleString()} boxes`}},ek=({huntResults:t,selectedItem:e,onClearSearch:r})=>{const[s,n]=m.useState(new Set),o=u=>{const d=new Set(s);d.has(u)?d.delete(u):d.add(u),n(d)},i=u=>{switch(u){case 1:return a.jsx(cf,{className:"h-4 w-4 text-yellow-500"});case 2:return a.jsx(lf,{className:"h-4 w-4 text-gray-400"});case 3:return a.jsx(nf,{className:"h-4 w-4 text-amber-600"});default:return a.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold text-xs",children:u})}},l=u=>{const h={1:{text:"BEST",class:"bg-green-500 text-white"},2:{text:"GOOD",class:"bg-blue-500 text-white"},3:{text:"FAIR",class:"bg-orange-500 text-white"}}[u]||{text:`#${u}`,class:"bg-gray-500 text-white"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${h.class}`,children:h.text})},c=u=>Go(u.box,u.targetItem,u.targetingCost).profitProbability;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:t.slice(0,5).map((u,d)=>{const h=Math.ceil(100/u.targetItem.drop_chance),f=c(u),p=sx(u.targetItem.drop_chance),g=Go(u.box,u.targetItem,u.targetingCost),x=s.has(d);return a.jsx(Ne,{className:"hunt-card hover:shadow-md transition-all overflow-hidden border border-gray-200",children:a.jsxs(Re,{className:"p-3",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[i(u.rank),l(u.rank)]}),a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("img",{src:u.box.box_image||"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=60&h=60&fit=crop",alt:u.box.box_name,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-bold text-sm text-gray-800 leading-tight mb-1",children:u.box.box_name}),a.jsxs("p",{className:"text-xs text-gray-600",children:["$",u.box.box_price," per box"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[a.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(Mo,{className:"h-3 w-3 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Cost"})]}),a.jsxs("div",{className:"text-xs font-bold text-gray-800",children:["$",Math.round(u.targetingCost).toLocaleString()]})]}),a.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(bn,{className:"h-3 w-3 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Chance"})]}),a.jsx("div",{className:"text-xs font-bold text-gray-800",children:p.percentage})]}),a.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(uf,{className:"h-3 w-3 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Profit"})]}),a.jsxs("div",{className:`text-xs font-bold ${f>50?"text-green-600":f>25?"text-yellow-600":"text-red-600"}`,children:[f,"%"]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg border border-blue-200 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Mo,{className:"h-3 w-3 text-blue-600"}),a.jsx("span",{className:"text-xs text-blue-700 font-medium",children:"Expected Money Left"}),a.jsx(fr,{delayDuration:0,children:a.jsxs(st,{children:[a.jsx(nt,{asChild:!0,children:a.jsx(vn,{className:"h-2 w-2 text-blue-400 cursor-help"})}),a.jsx(Ye,{side:"top",className:"max-w-xs p-2",children:a.jsx("p",{className:"text-xs",children:"Money remaining after winning the item, considering volatility."})})]})})]}),a.jsxs("div",{className:"text-sm font-bold",children:[a.jsxs("span",{className:g.low>=0?"text-green-600":"text-red-600",children:[g.low>=0?"+":"","$",g.low.toLocaleString()]}),a.jsx("span",{className:"text-gray-500 mx-1",children:"to"}),a.jsxs("span",{className:g.high>=0?"text-green-600":"text-red-600",children:[g.high>=0?"+":"","$",g.high.toLocaleString()]})]})]}),a.jsxs(de,{variant:"ghost",onClick:()=>o(d),className:"w-full justify-between text-xs text-gray-600 hover:text-gray-800 h-10 px-0",children:[a.jsx("span",{children:x?"Hide Details":"Show Details"}),a.jsx(St,{className:`h-4 w-4 transition-transform ${x?"rotate-90":""}`})]}),x&&a.jsxs(ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 pt-3 border-t border-gray-200 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 block mb-1",children:"Boxes Needed:"}),a.jsxs("div",{className:"font-semibold text-gray-800",children:["~",h.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 block mb-1",children:"Drop Rate:"}),a.jsx("div",{className:"font-semibold text-gray-800",children:p.ratio})]})]}),a.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[a.jsx("div",{className:"text-xs text-blue-700 mb-1 font-medium",children:"Statistical Analysis"}),a.jsxs("div",{className:"text-xs text-blue-800 leading-relaxed",children:["This box has a ",a.jsxs("strong",{children:[f,"%"]})," statistical probability of being profitable when hunting for this item, based on box value distribution and volatility."]})]})]})]})},d)})}),a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:a.jsx(de,{onClick:r,className:"bg-purple-600 hover:bg-purple-700 text-white rounded-full shadow-lg w-14 h-14 p-0",size:"icon",children:a.jsx(xr,{className:"h-5 w-5"})})})]})},tk=({searchQuery:t,searchResults:e,selectedItem:r,huntResults:s,onSearchChange:n,onItemSelect:o,onClearSearch:i,getItemImage:l})=>{const c=Tt(),u=f=>{switch(f){case 1:return a.jsx(cf,{className:"h-6 w-6 text-yellow-500"});case 2:return a.jsx(lf,{className:"h-6 w-6 text-gray-400"});case 3:return a.jsx(nf,{className:"h-6 w-6 text-amber-600"});default:return a.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold text-sm",children:f})}},d=f=>{const g={1:{text:"BEST DEAL",class:"bg-green-500 text-white"},2:{text:"GOOD",class:"bg-blue-500 text-white"},3:{text:"FAIR",class:"bg-orange-500 text-white"}}[f]||{text:`#${f}`,class:"bg-gray-500 text-white"};return a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${g.class}`,children:g.text})},h=f=>Go(f.box,f.targetItem,f.targetingCost).profitProbability;return console.log("HuntExperience render:",{searchQuery:t,searchResultsCount:e.length,selectedItem:r,huntResultsCount:s.length,isMobile:c}),a.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8",children:a.jsx(Ne,{className:"glass-edge border-purple-200/50 shadow-lg overflow-hidden",children:a.jsxs(Re,{className:"p-0",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-b border-purple-200/50",children:a.jsx("div",{className:`${c?"p-4":"p-6"} text-center space-y-3`,children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:`${c?"p-2":"p-3"} bg-purple-100 rounded-full`,children:a.jsx(bn,{className:`${c?"h-5 w-5":"h-6 w-6"} text-purple-600`})}),a.jsxs("div",{children:[a.jsx("h2",{className:`${c?"text-xl":"text-2xl"} font-bold text-gray-800`,children:"Item Hunter"}),a.jsx("p",{className:`text-gray-600 ${c?"text-xs":"text-sm"}`,children:"Find the most cost-effective boxes to win any specific item"})]})]})})}),a.jsx("div",{className:`${c?"p-4":"p-6"} border-b border-gray-100 relative`,children:a.jsx(XE,{searchQuery:t,searchResults:e,onSearchChange:n,onItemSelect:o,onClearSearch:i})}),r&&a.jsx(ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-b border-gray-100",children:a.jsx("div",{className:`${c?"p-4":"p-6"}`,children:a.jsx(JE,{selectedItem:r,itemImage:l(r)})})}),s.length>0&&a.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:`${c?"p-4":"p-6"}`,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:`${c?"text-base":"text-lg"} font-bold text-gray-800 mb-2`,children:"Hunt Analysis Results"}),a.jsxs("p",{className:`${c?"text-xs":"text-sm"} text-gray-600`,children:['Ranked by cost-effectiveness for winning "',r,'"']})]}),c?a.jsx(ek,{huntResults:s,selectedItem:r,onClearSearch:i}):a.jsx("div",{className:"space-y-6",children:s.slice(0,5).map((f,p)=>{const g=Math.ceil(100/f.targetItem.drop_chance),x=h(f),v=sx(f.targetItem.drop_chance),b=Go(f.box,f.targetItem,f.targetingCost);return a.jsx(Ne,{className:"hunt-card hover:shadow-lg transition-all border border-gray-200",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3 flex-shrink-0",children:[a.jsx("div",{className:"flex items-center justify-center",children:u(f.rank)}),d(f.rank),a.jsx("div",{className:"relative p-2 bg-white rounded-xl shadow-sm",children:a.jsx("img",{src:f.box.box_image||"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=120&h=120&fit=crop",alt:f.box.box_name,className:"w-20 h-20 rounded-lg object-cover"})})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-1",children:f.box.box_name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Box Price: ",a.jsxs("span",{className:"font-semibold",children:["$",f.box.box_price.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Mo,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Expected Cost"})]}),a.jsxs("div",{className:"text-2xl font-bold text-green-800",children:["$",Math.round(f.targetingCost).toLocaleString()]}),a.jsx("div",{className:"text-xs text-green-600 mt-1",children:"to win this item"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(bn,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Drop Chance"})]}),a.jsx("div",{className:"text-2xl font-bold text-blue-800",children:v.percentage}),a.jsx("div",{className:"text-xs text-blue-600 mt-1",children:v.ratio})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(uf,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Profit Chance"}),a.jsx(fr,{delayDuration:0,children:a.jsxs(st,{children:[a.jsx(nt,{asChild:!0,children:a.jsx(vn,{className:"h-3 w-3 text-purple-400 cursor-help"})}),a.jsx(Ye,{side:"top",className:"max-w-xs p-3",children:a.jsx("p",{className:"text-xs",children:"Statistical probability that hunting for this item will be profitable, considering box value distribution and targeting cost."})})]})})]}),a.jsxs("div",{className:`text-2xl font-bold ${x>50?"text-green-600":x>25?"text-yellow-600":"text-red-600"}`,children:[x,"%"]}),a.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"profitability estimate"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Mo,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{className:"font-semibold text-gray-800",children:"Expected Money Left"}),a.jsx(fr,{delayDuration:0,children:a.jsxs(st,{children:[a.jsx(nt,{asChild:!0,children:a.jsx(vn,{className:"h-3 w-3 text-gray-400 cursor-help"})}),a.jsx(Ye,{side:"top",className:"max-w-xs p-3",children:a.jsx("p",{className:"text-xs",children:"Expected money remaining after successfully obtaining the target item, accounting for volatility and practical limitations."})})]})})]}),a.jsxs("div",{className:"text-lg font-bold",children:[a.jsxs("span",{className:b.low>=0?"text-green-600":"text-red-600",children:[b.low>=0?"+":"","$",b.low.toLocaleString()]}),a.jsx("span",{className:"text-gray-500 mx-2",children:"to"}),a.jsxs("span",{className:b.high>=0?"text-green-600":"text-red-600",children:[b.high>=0?"+":"","$",b.high.toLocaleString()]})]}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Range accounts for box value volatility"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("h5",{className:"font-semibold text-gray-800 mb-3",children:"Hunt Analysis"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Expected Boxes Needed:"}),a.jsxs("div",{className:"font-bold text-gray-800 text-lg",children:["~",g.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Actual Cost Range:"}),a.jsxs("div",{className:"font-bold text-gray-800 text-lg",children:["$",b.costRange.low.toLocaleString()," - $",b.costRange.high.toLocaleString()]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on probability distribution"})]})]}),a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[a.jsx("div",{className:"text-xs text-blue-700 mb-1 font-medium",children:" Strategy Tip"}),a.jsxs("div",{className:"text-sm text-blue-800",children:[f.rank===1?"This is your best option! Highest chance of cost-effective success.":f.rank<=3?"Good alternative with reasonable cost-effectiveness.":"Consider this option only if top choices aren't available.",x<25&&" Note: Low profit probability - consider if this hunt is worth the risk."]})]})]})]})]})})},p)})}),!c&&a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:a.jsx("button",{onClick:i,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:"Clear Hunt"})})]}),!r&&!t&&a.jsxs("div",{className:`${c?"p-6":"p-8"} text-center`,children:[a.jsx("div",{className:`p-4 bg-gray-50 rounded-full ${c?"w-12 h-12":"w-16 h-16"} mx-auto mb-4 flex items-center justify-center`,children:a.jsx(Ln,{className:`${c?"h-6 w-6":"h-8 w-8"} text-gray-400`})}),a.jsx("h3",{className:`${c?"text-base":"text-lg"} font-medium text-gray-800 mb-2`,children:"Start Your Hunt"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Search for any item above to find the best boxes to win it cost-effectively"})]})]})})})},rk=t=>!t||t.length===0?0:t.reduce((e,r)=>!r.all_items||!Array.isArray(r.all_items)?e:e+r.all_items.length,0),sk=t=>t<1e3?t.toString():t<1e6?`${(t/1e3).toFixed(1)}K`:`${(t/1e6).toFixed(1)}M`,nk=t=>t<1e3?t.toLocaleString():t<1e6?`${(t/1e3).toFixed(1)}K`:`${(t/1e6).toFixed(1)}M`,ok=({boxesData:t,loading:e=!1})=>{const r=t.length,s=rk(t);return e?a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 py-2 px-3 max-w-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg animate-pulse"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"})]})]}),a.jsx("div",{className:"h-8 w-px bg-gray-200"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg animate-pulse"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"})]})]})]})}):a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs(ve.div,{className:"flex items-center justify-center gap-3 py-2 px-3 max-w-xs",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsxs(ve.div,{className:"flex items-center gap-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(iy,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:nk(r)}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Mystery Boxes"})]})]}),a.jsx("div",{className:"h-8 w-px bg-gray-300"}),a.jsxs(ve.div,{className:"flex items-center gap-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(oy,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:sk(s)}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Items Indexed"})]})]})]})})},ik=(t,e)=>{if(console.log("searchItems called with:",{query:e,boxesDataLength:t.length}),!e||e.length<2)return console.log("Query too short or empty"),[];const r=new Set,s=e.toLowerCase();console.log("Starting search for:",s),t.forEach((o,i)=>{o.all_items&&Array.isArray(o.all_items)?(console.log(`Searching in box ${i}: ${o.box_name}, items count: ${o.all_items.length}`),o.all_items.forEach((l,c)=>{l.name&&l.name.toLowerCase().includes(s)&&(console.log(`Found matching item: ${l.name} in box: ${o.box_name}`),r.add(l.name))})):console.log(`Box ${i} has no all_items or it's not an array:`,o.all_items)});const n=Array.from(r).slice(0,10);return console.log("Search completed. Found items:",n),n},ak=(t,e)=>{console.log("generateHuntReport called for item:",e);const r=[];return t.forEach(s=>{if(s.all_items&&Array.isArray(s.all_items)){const n=s.all_items.find(o=>o.name===e);if(n&&n.drop_chance>0){const o=s.box_price/(n.drop_chance/100);console.log(`Found target item in box: ${s.box_name}, targeting cost: ${o}`),r.push({box:s,targetItem:n,targetingCost:o,rank:0,efficiency:o<500?"Excellent":o<1e3?"Good":"Poor"})}}}),r.sort((s,n)=>s.targetingCost-n.targetingCost),r.forEach((s,n)=>{s.rank=n+1}),console.log("Hunt report generated with",r.length,"results"),r},lk=t=>({box_name:t.box_name,box_price:t.box_price,box_image:t.box_image,expected_value_percent_of_price:t.expected_value_percent_of_price,volatility_bucket:t.volatility_bucket,standard_deviation_percent:t.standard_deviation_percent,floor_rate_percent:t.floor_rate_percent,category:t.category,tags:t.tags,jackpot_items:t.jackpot_items,unwanted_items:t.unwanted_items,all_items:t.all_items,provider:t.provider}),nx=t=>t.map(lk),ck=t=>{const[e,r]=m.useState(""),[s,n]=m.useState([]),[o,i]=m.useState(""),l=m.useCallback(d=>{if(r(d),d.length>=2){const h=nx(t),f=ik(h,d);n(f)}else n([])},[t]),c=m.useCallback(d=>{i(d),r(d),n([])},[]),u=m.useCallback(()=>{r(""),n([]),i("")},[]);return{searchQuery:e,searchResults:s,selectedItem:o,handleSearch:l,handleItemSelect:c,handleClearSearch:u}},uk=(t,e)=>m.useMemo(()=>{if(!e)return[];const r=nx(t);return ak(r,e)},[t,e]),dk=()=>{const[t]=Sx(),[e,r]=m.useState(!0);m.useState("");const s=Tt(),n=t.get("provider"),{summaryData:o,boxesData:i,loading:l,error:c}=up(void 0,2e3),{searchQuery:u,searchResults:d,selectedItem:h,handleSearch:f,handleItemSelect:p,handleClearSearch:g}=ck(i),x=uk(i,h),v=b=>{for(const _ of i){const w=[..._.jackpot_items,..._.unwanted_items,..._.all_items].find(j=>j.name===b);if(w!=null&&w.image)return w.image}return"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=300&fit=crop"};return console.log("Hub component render:",{providerParam:n,summaryData:o,boxesCount:i.length,loading:l,error:c}),c?a.jsx(Er,{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"text-red-600 text-xl",children:["Error loading mystery box data: ",c]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Retry"})]})}):a.jsxs(a.Fragment,{children:[a.jsxs(Oo,{children:[a.jsx("title",{children:"Mystery Box Hub - Compare Drop Rates & Expected Values | Unpacked.gg"}),a.jsx("meta",{name:"description",content:"Compare mystery box drop rates, expected values, and volatility across RillaBox, Hypedrop, Cases.GG, and Luxdrop. Find the most profitable mystery boxes with comprehensive analytics."}),a.jsx("meta",{name:"keywords",content:"mystery boxes, drop rates, expected value, RillaBox, Hypedrop, Cases.GG, Luxdrop, unboxing, case opening, gambling analytics"}),a.jsx("meta",{property:"og:title",content:"Mystery Box Analytics Hub | Unpacked.gg"}),a.jsx("meta",{property:"og:description",content:"Find the best mystery boxes with comprehensive drop rate analysis and expected value calculations across multiple providers."}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:"https://unpacked.gg/hub"}),a.jsx("meta",{name:"twitter:title",content:"Mystery Box Analytics Hub | Unpacked.gg"}),a.jsx("meta",{name:"twitter:description",content:"Compare mystery box drop rates and expected values across multiple providers. Find profitable boxes with detailed analytics."}),a.jsx("link",{rel:"canonical",href:"https://unpacked.gg/hub"}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:"Unpacked.gg",url:"https://unpacked.gg",description:"Mystery box analytics platform for comparing drop rates and expected values",sameAs:[]})})]}),a.jsxs(Er,{className:"min-h-screen",children:[e&&a.jsx("div",{className:"mx-4 sm:mx-6 mt-4 sm:mt-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs(dp,{className:"bg-blue-50 border-blue-200 text-blue-800",children:[a.jsx(vn,{className:"h-4 w-4 text-blue-600"}),a.jsx(hp,{className:"text-sm leading-relaxed text-blue-800 pr-10",children:"We gather this information and data to the best of our knowledge to provide value, but we cannot guarantee that the data is always accurate."})]}),a.jsx("button",{onClick:()=>r(!1),className:"absolute top-1.5 right-1.5 p-1.5 rounded-full text-gray-600 hover:text-gray-800 hover:bg-blue-100 transition-colors flex items-center justify-center w-7 h-7","aria-label":"Dismiss alert",children:a.jsx(xr,{className:"h-3.5 w-3.5"})})]})}),a.jsx("div",{className:"p-6 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-12 md:space-y-16",children:[a.jsxs("header",{className:"text-center space-y-6",children:[a.jsxs("div",{className:`flex items-center justify-center ${s?"gap-3":"gap-6"}`,children:[a.jsx("img",{src:"images/208a85a9-4108-4646-8cb0-aed2a05655ab.png",alt:"Unpacked.gg Logo",className:`object-contain ${s?"h-32":"h-48"}`}),a.jsx("div",{className:`${s?"w-3":"w-1"} bg-black ${s?"h-20":"h-32"} shadow-[0_0_4px_rgba(255,255,255,0.8)]`}),a.jsx("span",{className:`font-bold text-gray-800 ${s?"text-3xl":"text-5xl"}`,children:"Hub"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"py-4",children:a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent leading-[1.2] pb-2",children:"Online Mystery Boxes  Find Yours"})}),a.jsx("div",{className:"inline-block mx-auto",children:a.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-xl border border-white/30 shadow-lg shadow-purple-500/10 px-4 py-2",children:a.jsx("p",{className:"text-xl text-gray-700 font-semibold leading-relaxed",children:"Unbox the Best Mystery Boxes  Don't Settle for Poor Drop Rates"})})}),a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-lg rounded-xl border border-white/30 shadow-lg shadow-purple-500/10 px-4 py-2",children:a.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"Discover profitable mystery boxes with comprehensive analytics. Compare expected values, drop rates, and volatility across multiple providers."})})})]})]}),a.jsxs("div",{className:"relative w-fit mx-auto",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-50 via-white to-blue-50 backdrop-blur-md rounded-2xl border border-purple-200/50 shadow-2xl shadow-purple-500/20 ring-1 ring-purple-100/50 p-1 animate-pulse-subtle",children:a.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-xl",children:a.jsx(ok,{boxesData:i,loading:l})})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/10 to-blue-400/10 rounded-2xl blur-xl -z-10"})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Item Hunter - Find Mystery Boxes with Your Target Items"}),a.jsx(tk,{searchQuery:u,searchResults:d,selectedItem:h,huntResults:x,onSearchChange:f,onItemSelect:p,onClearSearch:g,getItemImage:v})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Mystery Box Analytics & Statistics"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l?a.jsxs(a.Fragment,{children:[a.jsx(bo,{}),a.jsx(bo,{}),a.jsx(bo,{}),a.jsx(bo,{})]}):o&&a.jsx(ih,{summaryData:o,boxesData:i,isUnified:!0,showOnlyStats:!0,selectedProvider:n})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Browse All Mystery Boxes"}),l?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 space-y-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})}),a.jsx("div",{className:"w-48",children:a.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:12}).map((b,_)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 space-y-4",children:[a.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-12"})]}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-20 mx-auto"})]})},_))})]}):o&&a.jsx(ih,{summaryData:o,boxesData:i,isUnified:!0,showOnlyContent:!0,selectedProvider:n})]})]})})]})]})},ko=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>{let r=0;if(e.item_dropchance_formatted){const o=e.item_dropchance_formatted.toString().replace("%","");r=parseFloat(o)/100}else if(e.item_dropchance!==void 0){const o=parseFloat(e.item_dropchance);r=o/100,console.log(`Converting drop chance: ${o}% -> ${r} (decimal)`)}else if(e.drop_chance!==void 0){const o=parseFloat(e.drop_chance);r=o/100,console.log(`Converting drop chance: ${o}% -> ${r} (decimal)`)}(isNaN(r)||r<0||r>1)&&(console.warn(`Invalid drop chance for item "${e.item_name||e.name}": ${r}, setting to 0`),r=0);let s=0;e.item_value!==void 0?s=parseFloat(e.item_value):e.value!==void 0?s=parseFloat(e.value):e.price!==void 0&&(s=parseFloat(e.price)),(isNaN(s)||s<0)&&(console.warn(`Invalid value for item "${e.item_name||e.name}": ${s}, setting to 0`),s=0);const n={name:e.item_name||e.name||"Unknown Item",value:s,drop_chance:r,image:e.item_image||e.image||"",type:e.type||e.item_type||""};return console.log(`Parsed item: ${n.name}, Value: $${n.value}, Drop: ${(n.drop_chance*100).toFixed(4)}%`),n});if(typeof t=="string")try{const e=JSON.parse(t);if(Array.isArray(e))return ko(e)}catch(e){console.warn("Failed to parse JSON string:",e)}return[]},hk=t=>{if(!t)return[];if(Array.isArray(t))return t.filter(e=>e&&typeof e=="string");if(typeof t=="string")try{const e=JSON.parse(t);if(Array.isArray(e))return e.filter(r=>r&&typeof r=="string")}catch{return t.split(",").map(r=>r.trim()).filter(r=>r.length>0)}return[]},fk=async t=>{var d;console.log(`Enhanced search for box with slug: ${t} across all providers...`);const e=ci(t);console.log(`Normalized search slug: ${e}`);const r=Object.entries(Oe).map(async([h,f])=>{try{const{data:p,error:g}=await Dl.from(f.tableName).select("*").limit(1e3);if(g)return console.error(`Error fetching from ${f.displayName}:`,g),[];if(!p||p.length===0)return console.log(`No data found in ${f.displayName}`),[];console.log(`Found ${p.length} boxes in ${f.displayName}, starting intelligent matching...`);const x=p.map(b=>b.box_name).filter(Boolean),v=zm(e,x);return console.log(`${f.displayName} matches:`,v.slice(0,3)),v.filter(b=>b.score>.4).slice(0,5).map(b=>({...p.find(y=>y.box_name===b.originalName),provider:h,provider_config:f,matchScore:b.score,matchedSlug:b.slug})).filter(Boolean)}catch(p){return console.error(`Search error in ${f.displayName}:`,p),[]}}),n=(await Promise.all(r)).flat().filter(Boolean).sort((h,f)=>(f.matchScore||0)-(h.matchScore||0));console.log(`Total matches found: ${n.length}`),n.length>0&&console.log(`Best match: ${n[0].box_name} (score: ${(d=n[0].matchScore)==null?void 0:d.toFixed(3)}) from ${n[0].provider_config.displayName}`);const o=n[0]||null;if(!o)return console.log(`No suitable matches found for slug: ${t}`),null;const i=ko(o.jackpot_items),l=ko(o.unwanted_items),c=ko(o.all_items),u=c.reduce((h,f)=>h+f.drop_chance,0);return console.log(`Box "${o.box_name}" total drop rate: ${(u*100).toFixed(2)}%`),(u<.95||u>1.05)&&console.warn(`Warning: Drop rates for "${o.box_name}" sum to ${(u*100).toFixed(2)}%, expected ~100%`),{box_name:o.box_name||"Unknown Mystery Box",box_price:Number(o.box_price)||0,box_image:o.box_image||"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=300&fit=crop",expected_value_percent_of_price:Number(o.expected_value_percent)||0,volatility_bucket:o.volatility_bucket||"Medium",standard_deviation_percent:Number(o.standard_deviation_percent)||0,floor_rate_percent:Number(o.floor_rate_percent)||0,category:o.category||"Mystery Boxes",tags:hk(o.tags),jackpot_items:i,unwanted_items:l,all_items:c,provider:o.provider,provider_config:o.provider_config}},pk=t=>{const{data:e,isLoading:r,error:s,refetch:n}=Af({queryKey:["boxDetail",t],queryFn:()=>fk(t),enabled:!!t,staleTime:3e5,gcTime:6e5,retry:3,retryDelay:o=>Math.min(1e3*2**o,3e4)});return{boxData:e,loading:r,error:(s==null?void 0:s.message)||null,refetch:n}},mk=()=>{const[t,e]=m.useState([]),[r,s]=m.useState(!1),n=m.useCallback(async o=>{if(!o||o.length<2)return[];s(!0),console.log(`Finding suggestions for: ${o}`);try{const i=Object.entries(Oe).map(async([c,u])=>{try{const{data:d,error:h}=await Dl.from(u.tableName).select("box_name").limit(200);if(h||!d)return console.error(`Error fetching suggestions from ${u.displayName}:`,h),[];const f=d.map(g=>g.box_name).filter(Boolean);return zm(o,f).filter(g=>g.score>.2&&g.score<.9).slice(0,3).map(g=>({box_name:g.originalName,provider:c,provider_name:u.displayName,slug:g.slug,score:g.score}))}catch(d){return console.error(`Suggestion error in ${u.displayName}:`,d),[]}}),l=(await Promise.all(i)).flat().sort((c,u)=>u.score-c.score).slice(0,6);return e(l),l}catch(i){return console.error("Error finding suggestions:",i),[]}finally{s(!1)}},[]);return{suggestions:t,loading:r,findSuggestions:n}},gk=(t,e)=>{if(!t||t.length===0||e<=0)return 0;const r=t.filter(n=>(n.value||0)>=e),s=r.reduce((n,o)=>n+(o.drop_chance||0),0);return console.log(`Break-even items count: ${r.length}, Total break-even chance: ${(s*100).toFixed(4)}%`),s*100},lh=(t,e)=>{if(!t||t.length===0)return{totalDropRate:0,evContribution:0,evContributionDollars:0,oddsToEvRatio:0,averageValue:0,maxValue:0,minValue:0,itemCount:0,breakEvenOdds:0};const r=t.reduce((h,f)=>h+(f.drop_chance||0),0),s=t.reduce((h,f)=>{const p=(f.value||0)*(f.drop_chance||0);return console.log(`Item: ${f.name}, Value: $${f.value}, Drop Rate: ${(f.drop_chance*100).toFixed(4)}%, EV Contribution: $${p.toFixed(4)}`),h+p},0);console.log(`Category EV Contribution Total: $${s.toFixed(4)}`);const n=e>0?s/e*100:0,o=n>0?r*100/n:0,i=t.map(h=>h.value||0).filter(h=>h>0),l=i.length>0?i.reduce((h,f)=>h+f,0)/i.length:0,c=i.length>0?Math.max(...i):0,u=i.length>0?Math.min(...i):0,d=gk(t,e);return{totalDropRate:r,evContribution:n,evContributionDollars:s,oddsToEvRatio:o,averageValue:l,maxValue:c,minValue:u,itemCount:t.length,breakEvenOdds:d}},xk=(t,e)=>{if(!t||t.length===0||e<=0)return console.warn("Loss chance calculation: Invalid input data"),100;console.log(`Loss chance calculation for box price: $${e}`),console.log(`Total items to analyze: ${t.length}`);const r=t.filter(h=>{const f=typeof h.drop_chance=="number"&&!isNaN(h.drop_chance)&&h.drop_chance>=0,p=typeof h.value=="number"&&!isNaN(h.value)&&h.value>=0;return f||console.warn(`Item "${h.name}" has invalid drop chance:`,h.drop_chance),p||console.warn(`Item "${h.name}" has invalid value:`,h.value),f&&p});if(console.log(`Valid items after filtering: ${r.length}`),r.length===0)return console.warn("No valid items found for loss chance calculation"),100;const s=r.reduce((h,f)=>h+f.drop_chance,0);console.log(`Total drop rate sum: ${(s*100).toFixed(4)}%`),(s<.95||s>1.05)&&console.warn(`Warning: Drop rates sum to ${(s*100).toFixed(2)}%, expected ~100%`);const n=r.filter(h=>h.value<e),o=n.reduce((h,f)=>h+f.drop_chance,0),i=r.filter(h=>h.value>=e),l=i.reduce((h,f)=>h+f.drop_chance,0),c=Math.max(0,s-l);console.log(`Losing items count: ${n.length}`),console.log(`Profit items count: ${i.length}`),console.log(`Direct loss chance: ${(o*100).toFixed(4)}%`),console.log(`Alternative loss chance (100% - profit): ${(c*100).toFixed(4)}%`);let u=o;i.length===r.length&&i.length>0?(console.log("All items are profitable, setting loss chance to 0%"),u=0):Math.abs(o-c)>.1&&(console.warn("Large discrepancy between calculation methods, using alternative"),u=c),s>0&&(s<.95||s>1.05)&&(console.log("Normalizing loss chance due to drop rate sum != 100%"),u=u/s);const d=Math.min(Math.max(u*100,0),100);return console.log(`Final loss chance: ${d.toFixed(2)}%`),d},ch=({stats:t,title:e,type:r})=>{const s=h=>h>=1?`${h.toFixed(1)}%`:h>=.1?`${h.toFixed(2)}%`:h>=.01?`${h.toFixed(3)}%`:h>=.001?`${h.toFixed(4)}%`:`${h.toFixed(5)}%`,n=h=>h>=1?`${h.toFixed(1)}x`:h>=.1?`${h.toFixed(2)}x`:h>=.01?`${h.toFixed(3)}x`:h>=.001?`${h.toFixed(4)}x`:h>=1e-4?`${h.toFixed(5)}x`:`${h.toFixed(6)}x`,o=h=>h>10?"bg-gradient-to-r from-purple-500 to-purple-600 bg-clip-text text-transparent":h>5?"bg-gradient-to-r from-purple-400 to-purple-500 bg-clip-text text-transparent":"bg-gradient-to-r from-purple-300 to-purple-400 bg-clip-text text-transparent",i=h=>h>1?"bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent":h>.5?"bg-gradient-to-r from-purple-500 to-purple-600 bg-clip-text text-transparent":"bg-gradient-to-r from-purple-400 to-purple-500 bg-clip-text text-transparent",l=h=>"bg-gradient-to-r from-purple-500 to-purple-600 bg-clip-text text-transparent",c=h=>"shadow-lg shadow-purple-500/20 hover:shadow-purple-500/40 border-purple-500/20 hover:border-purple-500/40",u=r==="common",d=r==="jackpot"?"Jackpot Items":"Common Items";return a.jsx(Ne,{className:`
      bg-white/20 backdrop-blur-md border mb-3 rounded-xl shadow-lg isolate
      transition-all duration-300 hover:scale-[1.02] hover:bg-white/30 motion-reduce:hover:scale-100
      ${c(r)}
      glass-edge
    `,children:a.jsxs(Re,{className:"p-3",children:[a.jsxs("div",{className:"grid gap-2 text-xs grid-cols-3",children:[a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:`font-bold text-lg ${l(t.totalDropRate*100)} 
              transition-all duration-300 group-hover:scale-110 motion-reduce:group-hover:scale-100`,children:s(t.totalDropRate*100)}),a.jsxs("div",{className:"text-gray-700 text-xs font-medium",children:[d," Drop Odds"]})]}),a.jsxs("div",{className:"text-center group",children:[a.jsxs("div",{className:`font-bold text-lg ${o(t.evContribution)}
              transition-all duration-300 group-hover:scale-110 motion-reduce:group-hover:scale-100 drop-shadow-sm`,children:[t.evContribution.toFixed(1),"%"]}),a.jsxs("div",{className:"text-gray-700 text-xs font-medium",children:[d," EV Share"]})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:`font-bold text-lg ${i(t.oddsToEvRatio)}
              transition-all duration-300 group-hover:scale-110 motion-reduce:group-hover:scale-100 drop-shadow-sm`,children:n(t.oddsToEvRatio)}),a.jsx("div",{className:"text-gray-700 text-xs font-medium",children:"Odds/EV Ratio"})]})]}),t.itemCount>0&&a.jsx("div",{className:"mt-3 pt-2 border-t border-white/10",children:a.jsx("div",{className:"text-center text-xs text-gray-700",children:a.jsxs("span",{className:"font-medium",children:[d," Value Range: ",a.jsxs("span",{className:"text-gray-900",children:[Kd(t.minValue)," ",a.jsx("span",{className:"text-gray-700",children:"-"})," ",Kd(t.maxValue)]})]})})})]})})},yk=t=>t.charAt(0).toUpperCase()+t.slice(1),vk=({box:t})=>{var _;const[e,r]=m.useState(!1),s=Tt(),n={hypedrop:"https://unpacked.gg/go/hypedrop",rillabox:"https://unpacked.gg/go/rillabox",casesgg:"https://unpacked.gg/go/cases-gg",luxdrop:"https://unpacked.gg/go/luxdrop"},o={hypedrop:"https://unpacked.gg/mystery-boxes/hypedrop-review/",rillabox:"https://unpacked.gg/mystery-boxes/rillabox-review/",casesgg:"https://unpacked.gg/mystery-boxes/cases-gg-review/",luxdrop:"https://unpacked.gg/mystery-boxes/luxdrop-review/"},i=y=>y>=80?"text-purple-700 font-bold":y>=50?"text-purple-600 font-bold":y>=20?"text-purple-500 font-bold":"text-purple-400 font-bold",l=y=>y>=80?"text-green-600 font-bold":y>=60?"text-green-500 font-bold":y>=40?"text-orange-500 font-bold":y>=20?"text-red-500 font-bold":"text-red-600 font-bold",c=y=>y>100?"text-green-600 font-bold":y>75?"text-green-500 font-bold":y>50?"text-orange-500 font-bold":"text-red-600 font-bold",u=y=>{if(!y||isNaN(y))return"0%";const w=y*100;let j;return w>=1?j=w.toFixed(1):w>=.1?j=w.toFixed(2):w>=.01?j=w.toFixed(3):w>=.001?j=w.toFixed(4):w>=1e-4?j=w.toFixed(5):j=w.toFixed(6),j=parseFloat(j).toString(),`${j}%`},d=t.standard_deviation_percent||0,h=t.floor_rate_percent||0,f=m.useMemo(()=>[...t.all_items].sort((y,w)=>y.drop_chance!==w.drop_chance?y.drop_chance-w.drop_chance:w.value-y.value),[t.all_items]),p=m.useMemo(()=>[...t.all_items].sort((y,w)=>y.drop_chance-w.drop_chance).slice(0,3),[t.all_items]),g=m.useMemo(()=>[...t.all_items].sort((y,w)=>w.drop_chance-y.drop_chance).slice(0,3),[t.all_items]),x=m.useMemo(()=>lh(p,t.box_price),[p,t.box_price]),v=m.useMemo(()=>lh(g,t.box_price),[g,t.box_price]),b=m.useMemo(()=>xk(t.all_items,t.box_price),[t.all_items,t.box_price]);return a.jsx(fr,{delayDuration:0,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:`${s?"text-2xl":"text-4xl"} font-bold text-gray-800`,children:t.box_name}),a.jsxs("div",{className:`flex items-center justify-center gap-3 ${s?"flex-col":"flex-row"}`,children:[a.jsxs("button",{onClick:()=>window.open(n[t.provider||"rillabox"],"_blank"),className:"flex items-center gap-2 hover:bg-white/10 p-2 rounded-lg transition-all duration-200 cursor-pointer group",title:"Visit provider website",children:[a.jsx(Wn,{providerId:t.provider||"rillabox",size:s?"sm":"md",enhanced:!0,className:"transition-transform duration-200 hover:scale-[1.4] group-hover:scale-[1.2]"}),a.jsx("span",{className:`${s?"text-lg":"text-xl"} font-bold text-purple-600 group-hover:text-purple-800 transition-colors duration-200`,children:((_=Oe[t.provider||"rillabox"])==null?void 0:_.displayName)||"RillaBox"}),a.jsx(Wc,{className:`${s?"h-4 w-4":"h-5 w-5"} transform rotate-45 text-purple-600 group-hover:text-purple-800 group-hover:scale-110 transition-all duration-200`})]}),a.jsxs(de,{variant:"outline",size:s?"sm":"default",onClick:()=>window.open(o[t.provider||"rillabox"],"_blank"),className:"gap-2 border-purple-300 text-purple-600 hover:bg-purple-50 hover:text-purple-800 hover:border-purple-400 transition-all duration-200",children:[a.jsx(Ri,{className:`${s?"h-4 w-4":"h-5 w-5"}`}),a.jsx("span",{className:s?"text-sm":"text-base",children:"Read Review"}),a.jsx(Wc,{className:`${s?"h-3 w-3":"h-4 w-4"}`})]})]})]}),a.jsxs("div",{className:`grid ${s?"grid-cols-1":"md:grid-cols-2"} ${s?"gap-4":"gap-6"}`,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`w-full ${s?"h-48":"h-64"} rounded-xl overflow-hidden p-4 shadow-lg border border-purple-200 relative cursor-pointer`,style:{backgroundImage:"url('images/90a8beae-8a8c-4f9a-bfd2-d7dc5be9de82.png')",backgroundSize:"cover",backgroundRepeat:"no-referrer",backgroundPosition:"center",backgroundBlendMode:"soft-light"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[0.5px] rounded-xl"}),!e&&a.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse rounded relative z-10"}),a.jsx("img",{src:t.box_image,alt:t.box_name,className:`w-full h-full object-contain relative z-10 transition-transform duration-300 hover:scale-[1.02] transform-origin-center overflow-visible cursor-default ${e?"opacity-100":"opacity-0"}`,referrerPolicy:"no-referrer",onLoad:()=>r(!0)})]}),a.jsxs("div",{className:`grid ${s?"grid-cols-2":"grid-cols-3"} gap-4`,children:[a.jsxs("div",{className:`text-center ${s?"p-3":"p-4"} bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200`,children:[a.jsx("div",{className:`${s?"text-lg":"text-xl"} font-bold text-gray-800`,children:Hm(t.box_price)}),a.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600 font-medium`,children:"Mystery Box Price"})]}),a.jsxs("div",{className:`text-center ${s?"p-3":"p-4"} bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200`,children:[a.jsxs("div",{className:`${s?"text-lg":"text-xl"} ${c(t.expected_value_percent_of_price)}`,children:[t.expected_value_percent_of_price.toFixed(1),"% (EV)"]}),a.jsxs("div",{className:`${s?"text-xs":"text-sm"} text-gray-600 font-medium flex items-center justify-center gap-1`,children:["Expected Value",!s&&a.jsxs(st,{children:[a.jsx(nt,{children:a.jsx(Jr,{className:"h-3 w-3 text-gray-400"})}),a.jsx(Ye,{children:a.jsx("p",{children:"Statistical average return on investment"})})]})]})]}),!s&&a.jsxs("div",{className:"text-center p-4 bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200",children:[a.jsxs("div",{className:`text-xl ${i(d)}`,children:[d.toFixed(1),"%"]}),a.jsxs("div",{className:"text-sm text-gray-600 font-medium flex items-center justify-center gap-1",children:["Volatility",a.jsxs(st,{children:[a.jsx(nt,{children:a.jsx(Jr,{className:"h-3 w-3 text-gray-400"})}),a.jsx(Ye,{children:a.jsx("p",{children:"Measure of risk and unpredictability"})})]})]})]})]}),s&&a.jsxs("div",{className:"text-center p-3 bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200",children:[a.jsxs("div",{className:`text-lg ${i(d)}`,children:[d.toFixed(1),"% Volatility"]}),a.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Measure of risk and unpredictability"})]}),a.jsxs("div",{className:s?"space-y-4":"flex gap-4",children:[a.jsxs("div",{className:`${s?"w-full":"flex-[2]"} ${s?"p-3":"p-4"} bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200 flex flex-col`,children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"All Tags"}),a.jsx(dr,{maxHeight:s?"max-h-24":"max-h-36",className:"w-full",showIndicators:!0,children:a.jsx("div",{className:`${s?"flex flex-wrap gap-2 px-1 pt-3":"grid grid-cols-2 gap-2 px-3 pt-3"}`,children:t.tags.map(y=>a.jsx(jt,{variant:"outline",className:`bg-white border-purple-300 text-purple-700 ${s?"text-xs px-2 py-1":"text-xs"} justify-center h-fit py-1.5`,children:yk(y)},y))})})]}),a.jsxs("div",{className:`${s?"grid grid-cols-2 gap-4":"flex flex-col gap-4 flex-1"}`,children:[a.jsxs("div",{className:`text-center ${s?"p-3":"p-4"} bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200`,children:[a.jsxs("div",{className:`${s?"text-base":"text-lg"} ${l(h)}`,children:[h.toFixed(1),"%"]}),a.jsxs("div",{className:"text-xs text-gray-600 font-medium flex items-center justify-center gap-1",children:["Floor Rate",!s&&a.jsxs(st,{children:[a.jsx(nt,{children:a.jsx(Jr,{className:"h-3 w-3 text-gray-400"})}),a.jsx(Ye,{children:a.jsx("p",{children:"Lowest item value as percentage of box price"})})]})]})]}),a.jsxs("div",{className:`text-center ${s?"p-3":"p-4"} bg-purple-50 backdrop-blur-sm rounded-xl shadow-lg border border-purple-200`,children:[a.jsxs("div",{className:`${s?"text-base":"text-lg"} font-bold text-red-600`,children:[b.toFixed(1),"%"]}),a.jsxs("div",{className:"text-xs text-gray-600 font-medium flex items-center justify-center gap-1",children:["Loss Chance",!s&&a.jsxs(st,{children:[a.jsx(nt,{children:a.jsx(Jr,{className:"h-3 w-3 text-gray-400"})}),a.jsx(Ye,{children:a.jsx("p",{children:"Probability of getting items worth less than box price"})})]})]})]})]})]}),f.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:`${s?"text-base":"text-lg"} font-semibold mb-3 text-gray-800`,children:"All Items (by Drop Rate & Value)"}),a.jsx(dr,{maxHeight:s?"max-h-60":"max-h-80",className:"space-y-2",children:a.jsxs("div",{className:"px-2 pt-3",children:[f.slice(0,50).map((y,w)=>a.jsxs("div",{className:`flex items-center gap-2 p-2 bg-purple-50 rounded border border-purple-200 mb-2
                                    ${s?"text-xs min-h-[44px] hover:scale-[1.02]":"text-sm hover:scale-[1.03]"}
                                    transition-transform origin-center relative z-10 overflow-visible cursor-pointer`,children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("div",{className:`font-medium truncate text-gray-800 ${s?"text-xs":""}`,children:y.name})}),a.jsx("div",{className:"text-purple-600 font-mono text-xs",children:u(y.drop_chance)}),a.jsx("div",{className:"text-purple-600 font-semibold text-xs min-w-0",children:ea(y.value)})]},w)),f.length>50&&a.jsxs("div",{className:`text-center text-gray-500 ${s?"text-xs":"text-sm"} py-2`,children:["...and ",f.length-50," more items"]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:`${s?"text-base":"text-lg"} font-semibold mb-3 flex items-center gap-2 text-gray-800`,children:[a.jsx(Ri,{className:`${s?"h-4 w-4":"h-5 w-5"} text-purple-500`}),"Jackpot Items",!s&&a.jsxs(st,{children:[a.jsx(nt,{children:a.jsx(Jr,{className:"h-4 w-4 text-gray-400"})}),a.jsx(Ye,{children:a.jsx("p",{children:"High-value items with rare drop rates"})})]})]}),a.jsx(ch,{stats:x,title:"Jackpot Items",type:"jackpot"}),a.jsx(dr,{maxHeight:p.length<=3?"max-h-none":s?"max-h-48":"max-h-60",className:"space-y-2",showIndicators:p.length>3,children:a.jsx("div",{className:"px-2 pt-3",children:p&&p.length>0?p.map((y,w)=>a.jsxs("div",{className:`flex items-center gap-2 p-2 bg-purple-50 rounded border border-purple-200 mb-2
                                    ${s?"min-h-[44px] hover:scale-[1.02]":"hover:scale-[1.03]"}
                                    transition-transform origin-center relative z-10 overflow-visible cursor-pointer`,children:[a.jsx("div",{className:`${s?"w-10 h-10":"w-12 h-12"} bg-purple-100 rounded flex items-center justify-center flex-shrink-0 p-1`,children:y.image?a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-contain rounded",loading:"lazy",referrerPolicy:"no-referrer"}):a.jsx(Ri,{className:`${s?"w-3 h-3":"w-4 h-4"} text-purple-500`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:`font-medium ${s?"text-xs":"text-sm"} truncate text-gray-800`,children:y.name}),a.jsxs("div",{className:"text-xs text-purple-600 font-mono",children:["Drop Rate: ",u(y.drop_chance)]})]}),a.jsx("div",{className:`text-purple-600 font-semibold ${s?"text-xs":"text-sm"}`,children:ea(y.value)})]},w)):a.jsx("div",{className:`text-gray-500 text-center py-4 ${s?"text-sm":""}`,children:"No jackpot items available"})})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:`${s?"text-base":"text-lg"} font-semibold mb-3 flex items-center gap-2 text-gray-800`,children:[a.jsx(Xc,{className:`${s?"h-4 w-4":"h-5 w-5"} text-red-500`}),"Common Items",!s&&a.jsxs(st,{children:[a.jsx(nt,{children:a.jsx(Jr,{className:"h-4 w-4 text-gray-400"})}),a.jsx(Ye,{children:a.jsx("p",{children:"Frequently dropped items with lower values"})})]})]}),a.jsx(ch,{stats:v,title:"Common Items",type:"common"}),a.jsx(dr,{maxHeight:g.length<=3?"max-h-none":s?"max-h-48":"max-h-60",className:"space-y-2",showIndicators:g.length>3,children:a.jsx("div",{className:"px-2 pt-3",children:g&&g.length>0?g.map((y,w)=>a.jsxs("div",{className:`flex items-center gap-2 p-2 bg-red-50 rounded border border-red-200 mb-2
                                    ${s?"min-h-[44px] hover:scale-[1.02]":"hover:scale-[1.03]"}
                                    transition-transform origin-center relative z-10 overflow-visible cursor-pointer`,children:[a.jsx("div",{className:`${s?"w-10 h-10":"w-12 h-12"} bg-red-100 rounded flex items-center justify-center flex-shrink-0 p-1`,children:y.image?a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-contain rounded",loading:"lazy",referrerPolicy:"no-referrer"}):a.jsx(Xc,{className:`${s?"w-3 h-3":"w-4 h-4"} text-red-500`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:`font-medium ${s?"text-xs":"text-sm"} truncate text-gray-800`,children:y.name}),a.jsxs("div",{className:"text-xs text-red-600 font-mono",children:["Drop Rate: ",u(y.drop_chance)]})]}),a.jsx("div",{className:`text-red-600 font-semibold ${s?"text-xs":"text-sm"}`,children:ea(y.value)})]},w)):a.jsx("div",{className:`text-gray-500 text-center py-4 ${s?"text-sm":""}`,children:"No common items available"})})})]})]})]})]})})},bk=({providerId:t,boxName:e,className:r=""})=>(t&&Oe[t],Tt()?a.jsxs("div",{className:`flex items-center gap-2 overflow-x-auto py-3 px-1 ${r}`,children:[a.jsxs(ca,{to:"/hub",className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-full px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 hover:border-purple-200 hover:text-purple-700 transition-all duration-200 shadow-sm flex-shrink-0",children:[a.jsx(Gc,{className:"w-4 h-4"}),a.jsx("span",{children:"Hub"})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-full px-3 py-2 text-sm font-bold text-gray-900 shadow-sm flex-shrink-0",children:a.jsx("span",{className:"truncate max-w-[120px]",children:e})})]})]}):a.jsxs("nav",{className:`flex items-center space-x-2 text-sm ${r}`,children:[a.jsxs(ca,{to:"/hub",className:"flex items-center gap-2 hover:text-purple-600 transition-colors text-base font-medium text-gray-600",children:[a.jsx(Gc,{className:"w-4 h-4"}),a.jsx("span",{children:"Hub"})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"font-bold text-gray-900 text-lg max-w-[300px] truncate",children:e})]})]})),wk=()=>a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[a.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[a.jsx(_e,{className:"h-10 w-32"}),a.jsx(_e,{className:"h-6 w-96"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(_e,{className:"h-96 w-full"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(_e,{className:"h-8 w-3/4"}),a.jsx(_e,{className:"h-6 w-1/2"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(_e,{className:"h-16 w-full"}),a.jsx(_e,{className:"h-16 w-full"}),a.jsx(_e,{className:"h-16 w-full"})]}),a.jsx(_e,{className:"h-32 w-full"})]})]})]}),_k=()=>{const{boxSlug:t}=wl(),e=Ah();Tt();const{boxData:r,loading:s,error:n}=pk(t||""),{suggestions:o,loading:i,findSuggestions:l}=mk();if(m.useEffect(()=>{!s&&!r&&!n&&t&&l(t)},[s,r,n,t,l]),s)return a.jsx(Er,{className:"min-h-screen",children:a.jsx(wk,{})});if(n)return a.jsx(Er,{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"text-red-600 text-xl",children:["Error loading mystery box: ",n]}),a.jsxs(de,{onClick:()=>e("/hub",{replace:!0}),variant:"outline",children:[a.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Back to Hub"]})]})});if(!r)return a.jsxs(a.Fragment,{children:[a.jsxs(Oo,{children:[a.jsx("title",{children:"Mystery Box Not Found | Unpacked.gg"}),a.jsx("meta",{name:"description",content:"The requested mystery box could not be found. Browse our collection of mystery boxes with detailed drop rate analysis."})]}),a.jsx(Er,{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-6 max-w-2xl mx-auto px-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-red-600 text-xl font-semibold",children:"Mystery box not found"}),a.jsxs("p",{className:"text-gray-600",children:[`We couldn't find a box matching "`,t,'"']})]}),o.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 justify-center text-gray-700",children:[a.jsx(Ln,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Did you mean one of these?"})]}),a.jsx("div",{className:"grid gap-3 max-w-md mx-auto",children:o.map((d,h)=>a.jsxs(de,{variant:"outline",className:"justify-between text-left h-auto p-4",onClick:()=>e(`/hub/box/${d.slug}`,{replace:!0}),children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium text-sm",children:d.box_name}),a.jsx("span",{className:"text-xs text-gray-500",children:d.provider_name})]}),a.jsxs("div",{className:"text-xs text-purple-600 font-mono",children:[Math.round(d.score*100),"% match"]})]},h))})]}),i&&a.jsxs("div",{className:"flex items-center gap-2 justify-center text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),a.jsx("span",{className:"text-sm",children:"Finding similar boxes..."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsxs(de,{onClick:()=>e("/hub",{replace:!0}),variant:"outline",children:[a.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Back to Hub"]}),a.jsx(de,{onClick:()=>e("/hub",{replace:!0}),variant:"default",children:"Browse All Boxes"})]})]})})]});const c=Oe[r.provider],u=yc(r.box_name);return a.jsxs(a.Fragment,{children:[a.jsxs(Oo,{children:[a.jsxs("title",{children:[r.box_name," (",r.provider==="rillabox"?"RillaBox":r.provider==="hypedrop"?"Hypedrop":r.provider==="casesgg"?"Cases.GG":r.provider==="luxdrop"?"Luxdrop":"Mystery Box",") - Mystery Box Analysis | Unpacked.gg"]}),a.jsx("meta",{name:"description",content:`Detailed analysis of ${r.box_name} mystery box from ${c==null?void 0:c.displayName}. EV: ${r.expected_value_percent_of_price.toFixed(1)}%, Floor Rate: ${r.floor_rate_percent.toFixed(1)}%, Price: $${r.box_price}. View drop rates and item statistics.`}),a.jsx("meta",{name:"keywords",content:`${r.box_name}, ${c==null?void 0:c.displayName}, mystery box, drop rates, expected value, ${r.category}, unboxing`}),a.jsx("meta",{property:"og:title",content:`${r.box_name} (${c==null?void 0:c.displayName}) - Mystery Box Analysis | Unpacked.gg`}),a.jsx("meta",{property:"og:description",content:`${r.expected_value_percent_of_price.toFixed(1)}% EV  $${r.box_price}  ${r.floor_rate_percent.toFixed(1)}% Floor Rate  Detailed drop rate analysis`}),a.jsx("meta",{property:"og:type",content:"product"}),a.jsx("meta",{property:"og:image",content:r.box_image||"https://unpacked.gg/lovable-uploads/5287436e-c9c8-46af-a4b6-4b553d93c81a.png"}),a.jsx("meta",{property:"og:url",content:`https://unpacked.gg/hub/box/${u}`}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:`${r.box_name} (${c==null?void 0:c.displayName}) - Mystery Box Analysis | Unpacked.gg`}),a.jsx("meta",{name:"twitter:description",content:`${r.expected_value_percent_of_price.toFixed(1)}% EV  $${r.box_price}  Comprehensive drop rate analysis`}),a.jsx("meta",{name:"twitter:image",content:r.box_image||"https://unpacked.gg/lovable-uploads/5287436e-c9c8-46af-a4b6-4b553d93c81a.png"}),a.jsx("link",{rel:"canonical",href:`https://unpacked.gg/hub/box/${u}`}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:r.box_name,image:r.box_image,description:`Mystery box with ${r.expected_value_percent_of_price.toFixed(1)}% expected value and ${r.floor_rate_percent.toFixed(1)}% floor rate.`,brand:{"@type":"Brand",name:c==null?void 0:c.displayName},offers:{"@type":"Offer",price:r.box_price,priceCurrency:"USD",availability:"https://schema.org/InStock"},category:r.category,aggregateRating:{"@type":"AggregateRating",ratingValue:Math.min(5,r.expected_value_percent_of_price/20),ratingCount:1}})}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://unpacked.gg"},{"@type":"ListItem",position:2,name:"Mystery Boxes Hub",item:"https://unpacked.gg/hub"},{"@type":"ListItem",position:3,name:c==null?void 0:c.displayName,item:`https://unpacked.gg/hub/${r.provider}`},{"@type":"ListItem",position:4,name:r.box_name}]})})]}),a.jsx(Er,{className:"min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(de,{onClick:()=>e("/hub",{replace:!0}),variant:"outline",className:"flex items-center gap-2 shrink-0",children:[a.jsx(Ti,{className:"h-4 w-4"}),"Back to Hub"]})}),a.jsx(bk,{providerId:r.provider,boxName:r.box_name,className:"text-sm"})]}),a.jsx(vk,{box:r})]})})]})},jk=()=>{var p;const{provider:t}=wl();if(!t||!(t in Oe))return a.jsx(_l,{to:"/hub",replace:!0});const e=Oe[t],{boxesData:r,loading:s}=up([t]),n=20,[o,i]=m.useState(1),l=Math.ceil(r.length/n),c=(o-1)*n,u=r.slice(c,c+n),d=g=>{i(g)},h=r.sort((g,x)=>x.expected_value_percent_of_price-g.expected_value_percent_of_price).slice(0,5),f=r.length>0?r.reduce((g,x)=>g+x.expected_value_percent_of_price,0)/r.length:0;return a.jsxs(a.Fragment,{children:[a.jsxs(Oo,{children:[a.jsxs("title",{children:[e.displayName," Mystery Boxes - Drop Rates & Expected Value | Unpacked.gg"]}),a.jsx("meta",{name:"description",content:`Discover the best ${e.displayName} mystery boxes with comprehensive drop rate analysis. View expected values, volatility, and find profitable boxes with detailed statistics.`}),a.jsx("meta",{name:"keywords",content:`${e.displayName}, mystery boxes, drop rates, expected value, unboxing, case opening`}),a.jsx("meta",{property:"og:title",content:`${e.displayName} Mystery Boxes | Unpacked.gg`}),a.jsx("meta",{property:"og:description",content:`Find the best ${e.displayName} mystery boxes with detailed analytics and drop rate analysis.`}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{name:"twitter:title",content:`${e.displayName} Mystery Boxes | Unpacked.gg`}),a.jsx("meta",{name:"twitter:description",content:`Comprehensive ${e.displayName} mystery box analytics and drop rate analysis.`}),a.jsx("link",{rel:"canonical",href:`https://unpacked.gg/hub/${t}`})]}),a.jsx(Er,{className:"min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:`text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r ${e.gradient} bg-clip-text text-transparent`,children:[e.displayName," Mystery Boxes"]}),a.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:["Comprehensive analysis of ",e.displayName," mystery boxes with drop rates, expected values, and volatility metrics."]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(Ne,{className:`${e.borderColor} border-2`,children:[a.jsx(Ue,{className:"pb-2",children:a.jsx(rt,{className:"text-sm font-medium text-gray-600",children:"Total Boxes"})}),a.jsx(Re,{children:a.jsx("div",{className:`text-2xl font-bold ${e.textColor}`,children:r.length})})]}),a.jsxs(Ne,{className:`${e.borderColor} border-2`,children:[a.jsx(Ue,{className:"pb-2",children:a.jsx(rt,{className:"text-sm font-medium text-gray-600",children:"Average EV"})}),a.jsx(Re,{children:a.jsxs("div",{className:`text-2xl font-bold ${e.textColor}`,children:[f.toFixed(1),"%"]})})]}),a.jsxs(Ne,{className:`${e.borderColor} border-2`,children:[a.jsx(Ue,{className:"pb-2",children:a.jsx(rt,{className:"text-sm font-medium text-gray-600",children:"Best Box EV"})}),a.jsx(Re,{children:a.jsxs("div",{className:`text-2xl font-bold ${e.textColor}`,children:[((p=h[0])==null?void 0:p.expected_value_percent_of_price.toFixed(1))||"0","%"]})})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:["All ",e.displayName," Mystery Boxes"]}),s?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((g,x)=>a.jsx("div",{className:"h-96 bg-gray-200 animate-pulse rounded-xl"},x))}):a.jsx(al,{boxes:u,itemsPerPage:20,currentPage:o})]}),l>1&&a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx("div",{className:"flex gap-2",children:[...Array(l)].map((g,x)=>a.jsx("button",{onClick:()=>d(x+1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${o===x+1?`${e.bgColor} ${e.textColor}`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:x+1},x))})})]})})]})},Sk=()=>{const t=Cx();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx(ca,{to:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Ck=()=>{const{boxSlug:t}=wl();return a.jsx(_l,{to:`/hub/box/${t}`,replace:!0})},Tk=new Mv,Nk=()=>a.jsx(Lv,{client:Tk,children:a.jsx(Ff,{children:a.jsxs(fr,{children:[a.jsx(Uy,{}),a.jsx(xv,{}),a.jsxs(Tx,{children:[a.jsx(Xr,{path:"/",element:a.jsx(_l,{to:"/hub",replace:!0})}),a.jsx(Xr,{path:"/hub",element:a.jsx(dk,{})}),a.jsx(Xr,{path:"/hub/:provider",element:a.jsx(jk,{})}),a.jsx(Xr,{path:"/hub/box/:boxSlug",element:a.jsx(_k,{})}),a.jsx(Xr,{path:"/hub/:provider/box/:boxSlug",element:a.jsx(Ck,{})}),a.jsx(Xr,{path:"*",element:a.jsx(Sk,{})})]})]})})}),aa=document.getElementById("root"),uh=a.jsx(Nx,{children:a.jsx(Nk,{})});aa.innerHTML.trim()!==""?Mh(aa,uh):$h(aa).render(uh);
